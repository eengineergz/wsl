"swf2js"in window||function(t){var e=t.document,r=Math,o=r.min,a=r.max,n=r.floor,i=r.ceil,s=r.pow,c=r.random,l=r.atan2,p=r.sqrt,g=r.cos,u=r.sin,f=r.log,h=r.abs,d=r.SQRT2,v=r.LN2/2,y=.29756328478758615,b=r.PI,m=Number,S=String.fromCharCode,A=isNaN,I=setTimeout,C=clearTimeout,x=setInterval,k=clearInterval,T=Function,M=t.alert,F=t.console,B="btoa"in t,U=!t.WebGLRenderingContext||e.createElement("canvas").getContext("webgl");U=!1;var w,_=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.setTimeout,Y=0,P=0,O=[],D=[],X=0,L=new Date,E=t.navigator,R=E.userAgent,H=R.indexOf("Android")>0,N=R.indexOf("Android 4.")>0,j=R.indexOf("iPhone")>0||R.indexOf("iPod")>0,G=R.indexOf("Chrome")>0,Z=H||j,V=void 0!==(new XMLHttpRequest).responseType,W=t.ArrayBuffer,z=t.devicePixelRatio||1,K=.8*z,q=null,J=null,Q="mousedown",$="mousemove",tt="mouseup";Z&&(Q="touchstart",$="touchmove",tt="touchend");var et=H,rt=e.createElement("canvas");if(rt.width=1,rt.height=1,w=rt.getContext("2d"),H){var ot=w.createImageData(1,1),at=ot.data;at[0]=128,at[3]=128,w.putImageData(ot,0,0),at=(ot=w.getImageData(0,0,1,1)).data,et=255===at[0],ot=null,at=null}"function"!=typeof Object.defineProperty&&(Object.defineProperty=function(t,e,r){return"value"in r&&(t[e]=r.value),"get"in r&&t.__defineGetter__(e,r.get),"set"in r&&t.__defineSetter__(e,r.set),t}),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(t,e){for(var r in e)e.hasOwnProperty(r)&&Object.defineProperty(t,r,e[r]);return t}),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf=function(t){return t.__proto__}),"function"!=typeof Object.setPrototypeOf&&(Object.setPrototypeOf=function(t,e){return t.__proto__=e,t});var nt=new T('var a="zKV33~jZ4zN=~ji36XazM93y!{~k2y!o~k0ZlW6zN?3Wz3W?{EKzK[33[`y|;-~j^YOTz$!~kNy|L1$353~jV3zKk3~k-4P4zK_2+~jY4y!xYHR~jlz$_~jk4z$e3X5He<0y!wy|X3[:~l|VU[F3VZ056Hy!nz/m1XD61+1XY1E1=1y|bzKiz!H034zKj~mEz#c5ZA3-3X$1~mBz$$3~lyz#,4YN5~mEz#{ZKZ3V%7Y}!J3X-YEX_J(3~mAz =V;kE0/y|F3y!}~m>z/U~mI~j_2+~mA~jp2;~m@~k32;~m>V}2u~mEX#2x~mBy+x2242(~mBy,;2242(~may->2&XkG2;~mIy-_2&NXd2;~mGz,{4<6:.:B*B:XC4>6:.>B*BBXSA+A:X]E&E<~r#z+625z s2+zN=`HXI@YMXIAXZYUM8X4K/:Q!Z&33 3YWX[~mB`{zKt4z (zV/z 3zRw2%Wd39]S11z$PAXH5Xb;ZQWU1ZgWP%3~o@{Dgl#gd}T){Uo{y5_d{e@}C(} WU9|cB{w}bzvV|)[} H|zT}d||0~{]Q|(l{|x{iv{dw}(5}[Z|kuZ }cq{{y|ij}.I{idbof%cu^d}Rj^y|-M{ESYGYfYsZslS`?ZdYO__gLYRZ&fvb4oKfhSf^d<Yeasc1f&a=hnYG{QY{D`Bsa|u,}Dl|_Q{C%xK|Aq}C>|c#ryW=}eY{L+`)][YF_Ub^h4}[X|?r|u_ex}TL@YR]j{SrXgo*|Gv|rK}B#mu{R1}hs|dP{C7|^Qt3|@P{YVV |8&}#D}ef{e/{Rl|>Hni}R1{Z#{D[}CQlQ||E}[s{SG_+i8eplY[=[|ec[$YXn#`hcm}YR|{Ci(_[ql|?8p3]-}^t{wy}4la&pc|3e{Rp{LqiJ],] `kc(]@chYnrM`O^,ZLYhZB]ywyfGY~aex!_Qww{a!|)*lHrM{N+n&YYj~Z b c#e_[hZSon|rOt`}hBXa^i{lh|<0||r{KJ{kni)|x,|0auY{D!^Sce{w;|@S|cA}Xn{C1h${E]Z-XgZ*XPbp]^_qbH^e[`YM|a||+=]!Lc}]vdBc=j-YSZD]YmyYLYKZ9Z>Xcczc2{Yh}9Fc#Z.l{}(D{G{{mRhC|L3b#|xK[Bepj#ut`H[,{E9Yr}1b{[e]{ZFk7[ZYbZ0XL]}Ye[(`d}c!|*y`Dg=b;gR]Hm=hJho}R-[n}9;{N![7k_{UbmN]rf#pTe[x8}!Qcs_rs[m`|>N}^V})7{^r|/E}),}HH{OYe2{Skx)e<_.cj.cjoMhc^d}0uYZd!^J_@g,[[[?{i@][|3S}Yl3|!1|eZ|5IYw|1D}e7|Cv{OHbnx-`wvb[6[4} =g+k:{C:}ed{S]|2M]-}WZ|/q{LF|dYu^}Gs^c{Z=}h>|/i|{W]:|ip{N:|zt|S<{DH[p_tvD{N<[8Axo{X4a.^o^X>Yfa59`#ZBYgY~_t^9`jZHZn`>G[oajZ;X,i)Z.^~YJe ZiZF^{][[#Zt^|]Fjx]&_5dddW]P0C[-]}]d|y {C_jUql] |OpaA[Z{lp|rz}:Mu#]_Yf6{Ep?f5`$[6^D][^u[$[6^.Z8]]ePc2U/=]K^_+^M{q*|9tYuZ,s(dS{i=|bNbB{uG}0jZOa:[-]dYtu3]:]<{DJ_SZIqr_`l=Yt`gkTnXb3d@kiq0a`Z{|!B|}e}Ww{Sp,^Z|0>_Z}36|]A|-t}lt{R6pi|v8hPu#{C>YOZHYmg/Z4nicK[}hF_Bg|YRZ7c|crkzYZY}_iXcZ.|)U|L5{R~qi^Uga@Y[xb}&qdbd6h5|Btw[}c<{Ds53[Y7]?Z<|e0{L[ZK]mXKZ#Z2^tavf0`PE[OSOaP`4gi`qjdYMgys/?[nc,}EEb,eL]g[n{E_b/vcvgb.{kcwi`~v%|0:|iK{Jh_vf5lb}KL|(oi=LrzhhY_^@`zgf[~g)[J_0fk_V{T)}I_{D&_/d9W/|MU[)f$xW}?$xr4<{Lb{y4}&u{XJ|cm{Iu{jQ}CMkD{CX|7A}G~{kt)nB|d5|<-}WJ}@||d@|Iy}Ts|iL|/^|no|0;}L6{Pm]7}$zf:|r2}?C_k{R(}-w|`G{Gy[g]bVje=_0|PT{^Y^yjtT[[[l!Ye_`ZN]@[n_)j3nEgMa]YtYpZy].d-Y_cjb~Y~[nc~sCi3|zg}B0}do{O^{|$`_|D{}U&|0+{J3|8*]iayx{a{xJ_9|,c{Ee]QXlYb]$[%YMc*]w[aafe]aVYi[fZEii[xq2YQZHg]Y~h#|Y:thre^@^|_F^CbTbG_1^qf7{L-`VFx Zr|@EZ;gkZ@slgko`[e}T:{Cu^pddZ_`yav^Ea+[#ZBbSbO`elQfLui}.F|txYcbQ`XehcGe~fc^RlV{D_0ZAej[l&jShxG[ipB_=u:eU}3e8[=j|{D(}dO{Do[BYUZ0/]AYE]ALYhZcYlYP/^-^{Yt_1_-;YT`P4BZG=IOZ&]H[e]YYd[9^F[1YdZxZ?Z{Z<]Ba2[5Yb[0Z4l?]d_;_)a?YGEYiYv`_XmZs4ZjY^Zb]6gqGaX^9Y}dXZr[g|]Y}K aFZp^k^F]M`^{O1Ys]ZCgCv4|E>}8eb7}l`{L5[Z_faQ|c2}Fj}hw^#|Ng|B||w2|Sh{v+[G}aB|MY}A{|8o}X~{E8paZ:]i^Njq]new)`-Z>haounWhN}c#{DfZ|fK]KqGZ=:u|fqoqcv}2ssm}.r{]{nIfV{JW)[K|,Z{Uxc|]l_KdCb%]cfobya3`p}G^|LZiSC]U|(X|kBlVg[kNo({O:g:|-N|qT}9?{MBiL}Sq{`P|3a|u.{Uaq:{_o|^S}jX{Fob0`;|#y_@[V[K|cw[<_ }KU|0F}d3|et{Q7{LuZttsmf^kYZ`Af`}$x}U`|Ww}d]| >}K,r&|XI|*e{C/a-bmr1fId4[;b>tQ_:]hk{b-pMge]gfpo.|(w[jgV{EC1Z,YhaY^q,_G[c_g[J0YX]`[h^hYK^_Yib,` {i6vf@YM^hdOKZZn(jgZ>bzSDc^Z%[[o9[2=/YHZ(_/Gu_`*|8z{DUZxYt^vuvZjhi^lc&gUd4|<UiA`z]$b/Z?l}YI^jaHxe|;F}l${sQ}5g}hA|e4}?o{ih}Uz{C)jPe4]H^J[Eg[|AMZMlc}:,{iz}#*|gc{Iq|/:|zK{l&}#u|myd{{M&v~nV};L|(g|I]ogddb0xsd7^V})$uQ{HzazsgxtsO^l}F>ZB]r|{7{j@cU^{{CbiYoHlng]f+nQ[bkTn/}<-d9q {KXadZYo+n|l[|lc}V2{[a{S4Zam~Za^`{HH{xx_SvF|ak=c^[v^7_rYT`ld@]:_ub%[$[m](Shu}G2{E.ZU_L_R{tz`vj(f?^}hswz}GdZ}{S:h`aD|?W|`dgG|if{a8|J1{N,}-Ao3{H#{mfsP|[ bzn+}_Q{MT{u4kHcj_q`eZj[8o0jy{p7}C|[}l){MuYY{|Ff!Ykn3{rT|m,^R|,R}$~Ykgx{P!]>iXh6[l[/}Jgcg{JYZ.^qYfYIZl[gZ#Xj[Pc7YyZD^+Yt;4;`e8YyZVbQ7YzZxXja.7SYl[s]2^/Ha$[6ZGYrb%XiYdf2]H]kZkZ*ZQ[ZYS^HZXcCc%Z|[(bVZ]]:OJQ_DZCg<[,]%Zaa [g{C00HY[c%[ChyZ,Z_`PbXa+eh`^&jPi0a[ggvhlekL]w{Yp^v}[e{~;k%a&k^|nR_z_Qng}[E}*Wq:{k^{FJZpXRhmh3^p>de^=_7`|ZbaAZtdhZ?n4ZL]u`9ZNc3g%[6b=e.ZVfC[ZZ^^^hD{E(9c(kyZ=bb|Sq{k`|vmr>izlH[u|e`}49}Y%}FT{[z{Rk}Bz{TCc/lMiAqkf(m$hDc;qooi[}^o:c^|Qm}a_{mrZ(pA`,}<2sY| adf_%|}`}Y5U;}/4|D>|$X{jw{C<|F.hK|*A{MRZ8Zsm?imZm_?brYWZrYx`yVZc3a@f?aK^ojEd {bN}/3ZH]/$YZhm^&j 9|(S|b]mF}UI{q&aM]LcrZ5^.|[j`T_V_Gak}9J[ ZCZD|^h{N9{~&[6Zd{}B}2O|cv]K}3s}Uy|l,fihW{EG`j_QOp~Z$F^zexS`dcISfhZBXP|.vn|_HYQ|)9|cr]<`&Z6]m_(ZhPcSg>`Z]5`~1`0Xcb4k1{O!bz|CN_T{LR|a/gFcD|j<{Z._[f)mPc:1`WtIaT1cgYkZOaVZOYFrEe[}T$}Ch}mk{K-^@]fH{Hdi`c*Z&|Kt{if[C{Q;{xYB`dYIX:ZB[}]*[{{p9|4GYRh2ao{DS|V+[zd$`F[ZXKadb*A] Ys]Maif~a/Z2bmclb8{Jro_rz|x9cHojbZ{GzZx_)]:{wAayeDlx}<=`g{H1{l#}9i|)=|lP{Qq}.({La|!Y{i2EZfp=c*}Cc{EDvVB|;g}2t{W4av^Bn=]ri,|y?|3+}T*ckZ*{Ffr5e%|sB{lx^0]eZb]9[SgAjS_D|uHZx]dive[c.YPkcq/}db{EQh&hQ|eg}G!ljil|BO]X{Qr_GkGl~YiYWu=c3eb}29v3|D|}4i||.{Mv})V{SP1{FX}CZW6{cm|vO{pS|e#}A~|1i}81|Mw}es|5[}3w{C`h9aL]o{}p[G`>i%a1Z@`Ln2bD[$_h`}ZOjhdTrH{[j_:k~kv[Sdu]CtL}41{I |[[{]Zp$]XjxjHt_eThoa#h>sSt8|gK|TVi[Y{t=}Bs|b7Zpr%{gt|Yo{CS[/{iteva|cf^hgn}($_c^wmb^Wm+|55jrbF|{9^ q6{C&c+ZKdJkq_xOYqZYSYXYl`8]-cxZAq/b%b*_Vsa[/Ybjac/OaGZ4fza|a)gY{P?| I|Y |,pi1n7}9bm9ad|=d{aV|2@[(}B`d&|Uz}B}{`q|/H|!JkM{FU|CB|.{}Az}#P|lk}K{|2rk7{^8^?`/|k>|Ka{Sq}Gz}io{DxZh[yK_#}9<{TRdgc]`~Z>JYmYJ]|`!ZKZ]gUcx|^E[rZCd`f9oQ[NcD_$ZlZ;Zr}mX|=!|$6ZPZYtIo%fj}CpcN|B,{VDw~gb}@hZg`Q{LcmA[(bo`<|@$|o1|Ss}9Z_}tC|G`{F/|9nd}i=}V-{L8aaeST]daRbujh^xlpq8|}zs4bj[S`J|]?G{P#{rD{]I`OlH{Hm]VYuSYUbRc*6[j`8]pZ[bt_/^Jc*[<Z?YE|Xb|?_Z^Vcas]h{t9|Uwd)_(=0^6Zb{Nc} E[qZAeX[a]P^|_J>e8`W^j_Y}R{{Jp__]Ee#e:iWb9q_wKbujrbR}CY`,{mJ}gz{Q^{t~N|? gSga`V_||:#mi}3t|/I`X{N*|ct|2g{km}gi|{={jC}F;|E}{ZZjYf*frmu}8Tdroi{T[|+~}HG{cJ}DM{Lp{Ctd&}$hi3|FZ| m}Kr|38}^c|m_|Tr{Qv|36}?Up>|;S{DV{k_as}BK{P}}9p|t`jR{sAm4{D=b4pWa[}Xi{EjwEkI}3S|E?u=X0{jf} S|NM|JC{qo^3cm]-|JUx/{Cj{s>{Crt[UXuv|D~|j|d{YXZR}Aq}0r}(_{pJfi_z}0b|-vi)Z mFe,{f4|q`b{}^Z{HM{rbeHZ|^x_o|XM|L%|uFXm}@C_{{Hhp%a7|0p[Xp+^K}9U{bP}: tT}B|}+$|b2|[^|~h{FAby[`{}xgygrt~h1[li`c4vz|,7p~b(|mviN}^pg[{N/|g3|^0c,gE|f%|7N{q[|tc|TKA{LU}I@|AZp(}G-sz{F |qZ{}F|f-}RGn6{Z]_5})B}UJ{FFb2]4ZI@v=k,]t_Dg5Bj]Z-]L]vrpdvdGlk|gF}G]|IW}Y0[G| /bo|Te^,_B}#n^^{QHYI[?hxg{[`]D^IYRYTb&kJ[cri[g_9]Ud~^_]<p@_e_XdNm-^/|5)|h_{J;{kacVopf!q;asqd}n)|.m|bf{QW|U)}b+{tL|w``N|to{t ZO|T]jF}CB|0Q{e5Zw|k |We}5:{HO{tPwf_uajjBfX}-V_C_{{r~gg|Ude;s+}KNXH}! `K}eW{Upwbk%ogaW}9EYN}YY|&v|SL{C3[5s.]Y]I]u{M6{pYZ`^,`ZbCYR[1mNg>rsk0Ym[jrE]RYiZTr*YJ{Ge|%-lf|y(`=[t}E6{k!|3)}Zk} ][G{E~cF{u3U.rJ|a9p#o#ZE|?|{sYc#vv{E=|LC}cu{N8`/`3`9rt[4|He{cq|iSYxY`}V |(Q|t4{C?]k_Vlvk)BZ^r<{CL}#h}R+[<|i=}X|{KAo]|W<`K{NW|Zx}#;|fe{IMr<|K~tJ_x}AyLZ?{GvbLnRgN}X&{H7|x~}Jm{]-| GpNu0}.ok>|c4{PYisrDZ|fwh9|hfo@{H~XSbO]Odv]%`N]b1Y]]|eIZ}_-ZA]aj,>eFn+j[aQ_+]h[J_m_g]%_wf.`%k1e#Z?{CvYu_B^|gk`Xfh^M3`afGZ-Z|[m{L}|k3cp[it ^>YUi~d>{T*}YJ{Q5{Jxa$hg|%4`}|LAgvb }G}{P=|<;Ux{_skR{cV|-*|s-{Mp|XP|$G|_J}c6cM{_=_D|*9^$ec{V;|4S{qO|w_|.7}d0|/D}e}|0G{Dq]Kdp{}dfDi>}B%{Gd|nl}lf{C-{y}|ANZr}#={T~|-(}c&{pI|ft{lsVP}){|@u}!W|bcmB{d?|iW|:dxj{PSkO|Hl]Li:}VYk@|2={fnWt{M3`cZ6|)}|Xj}BYa?vo{e4|L7|B7{L7|1W|lvYO}W8nJ|$Vih|{T{d*_1|:-n2dblk``fT{Ky|-%}m!|Xy|-a{Pz}[l{kFjz|iH}9N{WE{x,|jz}R {P|{D)c=nX|Kq|si}Ge{sh|[X{RF{t`|jsr*fYf,rK|/9}$}}Nf{y!1|<Std}4Wez{W${Fd_/^O[ooqaw_z[L`Nbv[;l7V[ii3_PeM}.h^viqYjZ*j1}+3{bt{DR[;UG}3Og,rS{JO{qw{d<_zbAh<R[1_r`iZTbv^^a}c{iEgQZ<exZFg.^Rb+`Uj{a+{z<[~r!]`[[|rZYR|?F|qppp]L|-d|}K}YZUM|=Y|ktm*}F]{D;g{uI|7kg^}%?Z%ca{N[_<q4xC]i|PqZC]n}.bDrnh0Wq{tr|OMn6tM|!6|T`{O`|>!]ji+]_bTeU}Tq|ds}n|{Gm{z,f)}&s{DPYJ`%{CGd5v4tvb*hUh~bf]z`jajiFqAii]bfy^U{Or|m+{I)cS|.9k:e3`^|xN}@Dnlis`B|Qo{`W|>||kA}Y}{ERYuYx`%[exd`]|OyiHtb}HofUYbFo![5|+]gD{NIZR|Go}.T{rh^4]S|C9_}xO^i`vfQ}C)bK{TL}cQ|79iu}9a];sj{P.o!f[Y]pM``Jda^Wc9ZarteBZClxtM{LW}l9|a.mU}KX}4@{I+f1}37|8u}9c|v${xGlz}jP{Dd1}e:}31}%3X$|22i<v+r@~mf{sN{C67G97855F4YL5}8f{DT|xy{sO{DXB334@55J1)4.G9A#JDYtXTYM4, YQD9;XbXm9SX]IB^4UN=Xn<5(;(F3YW@XkH-X_VM[DYM:5XP!T&Y`6|,^{IS-*D.H>:LXjYQ0I3XhAF:9:(==.F*3F1189K/7163D,:@|e2{LS36D4hq{Lw/84443@4.933:0307::6D7}&l{Mx657;89;,K5678H&93D(H<&<>0B90X^I;}Ag1{P%3A+>><975}[S{PZE453?4|T2{Q+5187;>447:81{C=hL6{Me^:=7ii{R=.=F<81;48?|h8}Uh{SE|,VxL{ST,7?9Y_5Xk3A#:$%YSYdXeKXOD8+TXh7(@>(YdXYHXl9J6X_5IXaL0N?3YK7Xh!1?XgYz9YEXhXaYPXhC3X`-YLY_XfVf[EGXZ5L8BXL9YHX]SYTXjLXdJ: YcXbQXg1PX]Yx4|Jr{Ys4.8YU+XIY`0N,<H%-H;:0@,74/:8546I=9177154870UC]d<C3HXl7ALYzXFXWP<<?E!88E5@03YYXJ?YJ@6YxX-YdXhYG|9o{`iXjY_>YVXe>AYFX[/(I@0841?):-B=14337:8=|14{c&93788|di{cW-0>0<097/A;N{FqYpugAFT%X/Yo3Yn,#=XlCYHYNX[Xk3YN:YRT4?)-YH%A5XlYF3C1=NWyY}>:74-C673<69545v {iT85YED=64=.F4..9878/D4378?48B3:7:7/1VX[f4{D,{l<5E75{dAbRB-8-@+;DBF/$ZfW8S<4YhXA.(5@*11YV8./S95C/0R-A4AXQYI7?68167B95HA1*<M3?1/@;/=54XbYP36}lc{qzSS38:19?,/39193574/66878Yw1X-87E6=;964X`T734:>86>1/=0;(I-1::7ALYGXhF+Xk[@W%TYbX7)KXdYEXi,H-XhYMRXfYK?XgXj.9HX_SX]YL1XmYJ>Y}WwIXiI-3-GXcYyXUYJ$X`Vs[7;XnYEZ;XF! 3;%8;PXX(N3Y[)Xi1YE&/ :;74YQ6X`33C;-(>Xm0(TYF/!YGXg8 9L5P01YPXO-5%C|qd{{/K/E6,=0144:361:955;6443@?B7*7:F89&F35YaX-CYf,XiFYRXE_e{}sF 0*7XRYPYfXa5YXXY8Xf8Y~XmA[9VjYj*#YMXIYOXk,HHX40YxYMXU8OXe;YFXLYuPXP?EB[QV0CXfY{:9XV[FWE0D6X^YVP*$4%OXiYQ(|xp|%c3{}V`1>Y`XH00:8/M6XhQ1:;3414|TE|&o@1*=81G8<3}6<|(f6>>>5-5:8;093B^3U*+*^*UT30XgYU&7*O1953)5@E78--F7YF*B&0:%P68W9Zn5974J9::3}Vk|-,C)=)1AJ4+<3YGXfY[XQXmT1M-XcYTYZXCYZXEYXXMYN,17>XIG*SaS|/eYJXbI?XdNZ+WRYP<F:R PXf;0Xg`$|1GX9YdXjLYxWX!ZIXGYaXNYm6X9YMX?9EXmZ&XZ#XQ>YeXRXfAY[4 ;0X!Zz0XdN$XhYL XIY^XGNXUYS/1YFXhYk.TXn4DXjB{jg|4DEX]:XcZMW=A.+QYL<LKXc[vV$+&PX*Z3XMYIXUQ:ZvW< YSXFZ,XBYeXMM)?Xa XiZ4/EXcP3%}&-|6~:1(-+YT$@XIYRBC<}&,|7aJ6}bp|8)K1|Xg|8C}[T|8Q.89;-964I38361<=/;883651467<7:>?1:.}le|:Z=39;1Y^)?:J=?XfLXbXi=Q0YVYOXaXiLXmJXO5?.SFXiCYW}-;|=u&D-X`N0X^,YzYRXO(QX_YW9`I|>hZ:N&X)DQXP@YH#XmNXi$YWX^=!G6YbYdX>XjY|XlX^XdYkX>YnXUXPYF)FXT[EVTMYmYJXmYSXmNXi#GXmT3X8HOX[ZiXN]IU2>8YdX1YbX<YfWuZ8XSXcZU%0;1XnXkZ_WTG,XZYX5YSX Yp 05G?XcYW(IXg6K/XlYP4XnI @XnO1W4Zp-9C@%QDYX+OYeX9>--YSXkD.YR%Q/Yo YUX].Xi<HYEZ2WdCE6YMXa7F)=,D>-@9/8@5=?7164;35387?N<618=6>7D+C50<6B03J0{Hj|N9$D,9I-,.KB3}m |NzE0::/81YqXjMXl7YG; [.W=Z0X4XQY]:MXiR,XgM?9$9>:?E;YE77VS[Y564760391?14941:0=:8B:;/1DXjFA-564=0B3XlH1+D85:0Q!B#:-6&N/:9<-R3/7Xn<*3J4.H:+334B.=>30H.;3833/76464665755:/83H6633:=;.>5645}&E|Y)?1/YG-,93&N3AE@5 <L1-G/8A0D858/30>8<549=@B8] V0[uVQYlXeD(P#ID&7T&7;Xi0;7T-$YE)E=1:E1GR):--0YI7=E<}n9|aT6783A>D7&4YG7=391W;Zx<5+>F#J39}o/|cc;6=A050EQXg8A1-}D-|d^5548083563695D?-.YOXd37I$@LYLWeYlX<Yd+YR A$;3-4YQ-9XmA0!9/XLY_YT(=5XdDI>YJ5XP1ZAW{9>X_6R(XhYO65&J%DA)C-!B:97#A9;@?F;&;(9=11/=657/H,<8}bz|j^5446>.L+&Y^8Xb6?(CYOXb*YF(8X`FYR(XPYVXmPQ%&DD(XmZXW??YOXZXfCYJ79,O)XnYF7K0!QXmXi4IYFRXS,6<%-:YO(+:-3Q!1E1:W,Zo}Am|n~;3580534*?3Zc4=9334361693:30C<6/717:<1/;>59&:4}6!|rS36=1?75<8}[B|s809983579I.A.>84758=108564741H*9E{L{|u%YQ<%6XfH.YUXe4YL@,>N}Tv|ve*G0X)Z;/)3@A74(4P&A1X:YVH97;,754*A66:1 D739E3553545558E4?-?K17/770843XAYf838A7K%N!YW4.$T19Z`WJ*0XdYJXTYOXNZ 1XaN1A+I&Xi.Xk3Z3GB&5%WhZ1+5#Y[X<4YMXhQYoQXVXbYQ8XSYUX4YXBXWDMG0WxZA[8V+Z8X;D],Va$%YeX?FXfX[XeYf<X:Z[WsYz8X_Y]%XmQ(!7BXIZFX]&YE3F$(1XgYgYE& +[+W!<YMYFXc;+PXCYI9YrWxGXY9DY[!GXiI7::)OC;*$.>N*HA@{C|}&k=:<TB83X`3YL+G4XiK]i}(fYK<=5$.FYE%4*5*H*6XkCYL=*6Xi6!Yi1KXR4YHXbC8Xj,B9ZbWx/XbYON#5B}Ue}+QKXnF1&YV5XmYQ0!*3IXBYb71?1B75XmF;0B976;H/RXU:YZX;BG-NXj;XjI>A#D3B636N;,*%<D:0;YRXY973H5)-4FXOYf0:0;/7759774;7;:/855:543L43<?6=E,.A4:C=L)%4YV!1(YE/4YF+ F3%;S;&JC:%/?YEXJ4GXf/YS-EXEYW,9;E}X$}547EXiK=51-?71C%?57;5>463553Zg90;6447?<>4:9.7538XgN{|!}9K/E&3-:D+YE1)YE/3;37/:05}n<}:UX8Yj4Yt864@JYK..G=.(A Q3%6K>3(P3#AYE$-6H/456*C=.XHY[#S.<780191;057C)=6HXj?955B:K1 E>-B/9,;5.!L?:0>/.@//:;7833YZ56<4:YE=/:7Z_WGC%3I6>XkC*&NA16X=Yz2$X:Y^&J48<99k8}CyB-61<18K946YO4{|N}E)YIB9K0L>4=46<1K0+R;6-=1883:478;4,S+3YJX`GJXh.Yp+Xm6MXcYpX(>7Yo,/:X=Z;Xi0YTYHXjYmXiXj;*;I-8S6N#XgY}.3XfYGO3C/$XjL$*NYX,1 6;YH&<XkK9C#I74.>}Hd`A748X[T450[n75<4439:18A107>|ET}Rf<1;14876/Yb983E<5.YNXd4149>,S=/4E/<306443G/06}0&}UkYSXFYF=44=-5095=88;63844,9E6644{PL}WA8:>)7+>763>>0/B3A545CCnT}Xm|dv}Xq1L/YNXk/H8;;.R63351YY747@15YE4J8;46;.38.>4A369.=-83,;Ye3?:3@YE.4-+N353;/;@(X[YYD>@/05-I*@.:551741Yf5>6A443<3535;.58/86=D4753442$635D1>0359NQ @73:3:>><Xn?;43C14 ?Y|X611YG1&<+,4<*,YLXl<1/AIXjF*N89A4Z576K1XbJ5YF.ZOWN.YGXO/YQ01:4G38Xl1;KI0YFXB=R<7;D/,/4>;$I,YGXm94@O35Yz66695385.>:6A#5}W7n^4336:4157597434433<3|XA}m`>=D>:4A.337370?-6Q96{`E|4A}C`|Qs{Mk|J+~r>|o,wHv>Vw}!c{H!|Gb|*Ca5}J||,U{t+{CN[!M65YXOY_*B,Y[Z9XaX[QYJYLXPYuZ%XcZ8LY[SYPYKZM<LMYG9OYqSQYM~[e{UJXmQYyZM_)>YjN1~[f3{aXFY|Yk:48YdH^NZ0|T){jVFYTZNFY^YTYN~[h{nPYMYn3I]`EYUYsYIZEYJ7Yw)YnXPQYH+Z.ZAZY]^Z1Y`YSZFZyGYHXLYG 8Yd#4~[i|+)YH9D?Y^F~Y7|-eYxZ^WHYdYfZQ~[j|3>~[k|3oYmYqY^XYYO=Z*4[]Z/OYLXhZ1YLZIXgYIHYEYK,<Y`YEXIGZI[3YOYcB4SZ!YHZ*&Y{Xi3~[l|JSY`Zz?Z,~[m|O=Yi>??XnYWXmYS617YVYIHZ(Z4[~L4/=~[n|Yu{P)|];YOHHZ}~[o33|a>~[r|aE]DH~[s|e$Zz~[t|kZFY~XhYXZB[`Y}~[u|{SZ&OYkYQYuZ2Zf8D~[v}% ~[w3},Q[X]+YGYeYPIS~[y}4aZ!YN^!6PZ*~[z}?E~[{3}CnZ=~[}}EdDZz/9A3(3S<,YR8.D=*XgYPYcXN3Z5 4)~[~}JW=$Yu.XX~] }KDX`PXdZ4XfYpTJLY[F5]X~[2Yp}U+DZJ::<446[m@~]#3}]1~]%}^LZwZQ5Z`/OT<Yh^ -~]&}jx[ ~m<z!%2+~ly4VY-~o>}p62yz!%2+Xf2+~ly4VY-zQ`z (=] 2z~o2",C={" ":0,"!":1},c=34,i=2,p,s="",u=String.fromCharCode,t=u(12539);for(;++c<127;)C[u(c)]=c^39&&c^92?i++:0;i=0;for(;0<=(c=C[a.charAt(i++)]);)if(16===c)if((c=C[a.charAt(i++)])<87){if(86===c)c=1879;for(;c--;)s+=u(++p)}else s+=s.substr(8272,360);else if(c<86)s+=u(p+=c<51?c-16:(c-55)*92+C[a.charAt(i++)]);else if((c=((c-86)*92+C[a.charAt(i++)])*92+C[a.charAt(i++)])<49152)s+=u(p=c<40960?c:c|57344);else{c&=511;for(;c--;)s+=t;p=12539}return s')();function it(){for(var t in O)if(O.hasOwnProperty(t)){var e=O[t];e.isLoad&&e.resize()}}function st(t,e){if(e.SyncStop)t.pause();else{if(e.HasLoops){t.loopCount=e.LoopCount;var r=function(){t.loopCount--,this.loopCount?(t.currentTime=0,e.HasInPoint&&(t.currentTime=e.InPoint),t.play()):t.removeEventListener("ended",r)};t.addEventListener("ended",r)}e.HasInPoint&&t.addEventListener("canplay",(function(){this.currentTime=e.InPoint})),t.play()}}t.addEventListener("resize",(function(){C(Y),Y=I(it,300)})),t.addEventListener("unload",(function(){O=void 0,D=void 0}));var ct=function(){};ct.prototype.FUNCTION=Function,ct.prototype.clone=function(t){var e=function(t,r){var o;for(o in t)if(t.hasOwnProperty(o)){var a=t[o];a instanceof Array?(r[o]=[],e(a,r[o])):a instanceof Object?(r[o]={},e(a,r[o])):r[o]=a}},r={};return e(t,r),r},ct.prototype.convert=function(t,e){for(var r=this,o=t.lineStyles.lineStyles,a=t.fillStyles.fillStyles,n=t.ShapeRecords,i=0,s={},c=[],l=0,p=0,g=0,u=0,f=0,h=0,d=0,v=0,y=0,b=[],m=[],S=[],A=[],I=0,C=n.length,x=0;x<C;x++){var k=n[x];if(!k){A=r.setStack(A,r.fillMerge(b,m,e)),A=r.setStack(A,S);break}if(k.isChange)I++,k.StateNewStyles&&(l=0,p=0,A=r.setStack(A,r.fillMerge(b,m,e)),A=r.setStack(A,S),b=[],m=[],S=[],k.NumFillBits&&(a=k.FillStyles.fillStyles),k.NumLineBits&&(o=k.LineStyles.lineStyles)),g=l,u=p,k.StateMoveTo&&(g=k.MoveX,u=k.MoveY),f=g,h=u,k.StateFillStyle0&&(d=k.FillStyle0),k.StateFillStyle1&&(v=k.FillStyle1),k.StateLineStyle&&(y=k.LineStyle);else{l=k.AnchorX,p=k.AnchorY;var T=k.ControlX,M=k.ControlY,F=k.isCurved;if(d&&((i=d-1)in b||(b[i]=[]),I in b[i]||(b[i][I]={obj:a[i],startX:g,startY:u,endX:0,endY:0,cache:[]}),(c=(s=b[i][I]).cache)[c.length]=r.clone(k),s.endX=l,s.endY=p),v&&((i=v-1)in m||(m[i]=[]),I in m[i]||(m[i][I]={obj:a[i],startX:g,startY:u,endX:0,endY:0,cache:[]}),(c=(s=m[i][I]).cache)[c.length]=r.clone(k),s.endX=l,s.endY=p),y){(i=y-1)in S||(S[i]={obj:o[i],cache:[]}),(c=(s=S[i]).cache)[c.length]=[0,f,h];var B=[2,l,p];F&&(B=[1,T,M,l,p]),c[c.length]=B}f=l,h=p}}return A},ct.prototype.fillMerge=function(t,e,r){if((t=this.fillReverse(t)).length)for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];if(o in e){var n=e[o];for(var i in a)a.hasOwnProperty(i)&&(n[n.length]=a[i])}else e[o]=a}return this.coordinateAdjustment(e,r)},ct.prototype.fillReverse=function(t){if(!t.length)return t;for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];for(var o in r)if(r.hasOwnProperty(o)){var a=0,n=0,i=r[o],s=i.startX,c=i.startY,l=i.cache,p=l.length;if(p){for(var g in l)if(l.hasOwnProperty(g)){var u=l[g];a=u.AnchorX,n=u.AnchorY,u.AnchorX=s,u.AnchorY=c,s=a,c=n}var f=[];if(p>0)for(;p--;)f[f.length]=l[p];i.cache=f}s=i.startX,c=i.startY,i.startX=i.endX,i.startY=i.endY,i.endX=s,i.endY=c}}return t},ct.prototype.coordinateAdjustment=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var o=[],a=t[r];for(var n in a)a.hasOwnProperty(n)&&(o[o.length]=a[n]);var i=[];if(o.length>1&&!e)for(;o.length;){var s=o.shift();if(s.startX!==s.endX||s.startY!==s.endY){var c=o.length;if(c<0)break;for(var l=0;c--;){var p=o[c];if(p.startX===s.endX&&p.startY===s.endY){s.endX=p.endX,s.endY=p.endY;for(var g=s.cache,u=p.cache,f=u.length,h=0;h<f;h++)g[g.length]=u[h];o.splice(c,1),o.unshift(s),l=1;break}}l||o.unshift(s)}else i[i.length]=s}else i=o;for(var d=i.length,v=[],y={},b=0;b<d;b++){var m=i[b];y=m.obj;var S=m.cache,A=S.length;v[v.length]=[0,m.startX,m.startY];for(var I=0;I<A;I++){var C=S[I],x=[2,C.AnchorX,C.AnchorY];C.isCurved&&(x=[1,C.ControlX,C.ControlY,C.AnchorX,C.AnchorY]),v[v.length]=x}}t[r]={cache:v,obj:y}}return t},ct.prototype.setStack=function(t,e){var r=this.buildCommand;if(e.length)for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];t[t.length]={obj:a.obj,cmd:r.call(this,a.cache)}}return t},ct.prototype.buildCommand=function(t){return this.toCanvas2D(t)},ct.prototype.toCanvas2D=function(t){for(var e=t.length,r="",o=0;o<e;){var a=t[o];switch(a[0]){case 0:r+="ctx.moveTo("+a[1]+","+a[2]+");";break;case 1:r+="ctx.quadraticCurveTo("+a[1]+","+a[2]+","+a[3]+","+a[4]+");";break;case 2:r+="ctx.lineTo("+a[1]+","+a[2]+");";break;case 3:r+="ctx.bezierCurveTo("+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+","+a[6]+");";break;case 4:r+="ctx.moveTo("+(a[1]+a[3])+","+a[2]+");",r+="ctx.arc("+a[1]+","+a[2]+","+a[3]+",0 , Math.PI*2, false);";break;case 5:r+="var r = Math.max(0, Math.min(("+a[1]+" * ct[0]) + ct[4], 255))|0;",r+="var g = Math.max(0, Math.min(("+a[2]+" * ct[1]) + ct[5], 255))|0;",r+="var b = Math.max(0, Math.min(("+a[3]+" * ct[2]) + ct[6], 255))|0;",r+="var a = Math.max(0, Math.min(("+a[4]+" * 255 * ct[3]) + ct[7], 255)) / 255;",r+="ctx.fillStyle = 'rgba('+r+', '+g+', '+b+', '+a+')';";break;case 6:r+="var r = Math.max(0, Math.min(("+a[1]+" * ct[0]) + ct[4], 255))|0;",r+="var g = Math.max(0, Math.min(("+a[2]+" * ct[1]) + ct[5], 255))|0;",r+="var b = Math.max(0, Math.min(("+a[3]+" * ct[2]) + ct[6], 255))|0;",r+="var a = Math.max(0, Math.min(("+a[4]+" * 255 * ct[3]) + ct[7], 255)) / 255;",r+="ctx.strokeStyle = 'rgba('+r+', '+g+', '+b+', '+a+')';";break;case 7:r+="if (!isClip) { ctx.fill(); }";break;case 8:r+="if (!isClip) { ctx.stroke(); }";break;case 9:r+="ctx.lineWidth = "+a[1]+";";break;case 10:r+="ctx.lineCap = '"+a[1]+"';";break;case 11:case 12:r+="ctx.lineJoin = '"+a[1]+"';";break;case 13:r+="ctx.beginPath();"}o++}return new this.FUNCTION("ctx","ct","isClip",r)},ct.prototype.toWebGL=function(t){for(var e=t.length,r=[],o=[],a=[],n=-1,i={x:0,y:0},s=0;s<e;s++){var c=t[s];switch(c[0]){case 0:n>0&&(r[n]=a),r[++n+1]=[],(a=[])[a.length]=c[1],a[a.length]=c[2],i.x=c[1],i.y=c[2];break;case 1:o[o.length]=i.x,o[o.length]=i.y,o[o.length]=c[1],o[o.length]=c[2],o[o.length]=c[3],o[o.length]=c[4],a[a.length]=c[3],a[a.length]=c[4],i.x=c[3],i.y=c[4];break;case 2:a[a.length]=c[1],a[a.length]=c[2],i.x=c[1],i.y=c[2]}}return new this.FUNCTION("ctx","")};var lt=new ct,pt=function(){this.store={},this.pool=[],this.size=73400320};pt.prototype.reset=function(){var t=this,e=t.store;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];o instanceof CanvasRenderingContext2D&&t.destroy(o)}t.store={},t.size=73400320},pt.prototype.destroy=function(t){var e=this.pool,r=t.canvas;t.clearRect(0,0,r.width+1,r.height+1),r.width=r.height=1,e[e.length]=r},pt.prototype.getCanvas=function(){return this.pool.pop()||e.createElement("canvas")},pt.prototype.getCache=function(t){return this.store[t]},pt.prototype.setCache=function(t,e){if(e instanceof CanvasRenderingContext2D){var r=e.canvas;this.size-=r.width*r.height}this.store[t]=e},pt.prototype.generateKey=function(t,e,r,o){var a=t+"_"+e;return r instanceof Array&&(a+="_"+r.join("_")),o instanceof Array&&(a+="_"+o.join("_")),a};var gt=new pt,ut=function(){var t=this;t.data=null,t.bit_offset=0,t.byte_offset=0,t.bit_buffer=null};ut.prototype.init=function(t){for(var e=t.length,r=this.createArray(e),o=0;o<e;)r[o]=255&t.charCodeAt(o),o++;this.data=r},ut.prototype.decodeToShiftJis=function(t){return t.replace(/%(8[1-9A-F]|[9E][0-9A-F]|F[0-9A-C])(%[4-689A-F][0-9A-F]|%7[0-9A-E]|[@-~])|%([0-7][0-9A-F]|A[1-9A-F]|[B-D][0-9A-F])/gi,(function(t){var e=parseInt(t.substring(1,3),16),r=t.length;return 3===r?S(e<160?e:e+65216):nt.charAt(188*(e<160?e-129:e-193)+(4===r?t.charCodeAt(3)-64:(e=parseInt(t.substring(4),16))<127?e-64:e-65))}))},ut.prototype.unlzma=function(t){return[]},ut.prototype.unzip=function(t,e){var r=this,o=0,a=0,n=0,i=[],s=[],c=new ut;c.setData(t);var l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];W&&(l=new Uint8Array(l),p=new Uint8Array(p),g=new Uint16Array(g),u=new Uint8Array(u),f=new Uint16Array(f));var h=2;e&&(h=10),c.setOffset(h,8);for(var d=0;!d;){d=c.readUB(1);var v=c.readUB(2),y={},b={},m=!1,S=!1;if(v){if(1===v){if(b=S,!(y=m)){for(s=[],a=32;a--;)s[s.length]=5;y=m=r.buildHuffTable(s)}if(!b){for(s=[],a=0;a<144;)a++,s[s.length]=8;for(;a<256;)a++,s[s.length]=9;for(;a<280;)a++,s[s.length]=7;for(;a<288;)a++,s[s.length]=8;b=S=r.buildHuffTable(s)}}else{var A=c.readUB(5)+257,I=c.readUB(5)+1,C=c.readUB(4)+4,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(W&&(x=new Uint8Array(x)),a=0;a<C;a++)x[l[a]]=c.readUB(3);var k=r.buildHuffTable(x);x=null;for(var T=[],M=0,F=A+I;T.length<F;)switch(o=r.decodeSymbol(c,k)){case 16:for(a=c.readUB(2)+3;a--;)T[T.length]=M;break;case 17:for(a=c.readUB(3)+3;a--;)T[T.length]=0;break;case 18:for(a=c.readUB(7)+11;a--;)T[T.length]=0;break;default:o<=15&&(T[T.length]=o,M=o)}y=r.buildHuffTable(T.splice(A,I)),b=r.buildHuffTable(T)}for(o=0;256!==o;)if((o=r.decodeSymbol(c,b))<256)i[i.length]=o;else if(o>256){var B=o-257;n=g[B]+c.readUB(p[B]);var U=r.decodeSymbol(c,y),w=f[U]+c.readUB(u[U]);for(a=i.length-w;n--;)i[i.length]=i[a++]}}else for(c.bit_offset=8,c.bit_buffer=null,n=c.readNumber(2),c.readNumber(2);n--;)i[i.length]=c.readNumber(1)}return i},ut.prototype.buildHuffTable=function(t){for(var e=t.length,r=[],o=[],n={},i=0,s=0,c=0,l=0;l<e;l++)c=a(c,t[l]);for(c++,l=e;l--;)r[s=t[l]]=(r[s]||0)+(s>0);for(l=1;l<c;l++)(s=l-1)in r||(r[s]=0),i=i+r[s]<<1,o[l]=0|i;for(l=0;l<e;l++)(s=t[l])&&(n[o[s]]={length:s,symbol:l},o[s]++);return n},ut.prototype.decodeSymbol=function(t,e){for(var r=0,o=0;;)if(o++,(r=r<<1|t.readUB(1))in e){var a=e[r];if(a.length===o)return a.symbol}},ut.prototype.createArray=function(t){return W?new Uint8Array(t):[]},ut.prototype.setData=function(t){this.data=t},ut.prototype.getHeaderSignature=function(){for(var t="",e=3;e;){var r=this.getUI8();switch(r){case 32:case 96:case 127:continue}t+=S(r),e--}return t},ut.prototype.getVersion=function(){return this.getUI8()},ut.prototype.byteAlign=function(){var t=this;t.bit_offset&&(t.byte_offset+=(t.bit_offset+7)/8|0,t.bit_offset=0)},ut.prototype.getData=function(t){var e=this;e.byteAlign();for(var r=e.createArray(t),o=0,a=e.data,n=t;n--;)r[o++]=a[e.byte_offset++];return r},ut.prototype.getDataUntil=function(t,e){var r=this,o=r.data;r.byteAlign();var a=r.byte_offset,n=0;if(null===t)n=-1;else for(var i=o.length;;){var s=o[a+n];if(n++,0===s||a+n>=i)break}var c=-1===n?o.length-a:n,l=[],p="",g=Array.prototype.join,u=0;if(null!==t){for(u=0;u<c;u++){var f=o[a+u];10!==f&&13!==f||(l[l.length]="\n"),f<32||(l[l.length]="%"+f.toString(16))}if(l.length){var h=g.call(l,"");if(h.length>5&&"\n"===h.substr(-5)&&(h=h.slice(0,-5)),e)p=r.decodeToShiftJis(h);else try{p=decodeURIComponent(h)}catch(t){p=r.decodeToShiftJis(h)}}}else for(u=0;u<c;u++)p+=S(o[a+u]);return r.byte_offset=a+c,p},ut.prototype.byteCarry=function(){var t=this;if(t.bit_offset>7)t.byte_offset+=(t.bit_offset+7)/8|0,t.bit_offset&=7;else for(;t.bit_offset<0;)t.byte_offset--,t.bit_offset+=8},ut.prototype.getUIBits=function(t){for(var e=0,r=this.getUIBit;t--;)e<<=1,e|=r.call(this);return e},ut.prototype.getUIBit=function(){var t=this;return t.byteCarry(),t.data[t.byte_offset]>>7-t.bit_offset++&1},ut.prototype.getSIBits=function(t){var e=this.getUIBits(t),r=e&1<<t-1;return r?-(e^2*r-1)-1:e},ut.prototype.getUI8=function(){var t=this;return t.byteAlign(),t.data[t.byte_offset++]},ut.prototype.getUI16=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|e[t.byte_offset++]<<8},ut.prototype.getUI24=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|(e[t.byte_offset++]|e[t.byte_offset++]<<8)<<8},ut.prototype.getUI32=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|(e[t.byte_offset++]|(e[t.byte_offset++]|e[t.byte_offset++]<<8)<<8)<<8},ut.prototype.getUI16BE=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]<<8|e[t.byte_offset++]},ut.prototype.getFloat16=function(){for(var t=this.getData(2),e=0,r=2;r--;)e|=t[r]<<8*r;return e},ut.prototype.getFloat32=function(){for(var t=this.getData(4),e=0,r=4;r--;)e|=t[r]<<8*r;return e&&2147483648!==e?(2147483648&e?-1:1)*(8388608|8388607&e)*s(2,(e>>23&255)-127-23):0},ut.prototype.getFloat64=function(){var t=this.getUI32(),e=this.getUI32();return t||e?(0===(t>>>31&1)?1:-1)*((1048575&t)/1048576+e/4503599627370496+1)*s(2,(t>>>20&2047)-1023):0},ut.prototype.getFloat64LittleEndian=function(){for(var t=this.data,e="",r=0;r<8;r++){for(var o=t[this.byte_offset++].toString(2);o.length<8;)o="0"+o;e=o+e}var a="1"===e.charAt(0)?-1:1,n=parseInt(e.substr(1,11),2)-1023,i=e.substr(12,52),c="1"+i,l=1,p=0;if(-1023===n){if(-1===i.indexOf("1"))return 0;n=-1022,c="0"+i}for(var g=0;g<c.length;){p+=l*+c.charAt(g),l/=2,g++}return a*p*s(2,n)},ut.prototype.toUI16=function(t){return t[0]+(t[1]<<8)},ut.prototype.toSI16LE=function(t){var e=this.toUI16(t);return e<32768?e:e-65536},ut.prototype.getSI8=function(){var t=this.getUI8();return t>>7&&(t-=256),t},ut.prototype.getSI24=function(){var t=this.getUI24();return t>>23&&(t-=16777216),t},ut.prototype.incrementOffset=function(t,e){var r=this;r.byte_offset+=t,r.bit_offset+=e,r.byteCarry()},ut.prototype.setOffset=function(t,e){this.byte_offset=t,this.bit_offset=e},ut.prototype.getU30=function(){for(var t=0,e=this.data,r=0;r<5;r++){var o=e[this.byte_offset++];if(t|=(127&o)<<7*r,!(128&o))break}return t},ut.prototype.getS30=function(){var t=this,e=t.byte_offset,r=t.getU30(),o=8*(t.byte_offset-e);return r>>o-1&&(r-=s(2,o)),r},ut.prototype.ReadU30=function(t){for(var e=0,r=this.data,o=0;o<5;o++){var a=r[t++];if(e|=(127&a)<<7*o,!(128&a))break}return e},ut.prototype.AbcReadString=function(){for(var t=this,e=t.byte_offset,r=t.data,o=t.ReadU30(e)+1,a=[],n=0;n<o;n++){var i=r[t.byte_offset++];if(!(i<33)){switch(i){default:break;case 34:case 35:case 36:case 37:case 38:case 39:case 43:case 45:continue}a[a.length]=S(i)}}return a.join("")},ut.prototype.readUB=function(t){for(var e=this,r=0,o=0;o<t;o++)8===e.bit_offset&&(e.bit_buffer=e.readNumber(1),e.bit_offset=0),r|=(e.bit_buffer&1<<e.bit_offset++?1:0)<<o;return r},ut.prototype.readNumber=function(t){for(var e=this,r=0,o=e.byte_offset,a=o+t;a>o;)r=r<<8|e.data[--a];return e.byte_offset+=t,r},ut.prototype.deCompress=function(t,e){var r=this,o=r.byte_offset;r.byte_offset=0;for(var a=r.getData(o),n="ZLIB"===e?r.unzip(r.data,!0):r.unlzma(r.data),i=0,s=0,c=r.createArray(t),l=a.length;i<l;)c[s++]=a[i],i++;for(i=0,l=n.length;i<l;)c[s++]=n[i],i++;r.data=c,r.byte_offset=o};var ft=function(){var t=this;t.matrix=t.cloneArray([1,0,0,1,0,0]),t.colorTransform=t.cloneArray([1,1,1,1,0,0,0,0]),t.filters=null,t.blendMode="normal"};ft.prototype.cloneArray=function(t){for(var e=[],r=t.length,o=0;o<r;o++)e[o]=t[o];return e},ft.prototype.getBlendName=function(t){var e=null;switch(t){case 1:case"normal":e="normal";break;case 2:case"layer":e="layer";break;case 3:case"multiply":e="multiply";break;case 4:case"screen":e="screen";break;case 5:case"lighten":e="lighten";break;case 6:case"darken":e="darken";break;case 7:case"difference":e="difference";break;case 8:case"add":e="add";break;case 9:case"subtract":e="subtract";break;case 10:case"invert":e="invert";break;case 11:case"alpha":e="alpha";break;case 12:case"erase":e="erase";break;case 13:case"overlay":e="overlay";break;case 14:case"hardlight":e="hardlight"}return e},ft.prototype.clone=function(){var t=this,e=new ft;return e.setMatrix(t.getMatrix()),e.setColorTransform(t.getColorTransform()),e.setFilters(t.getFilters()),e.setBlendMode(t.getBlendMode()),e},ft.prototype.getMatrix=function(){return this.matrix},ft.prototype.setMatrix=function(t){this.matrix=this.cloneArray(t)},ft.prototype.getColorTransform=function(){return this.colorTransform},ft.prototype.setColorTransform=function(t){this.colorTransform=this.cloneArray(t)},ft.prototype.getFilters=function(){return this.filters},ft.prototype.setFilters=function(t){this.filters=t},ft.prototype.getBlendMode=function(){return this.blendMode},ft.prototype.setBlendMode=function(t){this.blendMode=this.getBlendName(t)};var ht=function(t,e){var r=this;r.stage=t,r.bitio=e,r.currentPosition={x:0,y:0},r.jpegTables=null};ht.prototype.parse=function(t){var e=this.bitio.data.length;return this.parseTags(e,t.characterId)},ht.prototype.build=function(t,e){if(t.length){var r=this.showFrame,o=[];for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];r.call(this,n,e,o)}}},ht.prototype.showFrame=function(t,e,r){var o,n,i=this,s=i.buildTag,c=[],l=t.frame,p=i.stage;l in r||(r[l]=[]),e.setTotalFrames(a(e.getTotalFrames(),l));var g=t.actionScript;if(g.length)for(o in g)g.hasOwnProperty(o)&&e.setActions(l,g[o]);var u=t.labels;if(u.length)for(o in u)if(u.hasOwnProperty(o)){var f=u[o];e.addLabel(f.frame,f.name)}var h=t.sounds;if(h.length)for(o in h)h.hasOwnProperty(o)&&e.addSound(l,h[o]);var d=t.cTags;if(d.length)for(o in d)d.hasOwnProperty(o)&&(c[(n=d[o]).Depth]=!0,s.call(i,l,n,e,r));var v=t.removeTags;if(v.length)for(o in e.setRemoveTag(l,v),v){if(v.hasOwnProperty(o))c[v[o].Depth]=!0}if(l>1){var y=l-1,b=e.container;if(y in b){var m=b[y];if(l in b||(b[l]=[]),m.length){var S=e.instanceId;for(var A in m)m.hasOwnProperty(A)&&(A in c||(b[l][A]=m[A],p.copyPlaceObject(S,A,l),r[l][A]=r[y][A]))}}}},ht.prototype.buildTag=function(t,e,r,o){var a=this,n=r.container;t in n||(n[t]=[]);var i=!0;if(e.PlaceFlagMove){var s=o[t-1][e.Depth];void 0!==s&&(e.PlaceFlagHasCharacter?e.CharacterId!==s.CharacterId&&(i=!1):(e.PlaceFlagHasCharacter=s.PlaceFlagHasCharacter,e.CharacterId=s.CharacterId),!e.PlaceFlagHasMatrix&&s.PlaceFlagHasMatrix&&(e.PlaceFlagHasMatrix=s.PlaceFlagHasMatrix,e.Matrix=s.Matrix),!e.PlaceFlagHasColorTransform&&s.PlaceFlagHasColorTransform&&(e.PlaceFlagHasColorTransform=s.PlaceFlagHasColorTransform,e.ColorTransform=s.ColorTransform),!e.PlaceFlagHasClipDepth&&s.PlaceFlagHasClipDepth&&(e.PlaceFlagHasClipDepth=s.PlaceFlagHasClipDepth,e.ClipDepth=s.ClipDepth),!e.PlaceFlagHasClipActions&&s.PlaceFlagHasClipActions&&(e.PlaceFlagHasClipActions=s.PlaceFlagHasClipActions,e.ClipActionRecords=s.ClipActionRecords),e.PlaceFlagHasRatio||i||(e.PlaceFlagHasRatio=1,e.Ratio=t-1),!e.PlaceFlagHasFilterList&&s.PlaceFlagHasFilterList&&(e.PlaceFlagHasFilterList=s.PlaceFlagHasFilterList,e.SurfaceFilterList=s.SurfaceFilterList),!e.PlaceFlagHasBlendMode&&s.PlaceFlagHasBlendMode&&(e.PlaceFlagHasBlendMode=s.PlaceFlagHasBlendMode,e.BlendMode=s.BlendMode))}o[t][e.Depth]=e;var c=a.buildObject(e,r,i,t);if(c){var l=a.stage,p=a.buildPlaceObject(e);l.setPlaceObject(p,r.instanceId,e.Depth,t),n[t][e.Depth]=c.instanceId}},ht.prototype.buildObject=function(t,e,r,o){var a=this,n=a.stage,i=n.getCharacter(t.CharacterId),s=i.tagType,c=!1;46!==s&&84!==s||(c=!0);var l={};if(!c&&t.PlaceFlagMove&&r){var p=e.container[o-1][t.Depth];l=n.getInstance(p)}else{if(i instanceof Array)l=a.buildMovieClip(t,i,e);else switch(s){case 11:case 33:l=a.buildText(t,i);break;case 37:l=a.buildTextField(t,i,e);break;case 2:case 22:case 32:case 83:l=a.buildShape(t,i);break;case 46:case 84:var g=a.buildMorphShape(i,t.Ratio);g.tagType=s,l=a.buildShape(t,g);break;case 7:case 34:l=a.buildButton(i,t,e);break;default:return 0}l.setParent(e),l.setStage(n),l.setCharacterId(t.CharacterId),l.setRatio(t.Ratio||0),l.setLevel(t.Depth)}return t.PlaceFlagHasClipDepth&&(l.isClipDepth=!0,l.clipDepth=t.ClipDepth),l},ht.prototype.buildPlaceObject=function(t){var e=new ft;return t.PlaceFlagHasMatrix&&e.setMatrix(t.Matrix),t.PlaceFlagHasColorTransform&&e.setColorTransform(t.ColorTransform),t.PlaceFlagHasFilterList&&e.setFilters(t.SurfaceFilterList),t.PlaceFlagHasBlendMode&&e.setBlendMode(t.BlendMode),e},ht.prototype.buildMovieClip=function(t,e,r){var o=this.stage,a=new Gt;a.setStage(o),a._url=r._url;var n="instance"+a.instanceId;if(t.PlaceFlagHasName&&(a.setName(t.Name),n=t.Name),a.setTarget(r.getTarget()+"/"+n),this.build(e,a),t.PlaceFlagHasClipActions)for(var i,s=t.ClipActionRecords,c=s.length,l=0;l<c;l++){var p=s[l],g=p.EventFlags;for(i in g)if(g.hasOwnProperty(i)&&g[i]){var u=a.createActionScript(p.Actions);a.addEventListener(i,u)}}return a},ht.prototype.buildTextField=function(t,e,r){var o=this.stage,a=new Nt;a.setStage(o),a.setParent(r),a.setInitParams(),a.setTagType(e.tagType),a.setBounds(e.bounds);var n="instance"+a.instanceId;t.PlaceFlagHasName&&(a.setName(t.Name),n=t.Name),a.setTarget(r.getTarget()+"/"+n);var i=e.data,s={},c=null,l=i.FontID;i.HasFont&&(c=o.getCharacter(l)),a.fontId=l,a.fontScale=i.FontHeight/1024,c&&c.ZoneTable&&(a.fontScale/=20),a.initialText=i.InitialText,s.autoSize=i.AutoSize,s.border=i.Border,s.border&&(s.background=1),s.bottomScroll=1,s.condenseWhite=0,s.embedFonts=i.HasFont&&i.UseOutlines&&c.FontFlagsHasLayout&&!i.Password?1:0,s.hscroll=0,s.maxscroll=0,s.scroll=0,s.maxhscroll=0,s.html=i.HTML,s.htmlText=i.HTML?i.InitialText:null,s.length=0,s.maxChars=0,s.multiline=i.Multiline,s.password=i.Password,s.selectable=i.NoSelect,s.tabEnabled=0,s.tabIndex=0,s.text=i.InitialText,s.textColor=i.TextColor,s.textHeight=0,s.textWidth=0,s.type=i.ReadOnly?"dynamic":"input";var p=i.VariableName;if(s.variable=p,p&&r.setVariable(p,i.InitialText),s.wordWrap=i.WordWrap,s.blockIndent=0,s.bullet=0,c){s.bold=c.FontFlagsBold;var g=a.getVariable("font");s.font="'"+c.FontName+"', "+g,s.italic=c.FontFlagsItalic}if(i.HasLayout){switch(i.Align){case 1:s.align="right";break;case 2:s.align="center";break;case 3:s.align="justify"}s.leftMargin=i.LeftMargin,s.rightMargin=i.RightMargin,s.indent=i.Indent,s.leading=14400>i.Leading?i.Leading:i.Leading-65535}for(var u in s.size=i.FontHeight/20,s.tabStops=[],s.target=null,s.underline=0,s.url=null,s)s.hasOwnProperty(u)&&a.setProperty(u,s[u]);return"input"===s.type&&a.setInputElement(),a},ht.prototype.buildText=function(t,e){var r=this.stage,o=new Rt;o.setTagType(e.tagType),o.setBounds(e.bounds);for(var a=e.textRecords,n=a.length,i=0,s=0,c=1,l=0,p=null,g=e.matrix,u=null,f=!1,h=0;h<n;h++){var d=a[h];if("FontId"in d){var v=d.FontId,y=r.getCharacter(v);p=y.GlyphShapeTable,f=!1,"ZoneTable"in y&&(f=!0)}"XOffset"in d&&(i=d.XOffset),"YOffset"in d&&(s=d.YOffset),"TextColor"in d&&(u=d.TextColor),"TextHeight"in d&&(l=d.TextHeight,f&&(l/=20));var b=d.GlyphEntries,m=d.GlyphCount;c=l/1024;for(var S=0;S<m;S++){var A=b[S],I=p[A.GlyphIndex],C=lt.convert(I),x=[c,g[1],g[2],c,g[4]+i,g[5]+s],k=new Et;k.setData(C),k.setColor(u),k.setMatrix(x),o.addRecord(k),i+=A.GlyphAdvance}}return o},ht.prototype.buildShape=function(t,e){var r=new Lt;return r.setTagType(e.tagType),r.setBounds(e.bounds),r.setData(e.data),r},ht.prototype.buildButton=function(t,e,r){var o=this,a=o.stage,n=t.characters,i=new jt;i.setStage(a),i.setParent(r),i.setLevel(e.Depth),"actions"in t&&i.setActions(t.actions);var s="instance"+i.instanceId;e.PlaceFlagHasName&&(i.setName(e.Name),s=e.Name),i.setTarget(r.getTarget()+"/"+s);var c=i.getSprite("down");t.ButtonStateDownSoundId&&(c.soundId=t.ButtonStateDownSoundId,c.soundInfo=t.ButtonStateDownSoundInfo);var l=i.getSprite("hit");t.ButtonStateHitTestSoundId&&(l.soundId=t.ButtonStateHitTestSoundId,l.soundInfo=t.ButtonStateHitTestSoundInfo);var p=i.getSprite("over");t.ButtonStateOverSoundId&&(p.soundId=t.ButtonStateOverSoundId,p.soundInfo=t.ButtonStateOverSoundInfo);var g=i.getSprite("up");for(var u in t.ButtonStateUpSoundId&&(g.soundId=t.ButtonStateUpSoundId,g.soundInfo=t.ButtonStateUpSoundInfo),n)if(n.hasOwnProperty(u)){var f=n[u];for(var h in f)if(f.hasOwnProperty(h)){var d=f[h],v=o.buildObject(d,i,!1,1),y=o.buildPlaceObject(d),b=d.Depth;d.ButtonStateDown&&(c.addTag(b,v),a.setPlaceObject(y,c.instanceId,b,0)),d.ButtonStateHitTest&&(l.addTag(b,v),a.setPlaceObject(y,l.instanceId,b,0)),d.ButtonStateOver&&(p.addTag(b,v),a.setPlaceObject(y,p.instanceId,b,0)),d.ButtonStateUp&&(g.addTag(b,v),a.setPlaceObject(y,g.instanceId,b,0))}}return i.setSprite("down",c),i.setSprite("hit",l),i.setSprite("over",p),i.setSprite("up",g),i.setTagType(t.tagType),i},ht.prototype.generateDefaultTagObj=function(t,e){return{frame:t,characterId:e,cTags:[],removeTags:[],actionScript:[],labels:[],sounds:[]}},ht.prototype.parseTags=function(t,e){var r=this,o=r.parseTag,a=r.addTag,n=r.generateDefaultTagObj,i=1,s=[],c=0,l=r.bitio;for(s[i]=n.call(r,i,e);l.byte_offset<t;){var p=l.byte_offset;if(p+2>t)break;var g=l.getUI16();c=g>>6;var u=63&g;if(63===u){if(p+6>t){l.byte_offset=p,l.bit_offset=0;break}u=l.getUI32()}var f=l.byte_offset;1===c&&(i++,t>f+2&&(s[i]=n.call(r,i,e)));var h=o.call(r,c,u),d=l.byte_offset-f;if(d!==u&&d<u){var v=u-d;v>0&&(l.byte_offset+=v)}h&&(s=a.call(r,c,s,h,i)),l.bit_offset=0}return s},ht.prototype.parseTag=function(t,e){var r=this,o=null,a=r.bitio,n=r.stage;switch(t){case 0:case 1:break;case 2:case 22:case 32:case 83:e<10?a.byte_offset+=e:r.parseDefineShape(t);break;case 9:n.bgcolor?n.backgroundColor=n.bgcolor:n.setBackgroundColor(a.getUI8(),a.getUI8(),a.getUI8());break;case 10:case 48:case 75:r.parseDefineFont(t,e);break;case 13:case 62:r.parseDefineFontInfo(t,e);break;case 11:case 33:r.parseDefineText(t);break;case 4:case 26:case 70:o=r.parsePlaceObject(t,e);break;case 37:r.parseDefineEditText(t);break;case 39:r.parseDefineSprite(a.byte_offset+e);break;case 12:o=r.parseDoAction(e);break;case 59:r.parseDoInitAction(e);break;case 5:case 28:o=r.parseRemoveObject(t);break;case 7:case 34:o=r.parseDefineButton(t,e);break;case 43:o=r.parseFrameLabel();break;case 88:r.parseDefineFontName();break;case 20:case 36:r.parseDefineBitsLossLess(t,e);break;case 6:case 21:case 35:case 90:r.parseDefineBits(t,e,r.jpegTables),r.jpegTables=null;break;case 8:r.jpegTables=r.parseJPEGTables(e);break;case 56:r.parseExportAssets();break;case 46:case 84:r.parseDefineMorphShape(t);break;case 40:a.getDataUntil("\0");break;case 24:a.byteAlign();break;case 63:a.getUI8();break;case 64:a.getUI16(),a.getDataUntil("\0");break;case 65:a.getUI16(),a.getUI16();break;case 69:r.parseFileAttributes();break;case 77:a.getDataUntil("\0");break;case 86:o=r.parseDefineSceneAndFrameLabelData();break;case 18:case 45:o=r.parseSoundStreamHead(t);break;case 72:case 82:r.parseDoABC(t,e);break;case 76:r.parseSymbolClass();break;case 14:r.parseDefineSound(t,e);break;case 15:case 89:o=r.parseStartSound(t);break;case 17:r.parseDefineButtonSound();break;case 73:r.parseDefineFontAlignZones();break;case 74:r.parseCSMTextSettings(t);break;case 19:r.parseSoundStreamBlock(t,e);break;case 60:r.parseDefineVideoStream(t);break;case 61:r.parseVideoFrame(t,e);break;case 78:r.parseDefineScalingGrid();break;case 41:a.getUI32(),a.getUI32(),a.getUI8(),a.getUI8(),a.getUI32(),a.getUI32(),a.getUI32(),a.getUI32();break;case 3:case 16:case 23:case 25:case 29:case 31:case 38:case 42:case 44:case 47:case 49:case 52:case 53:case 54:case 55:case 57:case 58:case 66:case 71:case 87:case 91:case 93:F.log("[base] tagType -> "+t)}return o},ht.prototype.addTag=function(t,e,r,o){var a=e[o];switch(t){case 4:case 26:case 70:var n=a.cTags;a.cTags[n.length]=r;break;case 12:var i=a.actionScript;a.actionScript[i.length]=r;break;case 5:case 28:var s=a.removeTags;a.removeTags[s.length]=r;break;case 43:var c=a.labels;r.frame=o,a.labels[c.length]=r;break;case 15:case 89:var l=a.sounds;a.sounds[l.length]=r}return e},ht.prototype.parseDefineShape=function(t){var e=this,r=e.bitio,o=r.getUI16(),a=e.rect();if(83===t){var n={};n.EdgeBounds=e.rect(),r.getUIBits(5),n.UsesFillWindingRule=r.getUIBits(1),n.UsesNonScalingStrokes=r.getUIBits(1),n.UsesScalingStrokes=r.getUIBits(1)}var i=e.shapeWithStyle(t);e.appendShapeTag(o,a,i,t)},ht.prototype.rect=function(){var t=this.bitio;t.byteAlign();var e=t.getUIBits(5);return{xMin:t.getSIBits(e),xMax:t.getSIBits(e),yMin:t.getSIBits(e),yMax:t.getSIBits(e)}},ht.prototype.shapeWithStyle=function(t){var e,r,o=this,a=o.bitio;46===t||84===t?(e={fillStyleCount:0,fillStyles:[]},r={lineStyleCount:0,lineStyles:[]}):(e=o.fillStyleArray(t),r=o.lineStyleArray(t));var n=a.getUI8(),i=n>>4,s=15&n;return{fillStyles:e,lineStyles:r,ShapeRecords:o.shapeRecords(t,{FillBits:i,LineBits:s})}},ht.prototype.fillStyleArray=function(t){var e=this.bitio,r=e.getUI8();t>2&&255===r&&(r=e.getUI16());for(var o=[],a=r;a--;)o[o.length]=this.fillStyle(t);return{fillStyleCount:r,fillStyles:o}},ht.prototype.fillStyle=function(t){var e=this,r=e.bitio,o={},a=r.getUI8();switch(o.fillStyleType=a,a){case 0:32===t||83===t?o.Color=e.rgba():46===t||84===t?(o.StartColor=e.rgba(),o.EndColor=e.rgba()):o.Color=e.rgb();break;case 16:case 18:46===t||84===t?(o.startGradientMatrix=e.matrix(),o.endGradientMatrix=e.matrix(),o.gradient=e.gradient(t)):(o.gradientMatrix=e.matrix(),o.gradient=e.gradient(t));break;case 19:o.gradientMatrix=e.matrix(),o.gradient=e.focalGradient(t);break;case 64:case 65:case 66:case 67:o.bitmapId=r.getUI16(),46===t||84===t?(o.startBitmapMatrix=e.matrix(),o.endBitmapMatrix=e.matrix()):o.bitmapMatrix=e.matrix()}return o},ht.prototype.rgb=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:1}},ht.prototype.rgba=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:t.getUI8()/255}},ht.prototype.matrix=function(){var t=this.bitio;t.byteAlign();var e=[1,0,0,1,0,0];if(t.getUIBit()){var r=t.getUIBits(5);e[0]=t.getSIBits(r)/65536,e[3]=t.getSIBits(r)/65536}if(t.getUIBit()){var o=t.getUIBits(5);e[1]=t.getSIBits(o)/65536,e[2]=t.getSIBits(o)/65536}var a=t.getUIBits(5);return e[4]=t.getSIBits(a),e[5]=t.getSIBits(a),e},ht.prototype.gradient=function(t){var e,r=0,o=0,a=this.bitio;a.byteAlign(),46===t||84===t?e=a.getUI8():(r=a.getUIBits(2),o=a.getUIBits(2),e=a.getUIBits(4));for(var n=[],i=e;i--;)n[n.length]=this.gradientRecord(t);return{SpreadMode:r,InterpolationMode:o,GradientRecords:n}},ht.prototype.gradientRecord=function(t){var e=this,r=e.bitio;return 46===t||84===t?{StartRatio:r.getUI8()/255,StartColor:e.rgba(),EndRatio:r.getUI8()/255,EndColor:e.rgba()}:{Ratio:r.getUI8()/255,Color:t<32?e.rgb():e.rgba()}},ht.prototype.focalGradient=function(t){var e=this.bitio;e.byteAlign();for(var r=e.getUIBits(2),o=e.getUIBits(2),a=[],n=e.getUIBits(4);n--;)a[a.length]=this.gradientRecord(t);return{SpreadMode:r,InterpolationMode:o,GradientRecords:a,FocalPoint:e.getFloat16()}},ht.prototype.lineStyleArray=function(t){var e=this.bitio,r=e.getUI8();t>2&&255===r&&(r=e.getUI16());for(var o=[],a=r;a--;)o[o.length]=this.lineStyles(t);return{lineStyleCount:r,lineStyles:o}},ht.prototype.lineStyles=function(t){var e=this,r=e.bitio,o={fillStyleType:0};return 46===t?o={StartWidth:r.getUI16(),EndWidth:r.getUI16(),StartColor:e.rgba(),EndColor:e.rgba()}:84===t?(o.StartWidth=r.getUI16(),o.EndWidth=r.getUI16(),o.StartCapStyle=r.getUIBits(2),o.JoinStyle=r.getUIBits(2),o.HasFillFlag=r.getUIBit(),o.NoHScaleFlag=r.getUIBit(),o.NoVScaleFlag=r.getUIBit(),o.PixelHintingFlag=r.getUIBit(),r.getUIBits(5),o.NoClose=r.getUIBit(),o.EndCapStyle=r.getUIBits(2),2===o.JoinStyle&&(o.MiterLimitFactor=r.getUI16()),o.HasFillFlag?o.FillType=e.fillStyle(t):(o.StartColor=e.rgba(),o.EndColor=e.rgba())):(o.Width=r.getUI16(),83===t?(o.StartCapStyle=r.getUIBits(2),o.JoinStyle=r.getUIBits(2),o.HasFillFlag=r.getUIBit(),o.NoHScaleFlag=r.getUIBit(),o.NoVScaleFlag=r.getUIBit(),o.PixelHintingFlag=r.getUIBit(),r.getUIBits(5),o.NoClose=r.getUIBit(),o.EndCapStyle=r.getUIBits(2),2===o.JoinStyle&&(o.MiterLimitFactor=r.getUI16()),o.HasFillFlag?o.FillType=e.fillStyle(t):o.Color=e.rgba()):o.Color=32===t?e.rgba():e.rgb()),o},ht.prototype.shapeRecords=function(t,e){var r=this,o=r.bitio,a=[];r.currentPosition={x:0,y:0};for(var n=r.straightEdgeRecord,i=r.curvedEdgeRecord,s=r.styleChangeRecord;;){var c=o.getUIBits(6),l=0;if(32&c){var p=15&c;l=16&c?n.call(r,t,p):i.call(r,t,p)}else c&&(l=s.call(r,t,c,e));if(a[a.length]=l,!l){o.byteAlign();break}}return a},ht.prototype.straightEdgeRecord=function(t,e){var r=this,o=r.bitio,a=0,n=0;o.getUIBit()?(a=o.getSIBits(e+2),n=o.getSIBits(e+2)):o.getUIBit()?(a=0,n=o.getSIBits(e+2)):(a=o.getSIBits(e+2),n=0);var i=a,s=n;return 46!==t&&84!==t&&(i=r.currentPosition.x+a,s=r.currentPosition.y+n,r.currentPosition.x=i,r.currentPosition.y=s),{ControlX:0,ControlY:0,AnchorX:i,AnchorY:s,isCurved:!1,isChange:!1}},ht.prototype.curvedEdgeRecord=function(t,e){var r=this,o=r.bitio,a=o.getSIBits(e+2),n=o.getSIBits(e+2),i=o.getSIBits(e+2),s=o.getSIBits(e+2),c=a,l=n,p=i,g=s;return 46!==t&&84!==t&&(p=(c=r.currentPosition.x+a)+i,g=(l=r.currentPosition.y+n)+s,r.currentPosition.x=p,r.currentPosition.y=g),{ControlX:c,ControlY:l,AnchorX:p,AnchorY:g,isCurved:!0,isChange:!1}},ht.prototype.styleChangeRecord=function(t,e,r){var o=this,a=o.bitio,n={};if(n.StateNewStyles=e>>4&1,n.StateLineStyle=e>>3&1,n.StateFillStyle1=e>>2&1,n.StateFillStyle0=e>>1&1,n.StateMoveTo=1&e,n.StateMoveTo){var i=a.getUIBits(5);n.MoveX=a.getSIBits(i),n.MoveY=a.getSIBits(i),o.currentPosition.x=n.MoveX,o.currentPosition.y=n.MoveY}if(n.FillStyle0=0,n.StateFillStyle0&&(n.FillStyle0=a.getUIBits(r.FillBits)),n.FillStyle1=0,n.StateFillStyle1&&(n.FillStyle1=a.getUIBits(r.FillBits)),n.LineStyle=0,n.StateLineStyle&&(n.LineStyle=a.getUIBits(r.LineBits)),n.StateNewStyles){n.FillStyles=o.fillStyleArray(t),n.LineStyles=o.lineStyleArray(t);var s=a.getUI8();r.FillBits=n.NumFillBits=s>>4,r.LineBits=n.NumLineBits=15&s}return n.isChange=!0,n},ht.prototype.appendShapeTag=function(t,e,r,o){this.stage.setCharacter(t,{tagType:o,data:lt.convert(r,!1),bounds:e})},ht.prototype.parseDefineBitsLossLess=function(t,e){var r=this.bitio,o=this.stage,a=r.byte_offset,n=r.getUI16(),i=r.getUI8(),s=r.getUI16(),c=r.getUI16(),l=36===t,p=0;3===i&&(p=r.getUI8()+1);var g=r.byte_offset-a,u=r.getData(e-g),f=r.unzip(u,!1),h=gt.getCanvas();h.width=s,h.height=c;var d=h.getContext("2d"),v=d.createImageData(s,c),y=v.data,b=0,m=0,S=s,A=c;if(5!==i||l){var I=l?4:3,C=p*I,x=0;for(p&&(x=(s+3&-4)-s),A=c;A--;){for(S=s;S--;)if(b=p?f[C++]*I:C++*I,l){var k=3===i?f[b+3]:f[b++];et?(y[m++]=f[b++],y[m++]=f[b++],y[m++]=f[b++]):(y[m++]=255*f[b++]/k,y[m++]=255*f[b++]/k,y[m++]=255*f[b++]/k),y[m++]=k,3===i&&b++}else y[m++]=f[b++],y[m++]=f[b++],y[m++]=f[b++],b++,y[m++]=255;C+=x}}else for(b=0,m=0,A=c;A--;)for(S=s;S--;)b++,y[m++]=f[b++],y[m++]=f[b++],y[m++]=f[b++],y[m++]=255;d.putImageData(v,0,0),o.setCharacter(n,d)},ht.prototype.parseExportAssets=function(){for(var t=this.bitio,e=this.stage,r=t.getUI16(),o=e.exportAssets,a=e.packages;r--;){var n=t.getUI16(),i=t.getDataUntil("\0");"__Packages"===i.substr(0,10)&&(a[n]=1),o[i]=n}e.exportAssets=o},ht.prototype.parseJPEGTables=function(t){return this.bitio.getData(t)},ht.prototype.parseDefineBits=function(t,r,o){var a=this,n=a.bitio,i=n.byte_offset,s=n.getUI16(),c=n.byte_offset-i,l=r-c;if(35!==t&&90!==t||(l=n.getUI32()),90===t){var p=n.getUI16();F.log("DeblockParam",p)}var g=n.getData(l),u=!1;35!==t&&90!==t||(u=n.getData(r-c-l)),n.byte_offset=i+r;var f=a.stage;f.imgUnLoadCount++;var h=e.createElement("img");if(h.addEventListener("load",(function(){var t=this.width,e=this.height,r=gt.getCanvas();r.width=t,r.height=e;var o=r.getContext("2d");if(o.drawImage(this,0,0,t,e),u){for(var a=n.unzip(u,!1),i=o.getImageData(0,0,t,e),c=i.data,l=3,p=t*e,g=0;g<p;g++)c[l]=a[g],l+=4;o.putImageData(i,0,0)}f.setCharacter(s,o),f.imgUnLoadCount--})),null!==o&&o.length>4){for(var d=[],v=o.length-2,y=0;y<v;y++)d[d.length]=o[y];for(v=g.length,y=2;y<v;y++)d[d.length]=g[y];g=d}h.src="data:image/jpeg;base64,"+a.base64encode(a.parseJpegData(g)),I((function(){}),0)},ht.prototype.parseJpegData=function(t){var e=0,r=0,o="",a=t.length;if(255===t[0]&&217===t[1]&&255===t[2]&&216===t[3])for(e=4;e<a;e++)o+=S(t[e]);else if(255===t[e++]&&216===t[e++]){for(r=0;r<e;r++)o+=S(t[r]);for(;e<a;)if(255===t[e]){if(217===t[e+1]&&255===t[e+2]&&216===t[e+3]){for(r=e+=4;r<a;r++)o+=S(t[r]);break}if(218===t[e+1]){for(r=e;r<a;r++)o+=S(t[r]);break}var n=(t[e+2]<<8)+t[e+3]+e+2;for(r=e;r<n;r++)o+=S(t[r]);e+=n-e}}return o},ht.prototype.base64encode=function(e){if(B)return t.btoa(e);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=[],a=0,n=e.length;a<n;){var i=255&e.charCodeAt(a++);if(a===n){o[o.length]=r.charAt(i>>2),o[o.length]=r.charAt((3&i)<<4),o[o.length]="==";break}var s=e.charCodeAt(a++);if(a===n){o[o.length]=r.charAt(i>>2),o[o.length]=r.charAt((3&i)<<4|(240&s)>>4),o[o.length]=r.charAt((15&s)<<2),o[o.length]="=";break}var c=e.charCodeAt(a++);o[o.length]=r.charAt(i>>2),o[o.length]=r.charAt((3&i)<<4|(240&s)>>4),o[o.length]=r.charAt((15&s)<<2|(192&c)>>6),o[o.length]=r.charAt(63&c)}return o.join("")},ht.prototype.parseDefineFont=function(t,e){var r=this,o=r.bitio,a=r.stage,n=o.byte_offset+e,i=0,s=0,c={};c.tagType=t,c.FontId=o.getUI16();var l=0;if(48===t||75===t){var p=o.getUI8();if(c.FontFlagsHasLayout=p>>>7&1,c.FontFlagsShiftJIS=p>>>6&1,c.FontFlagsSmallText=p>>>5&1,c.FontFlagsANSI=p>>>4&1,c.FontFlagsWideOffsets=p>>>3&1,c.FontFlagsWideCodes=p>>>2&1,c.FontFlagsItalic=p>>>1&1,c.FontFlagsBold=1&p,o.byteAlign(),c.LanguageCode=o.getUI8(),c.FontNameLen=o.getUI8(),c.FontNameLen){var g,u=o.byte_offset,f=o.getData(c.FontNameLen),h="";for(s=c.FontNameLen,i=0;i<s;i++)f[i]>127||(h+=S(f[i]));g=c.FontFlagsShiftJIS||2===c.LanguageCode?o.decodeToShiftJis(h):decodeURIComponent(h),c.FontName=r.getFontName(g),o.byte_offset=u+c.FontNameLen}l=o.getUI16(),c.NumGlyphs=l}var d=o.byte_offset;if(10===t&&(l=o.getUI16()),l){var v=[];if(10===t&&(v[0]=l,l/=2,l--),c.FontFlagsWideOffsets){for(i=l;i--;)v[v.length]=o.getUI32();10!==t&&(c.CodeTableOffset=o.getUI32())}else{for(i=l;i--;)v[v.length]=o.getUI16();10!==t&&(c.CodeTableOffset=o.getUI16())}var y=[];for(10===t&&l++,i=0;i<l;i++){o.setOffset(v[i]+d,0);var b=o.getUI8(),m={FillBits:b>>4,LineBits:15&b},A={};A.ShapeRecords=r.shapeRecords(t,m),A.lineStyles={lineStyles:[{Color:{R:0,G:0,B:0,A:1},lineStyleType:0}]},A.fillStyles={fillStyles:[{Color:{R:0,G:0,B:0,A:1},fillStyleType:0}]},y[y.length]=A}if(c.GlyphShapeTable=y,48===t||75===t){o.setOffset(c.CodeTableOffset+d,0);var I=[];if(c.FontFlagsWideCodes)for(i=l;i--;)I[I.length]=o.getUI16();else for(i=l;i--;)I[I.length]=o.getUI8();if(c.CodeTable=I,c.FontFlagsHasLayout){c.FontAscent=o.getUI16(),c.FontDescent=o.getUI16(),c.FontLeading=o.getUI16();var C=[];for(i=l;i--;)C[C.length]=o.getUI16();c.FontAdvanceTable=C;var x=[];for(i=l;i--;)x[x.length]=r.rect();if(c.FontBoundsTable=x,75===t)for(c.KerningCount=o.getUI16(),c.KerningRecord=[],i=c.KerningCount;i--;){var k=c.FontFlagsWideCodes?o.getUI16():o.getUI8(),T=c.FontFlagsWideCodes?o.getUI16():o.getUI8(),M=o.getSIBits(16);c.KerningRecord[c.KerningRecord.length]={FontKerningCode1:k,FontKerningCode2:T,FontKerningAdjustment:M}}}}}o.byte_offset=n,a.setCharacter(c.FontId,c),a.fonts[c.FontName]=c},ht.prototype.parseDefineFontInfo=function(t,e){var r=this.bitio,o=r.byte_offset+e,a={};a.tagType=t,a.FontId=r.getUI16();for(var n,i=r.getUI8(),s=r.getData(i),c="",l=0;l<i;l++)s[l]>127||(c+=S(s[l]));a.FontFlagsReserved=r.getUIBits(2),a.FontFlagsSmallText=r.getUIBits(1),a.FontFlagsShiftJIS=r.getUIBits(1),a.FontFlagsANSI=r.getUIBits(1),a.FontFlagsItalic=r.getUIBits(1),a.FontFlagsBold=r.getUIBits(1),a.FontFlagsWideCodes=r.getUIBits(1),62===t&&(a.LanguageCode=r.getUI8()),n=a.FontFlagsShiftJIS||2===a.LanguageCode?r.decodeToShiftJis(c):decodeURIComponent(c),a.FontName=this.getFontName(n);var p=[];r.byteAlign();var g=o-r.byte_offset;if(a.FontFlagsWideCodes||62===t)for(;g;)p[p.length]=r.getUI16(),g-=2;else for(;g;)p[p.length]=r.getUI8(),g--;a.CodeTable=p},ht.prototype.getFontName=function(t){var e=t.length;switch(0===t.substr(e-1).charCodeAt(0)&&(t=t.slice(0,-1)),t){case"_sans":return"sans-serif";case"_serif":return"serif";case"_typewriter":return"monospace";default:return"_"===t.substr(0,1)?"sans-serif":t}},ht.prototype.parseDefineFontName=function(){var t=this.bitio;t.getUI16(),t.getDataUntil("\0"),t.getDataUntil("\0")},ht.prototype.parseDefineText=function(t){var e=this,r=e.bitio,o=e.stage,a={},n=r.getUI16();a.tagType=t,a.bounds=e.rect(),a.matrix=e.matrix();var i=r.getUI8(),s=r.getUI8();a.textRecords=e.getTextRecords(t,i,s),o.setCharacter(n,a)},ht.prototype.getTextRecords=function(t,e,r){for(var o=this,a=o.bitio,n=[];0!==a.getUI8();){a.incrementOffset(-1,0);var i={};i.TextRecordType=a.getUIBits(1),i.StyleFlagsReserved=a.getUIBits(3),i.StyleFlagsHasFont=a.getUIBits(1),i.StyleFlagsHasColor=a.getUIBits(1),i.StyleFlagsHasYOffset=a.getUIBits(1),i.StyleFlagsHasXOffset=a.getUIBits(1),i.StyleFlagsHasFont&&(i.FontId=a.getUI16()),i.StyleFlagsHasColor&&(i.TextColor=11===t?o.rgb():o.rgba()),i.StyleFlagsHasXOffset&&(i.XOffset=a.getUI16()),i.StyleFlagsHasYOffset&&(i.YOffset=a.getUI16()),i.StyleFlagsHasFont&&(i.TextHeight=a.getUI16()),i.GlyphCount=a.getUI8(),i.GlyphEntries=o.getGlyphEntries(i.GlyphCount,e,r),n[n.length]=i}return n},ht.prototype.getGlyphEntries=function(t,e,r){for(var o=this.bitio,a=[],n=t;n--;)a[a.length]={GlyphIndex:o.getUIBits(e),GlyphAdvance:o.getSIBits(r)};return a},ht.prototype.parseDefineEditText=function(t){var r=this,o=r.bitio,a=r.stage,n={},i=!1;n.CharacterId=o.getUI16();var s=r.rect(),c=o.getUI8();n.HasText=c>>>7&1,n.WordWrap=c>>>6&1,n.Multiline=c>>>5&1,n.Password=c>>>4&1,n.ReadOnly=c>>>3&1,n.HasTextColor=c>>>2&1,n.HasMaxLength=c>>>1&1,n.HasFont=1&c;var l=o.getUI8();(n.HasFontClass=l>>>7&1,n.AutoSize=l>>>6&1,n.HasLayout=l>>>5&1,n.NoSelect=l>>>4&1,n.Border=l>>>3&1,n.WasStatic=l>>>2&1,n.HTML=l>>>1&1,n.UseOutlines=1&l,n.HasFont)&&(n.FontID=o.getUI16(),i=!!a.getCharacter(n.FontID).FontFlagsShiftJIS,n.HasFontClass&&(n.FontClass=o.getDataUntil("\0")),n.FontHeight=o.getUI16());n.HasTextColor&&(n.TextColor=r.rgba()),n.HasMaxLength&&(n.MaxLength=o.getUI16()),n.HasLayout&&(n.Align=o.getUI8(),n.LeftMargin=o.getUI16(),n.RightMargin=o.getUI16(),n.Indent=o.getUI16(),n.Leading=o.getUI16());var p=o.getDataUntil("\0",i)+"";if(n.VariableName=""===p?null:p,n.InitialText="",n.HasText){var g=o.getDataUntil("\0",i);if(n.HTML){-1!==g.indexOf("<sbr />")&&(g=g.replace(new RegExp("<sbr />","gi"),"\n")),-1!==g.indexOf("<b>")&&(g=(g=g.replace(new RegExp("<b>","gi"),"")).replace(new RegExp("</b>","gi"),""));var u=e.createElement("span");u.innerHTML=g;for(var f=u.getElementsByTagName("p"),h=f.length,d=[],v=0;v<h;v++)d[v]=f[v];n.InitialText=d}else n.InitialText=g}a.setCharacter(n.CharacterId,{data:n,bounds:s,tagType:t})},ht.prototype.parseDefineMorphShape=function(t){var e=this,r=e.bitio,o=e.stage,n={};n.tagType=t,n.CharacterId=r.getUI16(),n.StartBounds=e.rect(),n.EndBounds=e.rect(),84===t&&(n.StartEdgeBounds=e.rect(),n.EndEdgeBounds=e.rect(),r.getUIBits(6),n.UsesNonScalingStrokes=r.getUIBits(1),n.UsesScalingStrokes=r.getUIBits(1));var i=r.getUI32(),s=r.byte_offset+i;n.MorphFillStyles=e.fillStyleArray(t),n.MorphLineStyles=e.lineStyleArray(t),n.StartEdges=e.shapeWithStyle(t),r.byte_offset!==s&&(r.byte_offset=s),n.EndEdges=e.shapeWithStyle(t);for(var c={x:0,y:0},l={x:0,y:0},p=n.StartEdges.ShapeRecords,g=n.EndEdges.ShapeRecords,u=p.length,f=g.length,h=a(u,f),d=0;d<h;d++){var v={},y=p[d],b=g[d];(y||b)&&(y.isChange||b.isChange?y.isChange&&!b.isChange?(v={FillStyle0:y.FillStyle0,FillStyle1:y.FillStyle1,LineStyle:y.LineStyle,StateFillStyle0:y.StateFillStyle0,StateFillStyle1:y.StateFillStyle1,StateLineStyle:y.StateLineStyle,StateMoveTo:y.StateMoveTo,StateNewStyles:y.StateNewStyles,isChange:!0},y.StateMoveTo&&(v.MoveX=l.x,v.MoveY=l.y,c.x=y.MoveX,c.y=y.MoveY),g.splice(d,0,v)):!y.isChange&&b.isChange?(v={FillStyle0:b.FillStyle0,FillStyle1:b.FillStyle1,LineStyle:b.LineStyle,StateFillStyle0:b.StateFillStyle0,StateFillStyle1:b.StateFillStyle1,StateLineStyle:b.StateLineStyle,StateMoveTo:b.StateMoveTo,StateNewStyles:b.StateNewStyles,isChange:!0},b.StateMoveTo&&(v.MoveX=c.x,v.MoveY=c.y,l.x=b.MoveX,l.y=b.MoveY),p.splice(d,0,v)):(y.StateMoveTo&&(c.x=y.MoveX,c.y=y.MoveY),b.StateMoveTo&&(l.x=b.MoveX,l.y=b.MoveY)):(y.isCurved?(c.x+=y.ControlX+y.AnchorX,c.y+=y.ControlY+y.AnchorY):(c.x+=y.AnchorX,c.y+=y.AnchorY),b.isCurved?(l.x+=b.ControlX+b.AnchorX,l.y+=b.ControlY+b.AnchorY):(l.x+=b.AnchorX,l.y+=b.AnchorY)))}var m=0,S=0;for(h=n.StartEdges.ShapeRecords.length,d=0;d<h;d++){var A=p[d];A.isChange&&(A.StateFillStyle0&&(S=A.FillStyle0),S?(A.StateFillStyle0=1,A.StateFillStyle1=1,m?(A.FillStyle0=0,A.FillStyle1=S):(A.FillStyle0=S,A.FillStyle1=0)):(A.StateFillStyle1=1,A.FillStyle1=0),m=m?0:1)}o.setCharacter(n.CharacterId,n)},ht.prototype.buildMorphShape=function(t,e){for(var r,o,a,i=void 0===e?0:e/65535,s=1-i,c=[],l=t.MorphLineStyles,p=l.lineStyles,g=l.lineStyleCount,u=t.MorphFillStyles,f=u.fillStyles,h=u.fillStyleCount,d=t.StartEdges.ShapeRecords,v=t.EndEdges.ShapeRecords,y={lineStyles:{lineStyleCount:g,lineStyles:[]},fillStyles:{fillStyleCount:h,fillStyles:[]},ShapeRecords:[]},b={x:0,y:0},m=d.length,S=0;S<m;S++){var A=d[S];if(A){var I={},C=v[S];if(A.isChange){var x=0,k=0;1===A.StateMoveTo&&(x=A.MoveX*s+C.MoveX*i,k=A.MoveY*s+C.MoveY*i,b.x=x,b.y=k),I={FillStyle0:A.FillStyle0,FillStyle1:A.FillStyle1,LineStyle:A.LineStyle,MoveX:x,MoveY:k,StateFillStyle0:A.StateFillStyle0,StateFillStyle1:A.StateFillStyle1,StateLineStyle:A.StateLineStyle,StateMoveTo:A.StateMoveTo,StateNewStyles:A.StateNewStyles,isChange:!0}}else{var T,M,F,B,U=A.AnchorX,w=A.AnchorY,_=C.AnchorX,Y=C.AnchorY,P=A.ControlX,O=A.ControlY,D=C.ControlX,X=C.ControlY;i>0&&i<1&&A.isCurved!==C.isCurved&&(A.isCurved||(P=U=A.AnchorX/2,O=w=A.AnchorY/2),C.isCurved||(D=_=C.AnchorX/2,X=Y=C.AnchorY/2)),T=U*s+_*i+(F=P*s+D*i+b.x),M=w*s+Y*i+(B=O*s+X*i+b.y),b.x=T,b.y=M,I={AnchorX:T,AnchorY:M,ControlX:F,ControlY:B,isChange:!1,isCurved:A.isCurved||C.isCurved}}c[S]=I}}for(c[c.length]=0,y.ShapeRecords=c,S=0;S<g;S++){var L=p[S];r=L.EndColor,o=L.StartColor,a={R:n(o.R*s+r.R*i),G:n(o.G*s+r.G*i),B:n(o.B*s+r.B*i),A:o.A*s+r.A*i};var E=p[S].EndWidth,R=p[S].StartWidth;y.lineStyles.lineStyles[S]={Width:n(R*s+E*i),Color:a,fillStyleType:0}}for(S=0;S<h;S++){var H=f[S],N=H.fillStyleType;if(0===N)r=H.EndColor,o=H.StartColor,a={R:n(o.R*s+r.R*i),G:n(o.G*s+r.G*i),B:n(o.B*s+r.B*i),A:o.A*s+r.A*i},y.fillStyles.fillStyles[S]={Color:a,fillStyleType:N};else{for(var j=H.endGradientMatrix,G=H.startGradientMatrix,Z=[G[0]*s+j[0]*i,G[1]*s+j[1]*i,G[2]*s+j[2]*i,G[3]*s+j[3]*i,G[4]*s+j[4]*i,G[5]*s+j[5]*i],V=[],W=H.gradient.GradientRecords,z=W.length,K=0;K<z;K++){var q=W[K];r=q.EndColor,o=q.StartColor,a={R:n(o.R*s+r.R*i),G:n(o.G*s+r.G*i),B:n(o.B*s+r.B*i),A:o.A*s+r.A*i},V[K]={Color:a,Ratio:q.StartRatio*s+q.EndRatio*i}}y.fillStyles.fillStyles[S]={gradient:{GradientRecords:V},gradientMatrix:Z,fillStyleType:N}}}var J=t.EndBounds,Q=t.StartBounds,$={xMax:Q.xMax*s+J.xMax*i,xMin:Q.xMin*s+J.xMin*i,yMax:Q.yMax*s+J.yMax*i,yMin:Q.yMin*s+J.yMin*i};return{data:lt.convert(y,!0),bounds:$}},ht.prototype.parseFrameLabel=function(){return{name:this.bitio.getDataUntil("\0"),frame:0}},ht.prototype.parseRemoveObject=function(t){var e=this.bitio;return 5===t?(F.log("RemoveObject"),{CharacterId:e.getUI16(),Depth:e.getUI16()}):{Depth:e.getUI16()}},ht.prototype.parseDefineButton=function(t,e){var r={};r.tagType=t;var o=this,a=o.bitio,n=o.stage,i=a.byte_offset+e;r.ButtonId=a.getUI16();var s=0;return 7!==t&&(r.ReservedFlags=a.getUIBits(7),r.TrackAsMenu=a.getUIBits(1),s=a.getUI16()),r.characters=o.buttonCharacters(),7===t?r.actions=o.parseDoAction(i-a.byte_offset):s>0&&(r.actions=o.buttonActions(i)),n.setCharacter(r.ButtonId,r),a.byte_offset!==i&&(a.byte_offset=i),r},ht.prototype.buttonCharacters=function(){for(var t=[],e=this.bitio;0!==e.getUI8();){e.incrementOffset(-1,0);var r=this.buttonRecord(),o=r.Depth;r.Depth in t||(t[o]=[]),t[o].push(r)}return t},ht.prototype.buttonRecord=function(){var t=this,e=t.bitio,r={};return e.getUIBits(2),r.PlaceFlagHasBlendMode=e.getUIBits(1),r.PlaceFlagHasFilterList=e.getUIBits(1),r.ButtonStateHitTest=e.getUIBits(1),r.ButtonStateDown=e.getUIBits(1),r.ButtonStateOver=e.getUIBits(1),r.ButtonStateUp=e.getUIBits(1),r.CharacterId=e.getUI16(),r.Depth=e.getUI16(),r.PlaceFlagHasMatrix=1,r.Matrix=t.matrix(),r.ColorTransform=t.colorTransform(),r.PlaceFlagHasColorTransform=void 0===r.ColorTransform?0:1,r.PlaceFlagHasBlendMode&&(r.BlendMode=e.getUI8()),r.PlaceFlagHasFilterList&&(r.SurfaceFilterList=t.getFilterList()),r.PlaceFlagHasRatio=0,r.PlaceFlagHasClipDepth=0,r.Sound=null,r},ht.prototype.buttonActions=function(t){for(var e=this.bitio,r=[];;){var o={},a=e.byte_offset,n=e.getUI16();o.CondIdleToOverDown=e.getUIBits(1),o.CondOutDownToIdle=e.getUIBits(1),o.CondOutDownToOverDown=e.getUIBits(1),o.CondOverDownToOutDown=e.getUIBits(1),o.CondOverDownToOverUp=e.getUIBits(1),o.CondOverUpToOverDown=e.getUIBits(1),o.CondOverUpToIdle=e.getUIBits(1),o.CondIdleToOverUp=e.getUIBits(1),o.CondKeyPress=e.getUIBits(7),o.CondOverDownToIdle=e.getUIBits(1);var i=t-e.byte_offset+1;if(o.ActionScript=this.parseDoAction(i),r[r.length]=o,!n)break;e.byte_offset=a+n}return r},ht.prototype.parsePlaceObject=function(t,e){var r=this,o=r.bitio,a=r.stage,n={};n.tagType=t;var i=o.byte_offset;if(4===t)n.CharacterId=o.getUI16(),n.Depth=o.getUI16(),n.Matrix=r.matrix(),n.PlaceFlagHasMatrix=1,o.byteAlign(),o.byte_offset-i<e&&(n.ColorTransform=r.colorTransform(),n.PlaceFlagHasColorTransform=1);else if(n.PlaceFlagHasClipActions=o.getUIBits(1),a.getVersion()<5&&(n.PlaceFlagHasClipActions=0),n.PlaceFlagHasClipDepth=o.getUIBits(1),n.PlaceFlagHasName=o.getUIBits(1),n.PlaceFlagHasRatio=o.getUIBits(1),n.PlaceFlagHasColorTransform=o.getUIBits(1),n.PlaceFlagHasMatrix=o.getUIBits(1),n.PlaceFlagHasCharacter=o.getUIBits(1),n.PlaceFlagMove=o.getUIBits(1),70===t&&(o.getUIBits(1),n.PlaceFlagOpaqueBackground=o.getUIBits(1),n.PlaceFlagHasVisible=o.getUIBits(1),n.PlaceFlagHasImage=o.getUIBits(1),n.PlaceFlagHasClassName=o.getUIBits(1),n.PlaceFlagHasCacheAsBitmap=o.getUIBits(1),n.PlaceFlagHasBlendMode=o.getUIBits(1),n.PlaceFlagHasFilterList=o.getUIBits(1)),n.Depth=o.getUI16(),(n.PlaceFlagHasClassName||n.PlaceFlagHasImage&&n.PlaceFlagHasCharacter)&&(n.ClassName=o.getDataUntil("\0")),n.PlaceFlagHasCharacter&&(n.CharacterId=o.getUI16()),n.PlaceFlagHasMatrix&&(n.Matrix=r.matrix()),n.PlaceFlagHasColorTransform&&(n.ColorTransform=r.colorTransform()),n.PlaceFlagHasRatio&&(n.Ratio=o.getUI16()),n.PlaceFlagHasName&&(n.Name=o.getDataUntil("\0")),n.PlaceFlagHasClipDepth&&(n.ClipDepth=o.getUI16()),70===t&&(n.PlaceFlagHasFilterList&&(n.SurfaceFilterList=r.getFilterList()),n.PlaceFlagHasBlendMode&&(n.BlendMode=o.getUI8()),n.PlaceFlagHasCacheAsBitmap&&(n.BitmapCache=o.getUI8()),n.PlaceFlagHasVisible&&(n.Visible=o.getUI8(),n.BackgroundColor=r.rgba())),n.PlaceFlagHasClipActions){o.getUI16(),n.AllEventFlags=r.parseClipEventFlags();for(var s=i+e,c=[];o.byte_offset<s;){var l=r.parseClipActionRecord(s);if(c[c.length]=l,s<=o.byte_offset)break;if(!(a.getVersion()<=5?o.getUI16():o.getUI32()))break;a.getVersion()<=5?o.byte_offset-=2:o.byte_offset-=4,l.KeyCode&&(o.byte_offset-=1)}n.ClipActionRecords=c}return o.byteAlign(),o.byte_offset=i+e,n},ht.prototype.parseClipActionRecord=function(t){var e=this,r=e.bitio,o={},a=e.parseClipEventFlags();if(t>r.byte_offset){var n=r.getUI32();a.keyPress&&(o.KeyCode=r.getUI8()),o.EventFlags=a,o.Actions=e.parseDoAction(n)}return o},ht.prototype.parseClipEventFlags=function(){var t={},e=this.bitio,r=this.stage;return t.keyUp=e.getUIBits(1),t.keyDown=e.getUIBits(1),t.mouseUp=e.getUIBits(1),t.mouseDown=e.getUIBits(1),t.mouseMove=e.getUIBits(1),t.unload=e.getUIBits(1),t.enterFrame=e.getUIBits(1),t.load=e.getUIBits(1),r.getVersion()>=6&&(t.dragOver=e.getUIBits(1),t.rollOut=e.getUIBits(1),t.rollOver=e.getUIBits(1),t.releaseOutside=e.getUIBits(1),t.release=e.getUIBits(1),t.press=e.getUIBits(1),t.initialize=e.getUIBits(1)),t.data=e.getUIBits(1),r.getVersion()>=6&&(e.getUIBits(5),t.construct=e.getUIBits(1),t.keyPress=e.getUIBits(1),t.dragOut=e.getUIBits(1),e.getUIBits(8)),e.byteAlign(),t},ht.prototype.getFilterList=function(){for(var t=this,e=t.bitio,r=[],o=t.getFilter,a=e.getUI8(),n=0;n<a;n++){var i=o.call(t);i&&(r[r.length]=i)}return r.length?r:null},ht.prototype.getFilter=function(){var t,e=this;switch(e.bitio.getUI8()){case 0:t=e.dropShadowFilter();break;case 1:t=e.blurFilter();break;case 2:t=e.glowFilter();break;case 3:t=e.bevelFilter();break;case 4:t=e.gradientGlowFilter();break;case 5:t=e.convolutionFilter();break;case 6:t=e.colorMatrixFilter();break;case 7:t=e.gradientBevelFilter()}return t},ht.prototype.dropShadowFilter=function(){var t=this.bitio,e=this.rgba(),r=e.A,o=e.R<<16|e.G<<8|e.B,a=t.getUI32()/65536,n=t.getUI32()/65536,i=t.getUI32()/65536*180/b,s=t.getUI32()/65536,c=t.getFloat16()/256,l=!!t.getUIBits(1),p=!!t.getUIBits(1),g=!t.getUIBits(1),u=t.getUIBits(5);return c?new St(s,i,o,r,a,n,c,u,l,p,g):null},ht.prototype.blurFilter=function(){var t=this.bitio,e=t.getUI32()/65536,r=t.getUI32()/65536,o=t.getUIBits(5);return t.getUIBits(3),new mt(e,r,o)},ht.prototype.glowFilter=function(){var t=this.bitio,e=this.rgba(),r=e.A,o=e.R<<16|e.G<<8|e.B,a=t.getUI32()/65536,n=t.getUI32()/65536,i=t.getFloat16()/256,s=!!t.getUIBits(1),c=!!t.getUIBits(1);t.getUIBits(1);var l=t.getUIBits(5);return i?new At(o,r,a,n,i,l,s,c):null},ht.prototype.bevelFilter=function(){var t,e=this,r=e.bitio,o=(t=e.rgba()).A,a=t.R<<16|t.G<<8|t.B,n=(t=e.rgba()).A,i=t.R<<16|t.G<<8|t.B,s=r.getUI32()/65536,c=r.getUI32()/65536,l=r.getUI32()/65536*180/b,p=r.getUI32()/65536,g=r.getFloat16()/256,u=!!r.getUIBits(1),f=!!r.getUIBits(1);r.getUIBits(1);var h=r.getUIBits(1),d=r.getUIBits(4),v="inner";return u||(v=h?"full":"outer"),g?new It(p,l,a,o,i,n,s,c,g,d,v,f):null},ht.prototype.gradientGlowFilter=function(){var t,e=this.bitio,r=e.getUI8(),o=[],a=[];for(t=0;t<r;t++){var n=this.rgba();a[a.length]=n.A,o[o.length]=n.R<<16|n.G<<8|n.B}var i=[];for(t=0;t<r;t++)i[i.length]=e.getUI8();var s=e.getUI32()/65536,c=e.getUI32()/65536,l=e.getUI32()/65536*180/b,p=e.getUI32()/65536,g=e.getFloat16()/256,u=!!e.getUIBits(1),f=!!e.getUIBits(1);e.getUIBits(1);var h=e.getUIBits(1),d=e.getUIBits(4),v="inner";return u||(v=h?"full":"outer"),g?new Ct(p,l,o,a,i,s,c,g,d,v,f):null},ht.prototype.convolutionFilter=function(){var t=this.bitio,e={};e.MatrixX=t.getUI8(),e.MatrixY=t.getUI8(),e.Divisor=t.getFloat16()|t.getFloat16(),e.Bias=t.getFloat16()|t.getFloat16();for(var r=e.MatrixX*e.MatrixY,o=[];r--;)o[o.length]=t.getUI32();return e.DefaultColor=this.rgba(),t.getUIBits(6),e.Clamp=t.getUIBits(1),e.PreserveAlpha=t.getUIBits(1),new xt},ht.prototype.gradientBevelFilter=function(){var t,e=this.bitio,r=e.getUI8(),o=[],a=[];for(t=0;t<r;t++){var n=this.rgba();a[a.length]=n.A,o[o.length]=n.R<<16|n.G<<8|n.B}var i=[];for(t=0;t<r;t++)i[i.length]=e.getUI8();var s=e.getUI32()/65536,c=e.getUI32()/65536,l=e.getUI32()/65536*180/b,p=e.getUI32()/65536,g=e.getFloat16()/256,u=!!e.getUIBits(1),f=!!e.getUIBits(1);e.getUIBits(1);var h=e.getUIBits(1),d=e.getUIBits(4),v="inner";return u||(v=h?"full":"outer"),g?new Tt(p,l,o,a,i,s,c,g,d,v,f):null},ht.prototype.colorMatrixFilter=function(){for(var t=this.bitio,e=[],r=0;r<20;r++)e[e.length]=t.getUI32();return new kt},ht.prototype.colorTransform=function(){var t=this.bitio;t.byteAlign();var e=[1,1,1,1,0,0,0,0],r=t.getUIBits(6),o=r>>5,a=15&r;return r>>4&1&&(e[0]=t.getSIBits(a)/256,e[1]=t.getSIBits(a)/256,e[2]=t.getSIBits(a)/256,e[3]=t.getSIBits(a)/256),o&&(e[4]=t.getSIBits(a),e[5]=t.getSIBits(a),e[6]=t.getSIBits(a),e[7]=t.getSIBits(a)),e},ht.prototype.parseDefineSprite=function(t){var e=this,r=e.bitio,o=r.getUI16();r.getUI16(),e.stage.setCharacter(o,e.parseTags(t,o))},ht.prototype.parseDoAction=function(t){var e=this.bitio.getData(t);return new yt(e)},ht.prototype.parseDoInitAction=function(t){var e=this.bitio,r=this.stage,o=e.getUI16(),a=new yt(e.getData(t-2),void 0,void 0,!0),n=r.getParent();n.variables={};var i=n.createActionScript2(a);o in r.packages&&(n.active=!0,i.apply(n),n.active=!1),r.initActions[o]=i},ht.prototype.parseDefineSceneAndFrameLabelData=function(){var t,e=this.bitio,r={};for(r.SceneCount=e.getU30(),r.sceneInfo=[],t=0;t<r.SceneCount;t++)r.sceneInfo[t]={offset:e.getU30(),name:decodeURIComponent(e.getDataUntil("\0"))};for(r.FrameLabelCount=e.getU30(),r.frameInfo=[],t=0;t<r.FrameLabelCount;t++)r.frameInfo[t]={num:e.getU30(),label:decodeURIComponent(e.getDataUntil("\0"))};return r},ht.prototype.parseSoundStreamHead=function(t){var e={};e.tagType=t;var r=this.bitio;return r.getUIBits(4),e.PlaybackSoundRate=r.getUIBits(2),e.PlaybackSoundSize=r.getUIBits(1),e.PlaybackSoundType=r.getUIBits(1),e.StreamSoundCompression=r.getUIBits(4),e.StreamSoundRate=r.getUIBits(2),e.StreamSoundSize=r.getUIBits(1),e.StreamSoundType=r.getUIBits(1),e.StreamSoundSampleCount=r.getUI16(),2===e.StreamSoundCompression&&(e.LatencySeek=r.getSIBits(2)),e},ht.prototype.parseDoABC=function(t,e){var r=this,o=r.bitio;r.stage.abcFlag=!0;var a=o.byte_offset,n={};n.tagType=t,n.Flags=o.getUI32(),n.Name=o.getDataUntil("\0");var i=e-(o.byte_offset-a),s=o.getData(i),c=new ut;c.setData(s),n.minorVersion=c.getUI16(),n.majorVersion=c.getUI16(),n.integer=r.ABCInteger(c),n.uinteger=r.ABCUinteger(c),n.double=r.ABCDouble(c),n.string=r.ABCStringInfo(c),n.namespace=r.ABCNameSpaceInfo(c),n.nsSet=r.ABCNsSetInfo(c),n.multiname_info=r.ABCMultiNameInfo(c);var l=0;n.method=[];var p=c.getU30();if(p){var g=[];for(l=0;l<p;l++)g[l]=r.ABCMethodInfo(c);n.method=g}n.metadata=[];var u=c.getU30();if(u){var f=[];for(l=0;l<u;l++)f[l]=r.ABCMetadataInfo(c);n.metadata=f}var h=c.getU30();if(n.instance=[],n.class=[],h){var d=[];for(l=0;l<h;l++)d[l]=r.ABCInstanceInfo(c);n.instance=d;var v=[];for(l=0;l<h;l++)v[l]=r.ABCClassInfo(c);n.class=v}n.script=[];var y=c.getU30();if(y){var b=[];for(l=0;l<y;l++)b[l]=r.ABCScriptInfo(c);n.script=b}n.methodBody=[];var m=c.getU30();if(m){var S=[];for(l=0;l<m;l++){var A=r.ABCMethodBodyInfo(c);S[A.method]=A}n.methodBody=S}n=r.ABCMultinameToString(n),r.ABCBuildInstance(n)},ht.prototype.ABCBuildInstance=function(t){for(var e=this,r=t.instance,o=r.length,a=t.namespace,n=t.string,i=e.stage,s=t.names,c=0;c<o;c++){var l=r[c],p=null;8&l.flags&&(p=l.protectedNs);var g={};if(p)g=n[a[p].name];else g=s[l.name];var u=g.split(":"),f=u.pop(),h=u.pop(),d=function(t){this["__swf2js__::builder"]=t},v=d.prototype;v[f]=e.ABCCreateActionScript3(t,l.iinit,g);var y=l.trait,b=y.length,m=[],S=1;if(b)for(var A=0;A<b;A++){var I=y[A],C=s[I.name].split("::").pop(),x=void 0;switch(I.kind){case 0:m[S++]=C;break;case 1:case 2:case 3:x=e.ABCCreateActionScript3(t,I.data.info,g);break;case 4:F.log("build: Class");break;case 5:F.log("build: Function");break;case 6:F.log("build: Const")}v[C]=x}var k="__swf2js__:"+g;v[k]={};var T=l.superName;v[k].extends=s[T],v[k].register=m;var M=i.abc,B=i.avm2;if(h)for(var U=h.split("."),w=U.length,_=0;_<w;_++)U[_]in B||(B[U[_]]={},M[U[_]]={}),B=B[U[_]],M=M[U[_]];M[f]=d,B[f]=new d}},ht.prototype.ABCCreateActionScript3=function(t,e,r){return function(t,e,r,o){return function(){var a=new vt(t,e,r,o);return a.caller=this,a.args=arguments,a.execute()}}(t,e,r,this.stage)},ht.prototype.ABCMultinameToString=function(t){for(var e=t.multiname_info,r=e.length,o=t.string,a=t.namespace,n=[],i=1;i<r;i++){var s=e[i],c="";switch(s.kind){case 7:case 13:var l=a[s.ns];switch(l.kind){default:c+=o[l.name];break;case 5:c+="private"}""!==c&&(c+="::"),c+=o[s.name];break;case 15:case 16:F.log("RTQName",i,s);break;case 9:case 14:c=o[s.name];break;case 27:case 28:c=null;break;case 17:case 18:F.log("RTQNameL",i,s)}n[i]=c}return t.names=n,t},ht.prototype.ABCInteger=function(t){var e=[],r=t.getU30();if(r)for(var o=1;o<r;o++)e[o]=t.getS30();return e},ht.prototype.ABCUinteger=function(t){var e=[],r=t.getU30();if(r)for(var o=1;o<r;o++)e[o]=t.getU30();return e},ht.prototype.ABCDouble=function(t){var e=[],r=t.getU30();if(r)for(var o=1;o<r;o++)e[o]=t.getFloat64LittleEndian();return e},ht.prototype.ABCStringInfo=function(t){var e=[],r=t.getU30();if(r)for(var o=1;o<r;o++)e[o]=t.AbcReadString();return e},ht.prototype.ABCNameSpaceInfo=function(t){var e=[],r=t.getU30();if(r)for(var o=1;o<r;o++)e[o]={kind:t.getUI8(),name:t.getU30()};return e},ht.prototype.ABCNsSetInfo=function(t){var e=[],r=t.getU30();if(r)for(var o=1;o<r;o++){var a=t.getU30(),n=[];if(a)for(var i=0;i<a;i++)n[i]=t.getU30();e[o]=n}return e},ht.prototype.ABCMultiNameInfo=function(t){var e=[],r=t.getU30();if(r)for(var o=1;o<r;o++){var a={};switch(a.kind=t.getUI8(),a.kind){case 7:case 13:a.ns=t.getU30(),a.name=t.getU30();break;case 15:case 16:a.name=t.getU30();break;case 9:case 14:a.name=t.getU30(),a.ns_set=t.getU30();break;case 27:case 28:a.ns_set=t.getU30()}e[o]=a}return e},ht.prototype.ABCMethodInfo=function(t){var e,r={},o=t.getU30();if(r.paramCount=o,r.returnType=t.getU30(),r.paramType=[],o){var a=[];for(e=0;e<o;e++)a[a.length]=t.getU30();r.paramType=a}if(r.name=t.getU30(),r.flags=t.getUI8(),r.options=[],8===r.flags){var n=[],i=t.getU30();if(i)for(e=0;e<i;e++)n[n.length]={val:t.getU30(),kind:t.getUI8()};r.options=n}if(r.paramName=[],128===r.flags){var s=[];if(o)for(e=0;e<o;e++)s[s.length]=t.getU30();r.paramName=s}return r},ht.prototype.ABCMetadataInfo=function(t){var e={};e.name=t.getU30(),e.items=[];var r=t.getU30();if(r){for(var o=[],a=0;a<r;a++)o[o.length]={key:t.getU30(),value:t.getU30()};e.items=o}return e},ht.prototype.ABCInstanceInfo=function(t){var e={};e.name=t.getU30(),e.superName=t.getU30(),e.flags=t.getUI8(),8&e.flags&&(e.protectedNs=t.getU30());var r=t.getU30();if(e.interfaces=[],r){for(var o=[],a=0;a<r;a++)o[o.length]=t.getU30();e.interfaces=o}return e.iinit=t.getU30(),e.trait=this.ABCTrait(t),e},ht.prototype.ABCClassInfo=function(t){var e={};return e.cinit=t.getU30(),e.trait=this.ABCTrait(t),e},ht.prototype.ABCScriptInfo=function(t){var e={};return e.init=t.getU30(),e.trait=this.ABCTrait(t),e},ht.prototype.ABCMethodBodyInfo=function(t){var e,r=this,o={};o.method=t.getU30(),o.maxStack=t.getU30(),o.localCount=t.getU30(),o.initScopeDepth=t.getU30(),o.maxScopeDepth=t.getU30();var a=t.getU30(),n=[];a&&(n=r.ABCBuildCode(t,a)),o.codes=n;var i=[];if(a=t.getU30())for(e=0;e<a;e++)i[i.length]=r.ABCException(t);return o.exceptions=i,o.trait=r.ABCTrait(t),o},ht.prototype.ABCBuildCode=function(t,e){for(var r,o=[],a=0;a<e;a++){var n={},i=0,s=t.getUI8();switch(n.code=s,s){case 134:case 65:case 128:case 66:case 73:case 241:case 240:case 148:case 195:case 106:case 6:case 94:case 93:case 89:case 110:case 96:case 98:case 102:case 108:case 4:case 146:case 194:case 104:case 178:case 8:case 86:case 90:case 88:case 64:case 85:case 47:case 45:case 49:case 37:case 44:case 46:case 99:case 111:case 97:case 109:case 5:r=t.byte_offset,n.value1=t.getU30(),i+=t.byte_offset-r;break;case 27:n.value1=t.getSI24(),i+=3,r=t.byte_offset,n.value2=t.getSI24(),i+=t.byte_offset-r,n.value3=t.getSI24(),i+=3;break;case 101:case 36:n.value1=t.getSI8(),i+=1;break;case 50:n.value1=t.getSI8(),n.value2=t.getSI8(),i+=2;break;case 19:case 18:case 24:case 23:case 22:case 21:case 15:case 14:case 13:case 12:case 20:case 25:case 26:case 17:case 16:n.value1=t.getSI24(),i+=3;break;case 67:case 70:case 76:case 79:case 68:case 69:case 78:case 74:case 239:r=t.byte_offset,n.value1=t.getU30(),n.value2=t.getU30(),i+=t.byte_offset-r}n.offset=i,o[a]=n,a+=i}return o},ht.prototype.ABCException=function(t){var e={};return e.from=t.getU30(),e.to=t.getU30(),e.target=t.getU30(),e.excType=t.getU30(),e.varName=t.getU30(),e},ht.prototype.ABCTrait=function(t){var e=t.getU30(),r=[];if(e)for(var o=0;o<e;o++){var a={};a.name=t.getU30();var n=15&t.getUI8(),i=n>>4&15,s={};switch(n){default:F.log("ERROR:"+n);break;case 0:case 6:s.id=t.getU30(),s.name=t.getU30(),s.index=t.getU30(),s.kind=null,0!==s.index&&(s.kind=t.getUI8());break;case 1:case 2:case 3:case 4:case 5:s.id=t.getU30(),s.info=t.getU30()}if(a.kind=n,a.data=s,4&i){var c=t.getU30(),l=[];if(c)for(var p=0;p<c;p++)l[l.length]=t.getU30();a.metadata=l}r[r.length]=a}return r},ht.prototype.parseSymbolClass=function(){var t=this.bitio,e=this.stage.symbols,r=t.getUI16();if(r)for(;r--;){e[t.getUI16()]=t.getDataUntil("\0")}},ht.prototype.parseDefineSound=function(e,r){var o={},a=this.bitio,n=this.stage,i=a.byte_offset;o.tagType=e,o.SoundId=a.getUI16(),o.SoundFormat=a.getUIBits(4),o.SoundRate=a.getUIBits(2),o.SoundSize=a.getUIBit(),o.SoundType=a.getUIBit(),o.SoundSampleCount=a.getUI32();for(var s=r-(a.byte_offset-i),c=a.getData(s),l="",p=0;p<s;p++)l+=S(c[p]);a.byte_offset=i+r;var g="";switch(o.SoundFormat){case 0:case 3:case 1:g="wave";break;case 2:g="mpeg";break;case 4:case 5:case 6:g="nellymoser";break;case 11:g="speex";break;case 15:g="x-aiff"}o.base64="data:audio/"+g+";base64,"+t.btoa(l),n.sounds[o.SoundId]=o},ht.prototype.parseStartSound=function(t){var r=this,o=r.bitio,a={},n=r.stage;a.tagType=t,a.SoundId=o.getUI16(),89===t&&(a.SoundClassName=o.getDataUntil("\0")),a.SoundInfo=r.parseSoundInfo(),n.setCharacter(a.SoundId,a);var i=n.sounds[a.SoundId],s=e.createElement("audio");s.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},s.src=i.base64;var c=n.loadSounds;return c[c.length]=s,{SoundId:a.SoundId,Audio:s,tagType:t}},ht.prototype.parseDefineButtonSound=function(){for(var t=this,e=t.bitio,r=t.stage,o=e.getUI16(),a=r.getCharacter(o),n=0;n<4;n++){var i=e.getUI16();if(i){var s=t.parseSoundInfo();switch(n){case 0:a.ButtonStateUpSoundInfo=s,a.ButtonStateUpSoundId=i;break;case 1:a.ButtonStateOverSoundInfo=s,a.ButtonStateOverSoundId=i;break;case 2:a.ButtonStateDownSoundInfo=s,a.ButtonStateDownSoundId=i;break;case 3:a.ButtonStateHitTestSoundInfo=s,a.ButtonStateHitTestSoundId=i}}}r.setCharacter(o,a)},ht.prototype.parseSoundInfo=function(){var t={},e=this.bitio;if(e.getUIBits(2),t.SyncStop=e.getUIBit(),t.SyncNoMultiple=e.getUIBit(),t.HasEnvelope=e.getUIBit(),t.HasLoops=e.getUIBit(),t.HasOutPoint=e.getUIBit(),t.HasInPoint=e.getUIBit(),t.HasInPoint&&(t.InPoint=e.getUI32()),t.HasOutPoint&&(t.OutPoint=e.getUI32()),t.HasLoops&&(t.LoopCount=e.getUI16()),t.HasEnvelope){t.EnvPoints=e.getUI8(),t.EnvelopeRecords=[];for(var r=0;r<t.EnvPoints;r++)t.EnvelopeRecords[r]={Pos44:e.getUI32(),LeftLevel:e.getUI16(),RightLevel:e.getUI16()}}return t},ht.prototype.parseDefineFontAlignZones=function(){var t=this.bitio,e=this.stage,r=t.getUI16(),o=e.getCharacter(r);o.CSMTableHint=t.getUIBits(2),t.getUIBits(6);for(var a=o.NumGlyphs,n=[],i=0;i<a;i++){for(var s=t.getUI8(),c=[],l=0;l<s;l++)c[l]=t.getUI32();n[i]={ZoneData:c,Mask:t.getUI8()}}t.byteAlign(),o.ZoneTable=n,e.setCharacter(r,o)},ht.prototype.parseCSMTextSettings=function(t){var e={},r=this.bitio;e.tagType=t,e.TextID=r.getUI16(),e.UseFlashType=r.getUIBits(2),e.GridFit=r.getUIBits(3),r.getUIBits(3),e.Thickness=r.getUI32(),e.Sharpness=r.getUI32(),r.getUI8()},ht.prototype.parseSoundStreamBlock=function(t,e){var r=this.bitio,o={};o.tagType=t,o.compressed=r.getData(e)},ht.prototype.parseDefineVideoStream=function(t){var e=this.bitio,r=this.stage,o={};o.tagType=t,o.CharacterId=e.getUI16(),o.NumFrames=e.getUI16(),o.Width=e.getUI16(),o.Height=e.getUI16(),e.getUIBits(4),o.VideoFlagsDeblocking=e.getUIBits(3),o.VideoFlagsSmoothing=e.getUIBits(1),o.CodecID=e.getUI8(),r.setCharacter(o.CharacterId,o),F.log(o)},ht.prototype.parseVideoFrame=function(t,e){var r=this,o=r.bitio,a=r.stage,n=o.byte_offset,i={};i.tagType=t,i.StreamID=o.getUI16(),i.FrameNum=o.getUI16();var s=a.getCharacter(i.StreamID),c=e-(o.byte_offset-n);switch(s.CodecID){case 4:r.parseVp6SwfVideoPacket(c)}o.byte_offset=n+e,a.videos[i.StreamID]=i},ht.prototype.parseVp6SwfVideoPacket=function(t){var e=this.bitio.getData(t);return F.log(e),""},ht.prototype.parseFileAttributes=function(){var t=this.bitio,e={};t.getUIBit(),e.UseDirectBlit=t.getUIBit(),e.UseGPU=t.getUIBit(),e.HasMetadata=t.getUIBit(),e.ActionScript3=t.getUIBit(),e.Reserved2=t.getUIBits(3),e.UseNetwork=t.getUIBit(),e.Reserved3=t.getUIBits(24)},ht.prototype.parseDefineScalingGrid=function(){var t=this.bitio,e={};e.CharacterId=t.getUI16(),e.Splitter=this.rect()};var dt=function(){},vt=function(t,e,r,o){var a=this;a.id=e,a.caller=null,a.parent=null,a.activation=null,a.scopeStack=[],a.currentIndex=0,a.stage=o,a.args=[],a.variables={};var n=t.methodBody[e];a.body=n,a.codes=n.codes,a.info=t.method[n.method],a.names=t.names,a.data=t,a.ns=r,a.AVM2=a.getAVM2(),a.register=a.AVM2["__swf2js__:"+r].register,a.register[0]=a.AVM2;for(var i=n.trait,s=i.length,c=0;c<s;c++){i[c].kind}};vt.prototype.methods={gotoAndStop:1,gotoAndPlay:1,play:1,stop:1,duplicateMovieClip:1,getProperty:1,removeMovieClip:1,setProperty:1,startDrag:1,stopDrag:1,targetPath:1,updateAfterEvent:1,nextFrame:1,nextScene:1,prevFrame:1,prevScene:1,stopAllSounds:1,setMask:1,getURL:1,loadMovie:1,loadMovieNum:1,loadVariables:1,loadVariablesNum:1,unloadMovie:1,unloadMovieNum:1,swapDepths:1,getInstanceAtDepth:1,attachMovie:1,attachAudio:1,attachBitmap:1,getNextHighestDepth:1,getBytesLoaded:1,getBytesTotal:1,ASSetPropFlags:1,lineStyle:1,lineGradientStyle:1,beginFill:1,beginGradientFill:1,beginBitmapFill:1,graphics:1,buttonMode:1,clear:1,moveTo:1,lineTo:1,curveTo:1,endFill:1,hitTest:1,getDepth:1,createEmptyMovieClip:1,createTextField:1,getBounds:1,getRect:1,getSWFVersion:1,getTextSnapshot:1,globalToLocal:1,localToGlobal:1,addFrameScript:1,trace:1,addEventListener:1,removeEventListener:1,x:1,y:1,alpha:1,name:1,blendMode:1,filters:1,visible:1,rotation:1,height:1,width:1,scaleX:1,scaleY:1,mouseX:1,mouseY:1,mask:1,mouseEnabled:1},vt.prototype.getAVM2=function(){for(var t=this.ns,e=this.stage,r=t.split(":"),o=r.pop(),a=r.length,n=e.avm2,i=0;i<a;i++)n=n[r[i]];return n[o]},vt.prototype.getBuilder=function(){return this.AVM2["__swf2js__::builder"]},vt.prototype.getSuperClass=function(){return this.AVM2["__swf2js__:"+this.ns].superClass},vt.prototype.setSuperClass=function(t){this.AVM2["__swf2js__:"+this.ns].superClass=t},vt.prototype.getParent=function(){return this.parent},vt.prototype.getProperty=function(t){var e,r=this,o=r.stage;if(r.activation&&(e=r.activation[t]),void 0===e){var a=r.getParent();a&&(e=a.getProperty(t))}if(void 0===e){var n=r.getBuilder();n&&(t in r.methods&&(e=n[t]),void 0===e&&(e=n.getProperty(t)))}if(void 0===e&&-1!==t.indexOf("::")){var i=t.split("::"),s=i.pop(),c=i.pop();if("private"!==c){for(var l=c.split("."),p=l.length,g=o.avm2,u=0;u<p;u++)g=g[l[u]];void 0===(e=g[s])&&(e=r.AVM2[s])}else e=r.AVM2["private::"+s]}return void 0===e&&(e=o.avm2[t]),e},vt.prototype.setOptions=function(){var t=this,e=t.info,r=e.paramCount;if(r)for(var o=t.data,a=e.options,n=e.paramType,i=t.stage,s=0;s<r;s++){var c=void 0;if(s in a){var l=a[s],p=l.val;switch(l.kind){case 1:c=o.string[p];break;default:F.log("options",l)}}if(s in n){var g=n[s];if(g){var u=o.multiname_info[g],f=null,h="";switch(u.kind){case 7:var d=o.namespace[u.ns];switch(d.kind){case 22:h=o.string[d.name];break;default:F.log("SetOptions",d)}f=o.string[u.name]}if(h){for(var v=h.split("."),y=v.length,b=i.avm2,m=0;m<y;m++)b=b[v[m]];c=b[f]}}}void 0===t.args[s]&&(t.args[s]=c)}},vt.prototype.execute=function(){var t=this,e=[];t.scopeStack=[];var r=0,o=t.codes,a=o.length;for(t.setOptions();r<a;){var n=o[r];switch(n.code){case 160:t.ActionAdd(e);break;case 197:t.ActionAddI(e);break;case 134:t.ActionAsType(e,n.value1);break;case 135:t.ActionAsTypeLate(e);break;case 168:t.ActionBitAnd(e);break;case 151:t.ActionBitNot(e);break;case 169:t.ActionBitOr(e);break;case 170:t.ActionBitXOr(e);break;case 65:t.ActionCall(e,n.value1);break;case 67:t.ActionCallMethod(e,n.value1,n.value2);break;case 70:t.ActionCallProperty(e,n.value1,n.value2);break;case 76:t.ActionCallPropLex(e,n.value1,n.value2);break;case 79:t.ActionCallPropVoid(e,n.value1,n.value2);break;case 68:t.ActionCallStatic(e,n.value1,n.value2);break;case 69:t.ActionCallSuper(e,n.value1,n.value2);break;case 78:t.ActionCallSuperVoid(e,n.value1,n.value2);break;case 120:t.ActionCheckFilter(e);break;case 128:t.ActionCoerce(e,n.value1);break;case 130:t.ActionCoerceA(e);break;case 133:t.ActionCoerceS(e);break;case 66:t.ActionConstruct(e,n.value1);break;case 74:t.ActionConstructProp(e,n.value1,n.value2);break;case 73:t.ActionConstructSuper(e,n.value1);break;case 118:t.ActionConvertB(e);break;case 115:t.ActionConvertI(e);break;case 117:t.ActionConvertD(e);break;case 119:t.ActionConvertO(e);break;case 116:t.ActionConvertU(e);break;case 112:t.ActionConvertS(e);break;case 239:t.ActionDebug(e,n.value1,n.value2,n.value3,n.value4);break;case 241:t.ActionDebugFile(e,n.value1);break;case 240:t.ActionDebugLine(e);break;case 148:t.ActionDecLocal(e,n.value1);break;case 195:t.ActionDecLocalI(e,n.value1);break;case 147:t.ActionDecrement(e);break;case 193:t.ActionDecrementI(e);break;case 106:t.ActionDeleteProperty(e,n.value1);break;case 163:t.ActionDivide(e);break;case 42:t.ActionDup(e);break;case 6:t.ActionDxns(e,n.value1);break;case 7:t.ActionDxnsLate(e);break;case 171:t.ActionEquals(e);break;case 114:t.ActionEscXAttr(e);break;case 113:t.ActionEscXElem(e);break;case 94:t.ActionFindProperty(e,n.value1);break;case 93:t.ActionFindPropStrict(e,n.value1);break;case 89:t.ActionGetDescendAnts(e,n.value1);break;case 100:t.ActionGetGlobalScope(e);break;case 110:t.ActionGetGlobalsLot(e,n.value1);break;case 96:t.ActionGetLex(e,n.value1);break;case 98:t.ActionGetLocal(e,n.value1);break;case 208:t.ActionGetLocal0(e);break;case 209:t.ActionGetLocal1(e);break;case 210:t.ActionGetLocal2(e);break;case 211:t.ActionGetLocal3(e);break;case 102:t.ActionGetProperty(e,n.value1);break;case 101:t.ActionGetScopeObject(e,n.value1);break;case 108:t.ActionGetSlot(e,n.value1);break;case 4:t.ActionGetSuper(e,n.value1);break;case 176:t.ActionGreaterEquals(e);break;case 175:t.ActionGreaterThan(e);break;case 31:t.ActionHasNext(e);break;case 50:t.ActionHasNext2(e,n.value1,n.value2);break;case 18:r+=t.ActionIfFalse(e,n.value1);break;case 24:r+=t.ActionIfGe(e,n.value1);break;case 23:r+=t.ActionIfGt(e,n.value1);break;case 22:r+=t.ActionIfLe(e,n.value1);break;case 21:r+=t.ActionIfLt(e,n.value1);break;case 15:r+=t.ActionIfNge(e,n.value1);break;case 14:r+=t.ActionIfNgt(e,n.value1);break;case 13:r+=t.ActionIfNle(e,n.value1);break;case 12:r+=t.ActionIfNlt(e,n.value1);break;case 20:r+=t.ActionIfNe(e,n.value1);break;case 25:r+=t.ActionIfStrictEq(e,n.value1);break;case 26:r+=t.ActionIfStrictNe(e,n.value1);break;case 17:r+=t.ActionIfTrue(e,n.value1);break;case 180:t.ActionIn(e,n.value1);break;case 146:t.ActionIncLocal(e,n.value1);break;case 194:t.ActionIncLocalI(e,n.value1);break;case 145:t.ActionIncrement(e);break;case 192:t.ActionIncrementI(e);break;case 104:t.ActionInitProperty(e,n.value1);break;case 177:t.ActionInstanceOf(e);break;case 178:t.ActionIsType(e,n.value1);break;case 179:t.ActionIsTypeLate(e);break;case 16:r+=n.value1;break;case 8:t.ActionKill(e,n.value1);break;case 9:t.ActionLabel(e);break;case 174:t.ActionLessEquals(e);break;case 173:t.ActionLessThan(e);break;case 27:t.ActionLookupSwitch(e,n.value1,n.value1,n.value3);break;case 165:t.ActionLShift(e);break;case 164:t.ActionModulo(e);break;case 162:t.ActionMultiply(e);break;case 199:t.ActionMultiplyI(e);break;case 144:t.ActionNeGate(e);break;case 196:t.ActionNeGateI(e);break;case 87:t.ActionNewActivation(e);break;case 86:t.ActionNewArray(e,n.value1);break;case 90:t.ActionNewCatch(e,n.value1);break;case 88:t.ActionNewClass(e,n.value1);break;case 64:t.ActionNewFunction(e,n.value1);break;case 85:t.ActionNewObject(e,n.value1);break;case 30:t.ActionNextName(e);break;case 35:t.ActionNextValue(e);break;case 2:t.ActionNop(e);break;case 150:t.ActionNot(e);break;case 41:t.ActionPop(e);break;case 29:t.ActionPopScope();break;case 36:t.ActionPushByte(e,n.value1);break;case 47:t.ActionPushDouble(e,n.value1);break;case 39:t.ActionPushFalse(e,n.value1);break;case 45:t.ActionPushInt(e,n.value1);break;case 49:t.ActionPushNameSpace(e,n.value1);break;case 40:t.ActionPushNan(e);break;case 32:t.ActionPushNull(e);break;case 48:t.ActionPushScope(e);break;case 37:t.ActionPushShort(e,n.value1);break;case 44:t.ActionPushString(e,n.value1);break;case 38:t.ActionPushTrue(e);break;case 46:t.ActionPushUInt(e,n.value1);break;case 33:t.ActionPushUndefined(e);break;case 28:t.ActionPushWith(e);break;case 72:return e.pop();case 71:return;case 166:t.ActionRShift(e);break;case 99:t.ActionSetLocal(e,n.value1);break;case 212:t.ActionSetLocal0(e);break;case 213:t.ActionSetLocal1(e);break;case 214:t.ActionSetLocal2(e);break;case 215:t.ActionSetLocal3(e);break;case 111:t.ActionSetGlobalSlot(e,n.value1);break;case 97:t.ActionSetProperty(e,n.value1);break;case 109:t.ActionSetSlot(e,n.value1);break;case 5:t.ActionSetSuper(e,n.value1);break;case 172:t.ActionStrictEquals(e);break;case 161:t.ActionSubtract(e);break;case 198:t.ActionSubtractI(e);break;case 43:t.ActionSwap(e);break;case 3:t.ActionThrow(e);break;case 149:t.ActionTypeof(e);break;case 167:t.ActionURShift(e)}r+=n.offset,r+=1}},vt.prototype.ActionAdd=function(t){var e=t.pop(),r=t.pop();t[t.length]=r+e},vt.prototype.ActionAddI=function(t){var e=+t.pop(),r=+t.pop();t[t.length]=r+e},vt.prototype.ActionAsType=function(t,e){var r=this.names[e],o=t.pop();t[t.length]=typeof o===r||null},vt.prototype.ActionAsTypeLate=function(t){var e=t.pop(),r=t.pop();t[t.length]=typeof e===r||null},vt.prototype.ActionBitAnd=function(t){var e=t.pop(),r=t.pop();t[t.length]=r&e},vt.prototype.ActionBitNot=function(t){var e=t.pop();t[t.length]=~e},vt.prototype.ActionBitOr=function(t){var e=t.pop(),r=t.pop();t[t.length]=r|e},vt.prototype.ActionBitXOr=function(t){var e=t.pop(),r=t.pop();t[t.length]=r^e},vt.prototype.ActionCall=function(t,e){for(var r=[],o=e;o--;)r[o]=t.pop();var a,n=t.pop(),i=t.pop();"function"==typeof i&&(a=i.apply(n,r)),t[t.length]=a},vt.prototype.ActionCallMethod=function(t,e,r){for(var o=[],a=0;a<r;a++)o[o.length]=t.pop();var n,i=t.pop();"function"==typeof i&&(n=i.apply(this.caller,o)),t[t.length]=n},vt.prototype.ActionCallProperty=function(t,e,r){for(var o=this,a=[],n=r;n--;)a[a.length]=t.pop();var i,s=o.names[e],c=t.pop();if(c){var l=null;c instanceof Yt?(s in o.methods&&(l=c[s]),l||(l=c.getProperty(s))):l=c[s],l&&(i=l.apply(o.caller,a))}t[t.length]=i},vt.prototype.ActionCallPropLex=function(t,e,r){for(var o=[],a=r;a--;)o[o.length]=t.pop();var n,i=this.names[e],s=t.pop();s&&(n=s[i].apply(this.getBuilder(),o)),t[t.length]=n},vt.prototype.ActionCallPropVoid=function(t,e,r){for(var o=this,a=[],n=r;n--;)a[n]=t.pop();var i=t.pop(),s=o.names[e].split("::"),c=s.pop(),l=(s.pop(),i[c]);if(!l&&i instanceof Gt){var p=i.getStage(),g=p.symbols[i.getCharacterId()];if(g){var u=g.split("."),f=u.pop(),h=u.length,d=p.avm2;for(n=0;n<h;n++)d=d[u[n]];if(d)for(var v=d[f];!(l=v[c])&&(v=v.super)&&!(v instanceof Gt););}}if(!l)for(;;){var y=i.super;if(!y)break;if(y instanceof Gt){l=(i=o.caller)[c];break}if(l=y[c])break;i=y}"fscommand"===c&&(i=o.stage),l&&l.apply(i,a)},vt.prototype.ActionCallStatic=function(t,e,r){F.log("ActionCallStatic");for(var o=[],a=r;a--;)o[o.length]=t.pop();t.pop();t[t.length]=undefined},vt.prototype.ActionCallSuper=function(t,e,r){for(var o=[],a=r;a--;)o[o.length]=t.pop();this.names[e],t.pop()},vt.prototype.ActionCallSuperVoid=function(t,e,r){for(var o=[],a=r;a--;)o[o.length]=t.pop();this.names[e],t.pop()},vt.prototype.ActionCheckFilter=function(t){var e=t.pop();t[t.length]=e},vt.prototype.ActionCoerce=function(t,e){t.pop();var r=this.names[e];t[t.length]=r},vt.prototype.ActionCoerceA=function(t){var e=t.pop();t[t.length]=e},vt.prototype.ActionCoerceS=function(t){var e=t.pop();t[t.length]=String(e)},vt.prototype.ActionConstruct=function(t,e){for(var r=[],o=e;o--;)r[r.length]=t.pop();var a=t.pop();t[t.length]=a.construct.apply(a,r)},vt.prototype.ActionConstructProp=function(t,e,r){for(var o=this,a=[],n=r;n--;)a[a.length]=t.pop();var i,s=o.names[e],c=t.pop(),l=o.stage,p=l.abc[s];if(p){var g=o.getBuilder(),u=new p(g);l.avm2[s]=u,u[s].apply(g,a),i=u}else i=new(Function.prototype.bind.apply(c[s],a));t[t.length]=i},vt.prototype.ActionConstructSuper=function(e,r){for(var o=this,a=[],n=r;n--;)a[n]=e.pop();var i=e.pop(),s=i["__swf2js__:"+o.ns].extends,c=s.split("::"),l=c.pop(),p=c.pop(),g=o.stage,u=g.abc,f=g.avm2;if(p){var h=p.split("."),d=h.length;for(n=0;n<d;n++)u=u[h[n]],f=f[h[n]]}var v=null,y=u[l],b=o.getBuilder();switch(y){case Gt:(v=new Gt).setStage(g),v._extend=!0;break;case zt:(v=new zt).movieClip=b;break;default:y in t?v=new(Function.prototype.bind.apply(t[s],a)):(v=new y(b),f[l]=v,v[l].apply(b,a))}i.super=v,i["__swf2js__:"+o.ns].superClass=v},vt.prototype.ActionConvertB=function(t){var e=t.pop();t[t.length]=!!e},vt.prototype.ActionConvertI=function(t){var e=t.pop();t[t.length]=0|e},vt.prototype.ActionConvertD=function(t){var e=t.pop();t[t.length]=+e},vt.prototype.ActionConvertO=function(t){var e=t.pop();t[t.length]="object"==typeof e?e:null},vt.prototype.ActionConvertU=function(t){var e=t.pop();(e|=0)<0&&(e*=-1),t[t.length]=e},vt.prototype.ActionConvertS=function(t){var e=t.pop();t[t.length]=String(e)},vt.prototype.ActionDebug=function(t,e,r,o,a){},vt.prototype.ActionDebugFile=function(t,e){},vt.prototype.ActionDebugLine=function(t){},vt.prototype.ActionDecLocal=function(t,e){},vt.prototype.ActionDecLocalI=function(t,e){},vt.prototype.ActionDecrement=function(t){var e=t.pop();e-=1,t[t.length]=e},vt.prototype.ActionDecrementI=function(t){var e=t.pop();e-=1,t[t.length]=e},vt.prototype.ActionDeleteProperty=function(t,e){var r=this.name[e],o=t.pop();o&&(r in o?delete o[r]:F.log("ActionDeleteProperty")),t[t.length]=!0},vt.prototype.ActionDivide=function(t){var e=t.pop(),r=t.pop();t[t.length]=r/e},vt.prototype.ActionDup=function(t){var e=t.pop();t[t.length]=e,t[t.length]=e},vt.prototype.ActionDxns=function(t,e){},vt.prototype.ActionDxnsLate=function(t){t.pop()},vt.prototype.ActionEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r==e},vt.prototype.ActionEscXAttr=function(t){var e=t.pop();t[t.length]=String(e)},vt.prototype.ActionEscXElem=function(t){var e=t.pop();t[t.length]=String(e)},vt.prototype.ActionFindProperty=function(t,e){this.names[e];t[t.length]=undefined},vt.prototype.ActionFindPropStrict=function(t,e){var r=this,o=r.names[e],a=o.split("::"),n=a.pop(),i=a.pop(),s=null,c=r.caller;if(!c||c instanceof Gt||o in c&&(s=c),!s){var l=r.AVM2;if(i){var p=i.split("."),g=p.length;if(g>1){for(var u=r.stage.avm2,f=0;f<g;f++)u=u[p[f]];l=u}}n in l&&(s=l)}if(!s){var h=r.stage.avm2;n in h&&(s=h[n])}if(!s){var d=r.getBuilder();d&&d instanceof Gt&&(n in r.methods&&(s=d),void 0!==d.getProperty()&&(s=d))}t[t.length]=s},vt.prototype.ActionGetDescendAnts=function(t,e){F.log("ActionGetDescendAnts");this.names[e];t[t.length]=undefined},vt.prototype.ActionGetGlobalScope=function(t){var e=this.scopeStack;t[t.length]=e[e.length-1]},vt.prototype.ActionGetGlobalsLot=function(t,e){F.log("ActionGetGlobalsLot"),t[t.length]=undefined},vt.prototype.ActionGetLex=function(t,e){var r=this.names[e];t[t.length]=this.getProperty(r)},vt.prototype.ActionGetLocal=function(t,e){var r=this.args[e-1];void 0===r&&(r=this.register[e]),t[t.length]=r},vt.prototype.ActionGetLocal0=function(t){t[t.length]=this.register[0]},vt.prototype.ActionGetLocal1=function(t){var e=this.args[0];void 0===e&&(e=this.register[1]),t[t.length]=e},vt.prototype.ActionGetLocal2=function(t){var e=this.args[1];void 0===e&&(e=this.register[2]),t[t.length]=e},vt.prototype.ActionGetLocal3=function(t){var e=this.args[2];void 0===e&&(e=this.register[3]),t[t.length]=e},vt.prototype.ActionGetProperty=function(t,e){var r=this,o=r.names[e];null===o&&(o=t.pop());var a,n=t.pop();n&&o&&(n instanceof Yt?(o in r.methods&&(a=n[o]),a||"parent"!==o||(a=n),a||(a=n.getProperty(o))):a=n[o],void 0===a&&(a=r.getProperty(o))),t[t.length]=a},vt.prototype.ActionGetScopeObject=function(t,e){var r=this.activation;t[t.length]=e?e in r?r:null:r},vt.prototype.ActionGetSlot=function(t,e){var r=t.pop()[e];t[t.length]=this.activation[r]},vt.prototype.ActionGetSuper=function(t,e){this.prop,t.pop();t[t.length]=undefined},vt.prototype.ActionGreaterEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>=e},vt.prototype.ActionGreaterThan=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>e},vt.prototype.ActionHasNext=function(t){var e=t.pop(),r=t.pop();e++;var o=0;if(r){var a=0;for(var n in r)if(r.hasOwnProperty(n)){if(a===e){o=e;break}a++}}t[t.length]=o},vt.prototype.ActionHasNext2=function(t,e,r){var o=this,a=o.register[e],n=o.currentIndex,i=!1,s=0;if(a)for(var c in a)if(a.hasOwnProperty(c)){if(s===n){i=!0,n++;break}s++}i||(n=0),o.currentIndex=n,o.register[r]=s,t[t.length]=i},vt.prototype.ActionIfFalse=function(t,e){return!1===t.pop()?e:0},vt.prototype.ActionIfGe=function(t,e){var r=t.pop();return t.pop()<r?e:0},vt.prototype.ActionIfGt=function(t,e){var r=t.pop();return t.pop()>r?e:0},vt.prototype.ActionIfLe=function(t,e){return t.pop()<t.pop()?e:0},vt.prototype.ActionIfLt=function(t,e){var r=t.pop();return t.pop()<r?e:0},vt.prototype.ActionIfNge=function(t,e){var r=t.pop();return t.pop()<r?e:0},vt.prototype.ActionIfNgt=function(t,e){return t.pop()<t.pop()?e:0},vt.prototype.ActionIfNle=function(t,e){return t.pop()<t.pop()?e:0},vt.prototype.ActionIfNlt=function(t,e){var r=t.pop();return t.pop()<r?e:0},vt.prototype.ActionIfNe=function(t,e){var r=t.pop();return t.pop()==r?0:e},vt.prototype.ActionIfStrictEq=function(t,e){var r=t.pop();return t.pop()===r?e:0},vt.prototype.ActionIfStrictNe=function(t,e){var r=t.pop();return t.pop()===r?0:e},vt.prototype.ActionIfTrue=function(t,e){return!0===t.pop()?e:0},vt.prototype.ActionIn=function(t){var e=t.pop(),r=t.pop();t[t.length]=r in e},vt.prototype.ActionIncLocal=function(t,e){this.register[e]+=1},vt.prototype.ActionIncLocalI=function(t,e){this.register[e]+=1},vt.prototype.ActionIncrement=function(t){var e=t.pop();e++,t[t.length]=e},vt.prototype.ActionIncrementI=function(t){var e=t.pop();e++,t[t.length]=e},vt.prototype.ActionInitProperty=function(t,e){var r=t.pop(),o=this.names[e],a=t.pop();a&&(a instanceof Yt?a.setProperty(o,r):a[o]=r)},vt.prototype.ActionInstanceOf=function(t){var e=t.pop(),r=t.pop();t[t.length]=r instanceof e},vt.prototype.ActionIsType=function(t,e){var r=t.pop(),o=this.name[e];t[t.length]=r==o},vt.prototype.ActionIsTypeLate=function(t){var e=t.pop(),r=t.pop();t[t.length]=r==e},vt.prototype.ActionKill=function(t,e){delete this.register[e]},vt.prototype.ActionLabel=function(t){},vt.prototype.ActionLessEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<=e},vt.prototype.ActionLessThan=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<e},vt.prototype.ActionLookupSwitch=function(t,e,r,o){t.pop()},vt.prototype.ActionLShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<<e},vt.prototype.ActionModulo=function(t){var e=t.pop(),r=t.pop();t[t.length]=r%e},vt.prototype.ActionMultiply=function(t){var e=t.pop(),r=t.pop();t[t.length]=r*e},vt.prototype.ActionMultiplyI=function(t){var e=t.pop(),r=t.pop();t[t.length]=r*e},vt.prototype.ActionNeGate=function(t){var e=t.pop();t[t.length]=-e},vt.prototype.ActionNeGateI=function(t){var e=t.pop();t[t.length]=-e},vt.prototype.ActionNewActivation=function(t){for(var e=this,r=e.body.trait,o=r.length,a=new dt,n=0;n<o;n++){var i=r[n];switch(i.kind){case 0:a[n+1]=e.names[i.name]}}e.activation=a,t[t.length]=a},vt.prototype.ActionNewArray=function(t,e){for(var r=[],o=e;o--;)r[o]=t.pop();t[t.length]=r},vt.prototype.ActionNewCatch=function(t,e){t[t.length]=undefined},vt.prototype.ActionNewClass=function(t,e){var r=t.pop();this.data.class[e].cinit;t[t.length]=r},vt.prototype.ActionNewFunction=function(t,e){var r,o;t[t.length]=(r=this,o=e,function(){var t=new vt(r.data,o,r.ns,r.stage);return t.caller=this,t.parent=r,t.args=arguments,t.execute()})},vt.prototype.ActionNewObject=function(t,e){for(var r={},o=e;o--;){var a=t.pop();r[t.pop()]=a}t[t.length]=r},vt.prototype.ActionNextName=function(t){var e,r=+t.pop(),o=t.pop();if(o){var a=0;for(var n in o)if(o.hasOwnProperty(n)){if(a===r){e=n;break}a++}}t[t.length]=e},vt.prototype.ActionNextValue=function(t){t.pop(),t.pop();t[t.length]=undefined},vt.prototype.ActionNop=function(t){},vt.prototype.ActionNot=function(t){var e=t.pop();t[t.length]=!e},vt.prototype.ActionPop=function(t){t.pop()},vt.prototype.ActionPopScope=function(){this.scopeStack.pop()},vt.prototype.ActionPushByte=function(t,e){t[t.length]=0|e},vt.prototype.ActionPushDouble=function(t,e){var r=this.data.double[e];t[t.length]=+r},vt.prototype.ActionPushFalse=function(t){t[t.length]=!1},vt.prototype.ActionPushInt=function(t,e){var r=this.data.integer[e];t[t.length]=+r},vt.prototype.ActionPushNameSpace=function(t,e){var r=this.data.names[e];t[t.length]=+r},vt.prototype.ActionPushNan=function(t){t[t.length]=NaN},vt.prototype.ActionPushNull=function(t){t[t.length]=null},vt.prototype.ActionPushScope=function(t){var e=t.pop();if(e){var r=this.scopeStack;r[r.length]=e}},vt.prototype.ActionPushShort=function(t,e){t[t.length]=e},vt.prototype.ActionPushString=function(t,e){var r=this.data.string;t[t.length]=""+r[e]},vt.prototype.ActionPushTrue=function(t){t[t.length]=!0},vt.prototype.ActionPushUInt=function(t,e){var r=this.data.uinteger;t[t.length]=r[e]},vt.prototype.ActionPushUndefined=function(t){t[t.length]=void 0},vt.prototype.ActionPushWith=function(t){t.pop()},vt.prototype.ActionRShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},vt.prototype.ActionSetLocal=function(t,e){this.register[e]=t.pop()},vt.prototype.ActionSetLocal0=function(t){this.register[0]=t.pop()},vt.prototype.ActionSetLocal1=function(t){this.register[1]=t.pop()},vt.prototype.ActionSetLocal2=function(t){this.register[2]=t.pop()},vt.prototype.ActionSetLocal3=function(t){this.register[3]=t.pop()},vt.prototype.ActionSetGlobalSlot=function(t,e){t.pop()},vt.prototype.ActionSetProperty=function(t,e){var r=this,o=t.pop(),a=r.names[e],n=t.pop();if(n)if(n instanceof Yt)a in r.methods?n[a]=o:F.log("ActionSetProperty",a);else if(a in n)n[a]=o;else{var i=r.getBuilder(),s=r.caller;s instanceof Gt&&(i=s),i instanceof Yt&&(a in r.methods?i[a]=o:n[a]=o)}},vt.prototype.ActionSetSlot=function(t,e){var r=t.pop(),o=t.pop()[e];this.activation[o]=r},vt.prototype.ActionSetSuper=function(t,e){t.pop(),this.names[e],t.pop()},vt.prototype.ActionStrictEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r===e},vt.prototype.ActionSubtract=function(t){var e=t.pop(),r=t.pop();t[t.length]=r-e},vt.prototype.ActionSubtractI=function(t){var e=+t.pop(),r=+t.pop();t[t.length]=r-e},vt.prototype.ActionSwap=function(t){var e=t.pop(),r=t.pop();t[t.length]=e,t[t.length]=r},vt.prototype.ActionThrow=function(t){var e=t.pop();F.log(e)},vt.prototype.ActionTypeof=function(t){var e=t.pop();t[t.length]=typeof e},vt.prototype.ActionURShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=e>>r};var yt=function(t,e,r,o){var a=this;a.cache=[],a.params=[],a.constantPool=e||[],a.register=r||[],a.variables={},a.initAction=!!o,a.scope=null,a.parent=null,a.arg=null,a.version=7,a.superClass=null,t.length&&a.initialize(t),a.initParam()};yt.prototype.reset=function(){var t=this;t.arg=null,t.variables={},t.initParam()},yt.prototype.initParam=function(){for(var t=this.register,e=t.length,r=[],o=0;o<e;o++){var a=t[o];null===a.name?r[a.register]=a.value:r[a.register]=a.name}this.params=r},yt.prototype.initVariable=function(t){var e=this;e.arg=t;for(var r=e.register,o=r.length,a=e.variables,n=0,i=0;i<o;i++){var s=r[i];null!==s.name&&(a[s.name]=t[n++])}e.variables=a,e.initParam()},yt.prototype.getSuperClass=function(){var t=this.superClass;if(!t){var e=this.parent;e&&(t=e.getSuperClass())}return t},yt.prototype.setVariable=function(t,e){var r=this,o=!1;if(t in r.variables&&(r.variables[t]=e,o=!0),!o){var a=r.parent;a&&(o=a.setVariable(t,e))}return o},yt.prototype.getVariable=function(t){var e,r,o=this;switch(t){case"this":e=o.variables.this;break;case"arguments":e=o.arg;break;default:void 0===(e=o.variables[t])&&(r=o.parent)&&(e=r.getVariable(t))}return e},yt.prototype.valueToString=function(t){return"string"!=typeof t&&(t+=""),t},yt.prototype.stringToObject=function(t,e){var r=this.getVariable(t);return void 0===r&&(r=e.getProperty(t)),r},yt.prototype.initialize=function(t){var e,r,o,a,n,i=this,s=!1,c={},l=0,p=0,g=[],u=[],f=0,h=new ut;h.setData(t);var d=new ut,v=t.length;for(i.initParam();h.byte_offset<v;){var y=h.byte_offset;if(c={},f&&f===h.byte_offset)f=0,c.actionCode=148,c.Size=0,g[g.length]=c;else{var b=h.getUI8();c.actionCode=b;var m=null;switch(b>=128&&(n=h.getUI16(),m=h.getData(n),d.setData(m),d.setOffset(0,0)),b){case 129:c.frame=1+(0|d.getUI16());break;case 138:c.frame=d.getUI16(),c.skipCount=d.getUI8();break;case 139:c.targetName=d.getDataUntil("\0");break;case 140:c.label=d.getDataUntil("\0");break;case 131:var A=m.length-1,I=[[]];for(p=0,l=0;l<A;l++){var C=S(m[l]);0!==m[l]?I[p]+=C:I[++p]=[]}var x=I[0];if("string"==typeof x){var k=x.split("?");if(2 in k){x=k[0],x+="?"+k[1];var T=k.length;for(l=2;l<T;l++)x+="&"+k[l]}}c.url=x,c.target=I[1];break;case 150:for(o=[];d.byte_offset<n;){switch(d.getUI8()){case 0:o[o.length]=String(d.getDataUntil("\0"));break;case 1:o[o.length]=d.getFloat32();break;case 2:o[o.length]=null;break;case 3:o[o.length]=void 0;break;case 4:o[o.length]={key:d.getUI8()};break;case 5:o[o.length]=!!d.getUI8();break;case 6:o[o.length]=d.getFloat64();break;case 7:o[o.length]=d.getUI32();break;case 8:o[o.length]=i.constantPool[d.getUI8()];break;case 9:o[o.length]=i.constantPool[d.getUI16()]}}c.values=o;break;case 157:case 153:c.offset=h.byte_offset+h.toSI16LE(m);break;case 154:c.LoadVariablesFlag=d.getUIBits(1),c.LoadTargetFlag=d.getUIBits(1),d.getUIBits(4),c.SendVarsMethod=d.getUIBits(2);break;case 159:d.getUIBits(6),c.SceneBiasFlag=d.getUIBit(),c.PlayFlag=d.getUIBit(),1===c.SceneBiasFlag&&(c.SceneBias=d.getUI16());break;case 141:c.skipCount=d.getUI8();break;case 136:var M=d.getUI16(),F=[];if(M>0)for(;M--;)F[F.length]=d.getDataUntil("\0");c.constantPool=F,i.constantPool=F;break;case 155:if(c.FunctionName=d.getDataUntil("\0"),r=[],(a=d.getUI16())>0)for(p=1;a--;)r[r.length]={register:p,name:d.getDataUntil("\0"),value:null};e=h.getData(d.getUI16()),c.ActionScript=new yt(e,i.constantPool,r,i.initAction);break;case 148:c.Size=d.getUI16(),f=c.Size+h.byte_offset;break;case 135:c.RegisterNumber=d.getUI8();break;case 142:r=[],o=[],c.FunctionName=d.getDataUntil("\0"),a=d.getUI16();var B=d.getUI8();for(c.PreloadParentFlag=d.getUIBits(1),c.PreloadRootFlag=d.getUIBits(1),c.SuppressSuperFlag=d.getUIBits(1),c.PreloadSuperFlag=d.getUIBits(1),c.SuppressArgumentsFlag=d.getUIBits(1),c.PreloadArgumentsFlag=d.getUIBits(1),c.SuppressThisFlag=d.getUIBits(1),c.PreloadThisFlag=d.getUIBits(1),d.getUIBits(7),c.PreloadGlobalFlag=d.getUIBits(1),c.PreloadThisFlag&&(o[o.length]="this"),c.PreloadArgumentsFlag&&(o[o.length]="arguments"),c.PreloadSuperFlag&&(o[o.length]="super"),c.PreloadRootFlag&&(o[o.length]="_root"),c.PreloadParentFlag&&(o[o.length]="_parent"),c.PreloadGlobalFlag&&(o[o.length]="_global"),p=1;p<B;p++){var U=p-1;U in o&&(r[r.length]={register:p,name:null,value:o[U]})}if(a>0)for(;a--;){var w=d.getUI8(),_=d.getDataUntil("\0");r[r.length]={register:w,name:_,value:null}}e=h.getData(d.getUI16()),c.ActionScript=new yt(e,i.constantPool,r,i.initAction);break;case 143:d.getUIBits(5);var Y=d.getUIBits(1);c.FinallyBlockFlag=d.getUIBits(1),c.CatchBlockFlag=d.getUIBits(1);var P,O=d.getUI16(),D=d.getUI16(),X=d.getUI16();P=Y?d.getUI8():d.getDataUntil("\0"),l=0;var L=[];if(O)for(;O;)L[L.length]=h.getUI8(),O--;if(c.try=function(t){var e=new yt(t);return function(){return e.reset(),e.variables.this=this,e.execute(this)}}(L),c.CatchBlockFlag){var E=[];if(D)for(;D;)E[E.length]=h.getUI8(),D--;c.catch=function(t,e){var r=new yt(t);return function(){return r.reset(),r.variables.this=this,r.variables[e]=arguments[0],r.execute(this)}}(E,P)}if(c.FinallyBlockFlag){var R=[];if(X)for(;X;)R[R.length]=h.getUI8(),X--;c.finally=function(t){var e=new yt(t);return function(){return e.reset(),e.variables.this=this,e.execute(this)}}(R)}break;case 0:s=!0}if(u[y]=g.length,g[g.length]=c,s)break}}var H=g.length;for(l=0;l<H;l++){var N=(c=g[l]).actionCode;if(157===N||153===N){var j=u[c.offset];c.offset=void 0!==j?j-1:g.length-1}}i.cache=g},yt.prototype.calc=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;default:e=+t}return A(e)&&(e=0),e},yt.prototype.logicValue=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;case"string":e=""===t?0:1;break;case"function":e=1;break;default:A(e=+t)&&(e=0)}return e},yt.prototype.operationValue=function(t){var e=+t.pop();return A(e)&&(e=0),e},yt.prototype.execute=function(t){var e=this,r=e.scope,o=r instanceof Gt?r:t;if(o.active){var a=o.getStage();a&&(e.version=a.getVersion());for(var n=[],i=e.cache,s=i.length,c=0;c<s;)if(c in i){var l=i[c],p=l.actionCode;if(0===p)break;switch(p){case 129:e.ActionGotoFrame(o,l.frame);break;case 4:e.ActionNextFrame(o);break;case 5:e.ActionPreviousFrame(o);break;case 6:e.ActionPlay(o);break;case 7:e.ActionStop(o);break;case 8:case 138:break;case 9:e.ActionStopSounds(o);break;case 139:o=e.ActionSetTarget(o,t,l.targetName);break;case 140:e.ActionGoToLabel(o,l.label);break;case 131:e.ActionGetURL(o,l.url,l.target);break;case 10:e.ActionOperation(n,0);break;case 11:e.ActionOperation(n,1);break;case 12:e.ActionOperation(n,2);break;case 13:e.ActionOperation(n,3);break;case 14:e.ActionEquals(n);break;case 15:e.ActionLess(n);break;case 16:e.ActionAnd(n);break;case 17:e.ActionOr(n);break;case 18:e.ActionNot(n);break;case 19:e.ActionStringEquals(n);break;case 20:case 49:e.ActionStringLength(n);break;case 33:e.ActionStringAdd(n);break;case 21:case 53:e.ActionStringExtract(n);break;case 41:e.ActionStringLess(n);break;case 23:n.pop();break;case 150:e.ActionPush(n,o,l.values);break;case 51:case 55:e.ActionAsciiToChar(n);break;case 54:case 50:e.ActionCharToAscii(n);break;case 24:e.ActionToInteger(n);break;case 158:e.ActionCall(n,o);break;case 157:c=e.ActionIf(n,l.offset,c);break;case 153:c=l.offset;break;case 28:e.ActionGetVariable(n,o);break;case 29:e.ActionSetVariable(n,o);break;case 154:e.ActionGetURL2(n,l,o);break;case 34:e.ActionGetProperty(n,o);break;case 159:e.ActionGoToFrame2(n,l,o);break;case 32:o=e.ActionSetTarget2(n,o,t);break;case 35:e.ActionSetProperty(n,o);break;case 39:e.ActionStartDrag(n,o);break;case 141:n.pop();break;case 36:e.ActionCloneSprite(n,o);break;case 37:e.ActionRemoveSprite(n,o);break;case 40:e.ActionEndDrag(o);break;case 52:e.ActionGetTime(n);break;case 48:e.ActionRandomNumber(n);break;case 38:e.ActionTrace(n);break;case 0:break;case 45:e.ActionFsCommand2(n,o);break;case 82:e.ActionCallMethod(n,o);break;case 136:e.constantPool=l.constantPool;break;case 61:e.ActionCallFunction(n,o);break;case 155:e.ActionDefineFunction(n,l,o);break;case 60:e.ActionDefineLocal(n,o);break;case 65:e.ActionDefineLocal2(n,o);break;case 58:e.ActionDelete(n,o);break;case 59:e.ActionDelete2(n,o);break;case 70:e.ActionEnumerate(n,o);break;case 73:e.ActionEquals2(n);break;case 78:e.ActionGetMember(n,o);break;case 66:e.ActionInitArray(n);break;case 67:e.ActionInitObject(n);break;case 83:e.ActionNewMethod(n,o);break;case 64:e.ActionNewObject(n,o);break;case 79:e.ActionSetMember(n,o);break;case 69:e.ActionTargetPath(n);break;case 148:o=e.ActionWith(n,l.Size,t);break;case 74:e.ActionToNumber(n);break;case 75:e.ActionToString(n);break;case 68:e.ActionTypeOf(n);break;case 71:e.ActionAdd2(n);break;case 72:e.ActionLess2(n);break;case 63:e.ActionModulo(n);break;case 96:e.ActionBitAnd(n);break;case 99:e.ActionBitLShift(n);break;case 97:e.ActionBitOr(n);break;case 100:e.ActionBitRShift(n);break;case 101:e.ActionBitURShift(n);break;case 98:e.ActionBitXor(n);break;case 81:e.ActionDecrement(n);break;case 80:e.ActionIncrement(n);break;case 76:e.ActionPushDuplicate(n);break;case 62:return n.pop();case 77:e.ActionStackSwap(n);break;case 135:e.ActionStoreRegister(n,l.RegisterNumber);break;case 84:e.ActionInstanceOf(n);break;case 85:e.ActionEnumerate(n,o);break;case 102:e.ActionStrictEquals(n);break;case 103:case 104:e.ActionGreater(n);break;case 142:e.ActionDefineFunction(n,l,o);break;case 105:e.ActionExtends(n);break;case 43:e.ActionCastOp(n);break;case 44:e.ActionImplementsOp(n);break;case 143:e.ActionTry(l,o);break;case 42:e.ActionThrow(n);break;default:F.log("[ActionScript Error] Code: "+p)}c++}else c++}},yt.prototype.methods={gotoandstop:"gotoAndStop",gotoandplay:"gotoAndPlay",play:"play",stop:"stop",duplicatemovieclip:"duplicateMovieClip",getproperty:"getProperty",removemovieclip:"removeMovieClip",setproperty:"setProperty",startdrag:"startDrag",stopdrag:"stopDrag",targetpath:"targetPath",updateafterevent:"updateAfterEvent",nextframe:"nextFrame",nextscene:"nextScene",prevframe:"prevFrame",prevscene:"prevScene",stopallsounds:"stopAllSounds",setmask:"setMask",geturl:"getURL",loadmovie:"loadMovie",loadmovienum:"loadMovieNum",loadvariables:"loadVariables",loadvariablesnum:"loadVariablesNum",unloadmovie:"unloadMovie",unloadmovienum:"unloadMovieNum",swapdepths:"swapDepths",getinstanceatdepth:"getInstanceAtDepth",attachmovie:"attachMovie",attachaudio:"attachAudio",attachbitmap:"attachBitmap",getnexthighestdepth:"getNextHighestDepth",getbytesloaded:"getBytesLoaded",getbytestotal:"getBytesTotal",assetpropflags:"ASSetPropFlags",linestyle:"lineStyle",linegradientstyle:"lineGradientStyle",beginfill:"beginFill",begingradientfill:"beginGradientFill",beginbitmapfill:"beginBitmapFill",clear:"clear",moveto:"moveTo",lineto:"lineTo",curveto:"curveTo",endfill:"endFill",hittest:"hitTest",getdepth:"getDepth",createemptymovieclip:"createEmptyMovieClip",createtextfield:"createTextField",getbounds:"getBounds",getrect:"getRect",getswfversion:"getSWFVersion",gettextsnapshot:"getTextSnapshot",globaltolocal:"globalToLocal",localtoglobal:"localToGlobal"},yt.prototype.checkMethod=function(t){if(!t||"string"!=typeof t)return t;var e=t.toLowerCase();return this.methods[e]||null},yt.prototype.ActionGotoFrame=function(t,e){t instanceof Gt&&(t.stop(),t.setNextFrame(e))},yt.prototype.ActionNextFrame=function(t){t instanceof Gt&&t.nextFrame()},yt.prototype.ActionPreviousFrame=function(t){t instanceof Gt&&t.prevFrame()},yt.prototype.ActionPlay=function(t){t instanceof Gt&&t.play()},yt.prototype.ActionStop=function(t){t instanceof Gt&&t.stop()},yt.prototype.ActionStopSounds=function(t){t instanceof Gt&&t.stopAllSounds()},yt.prototype.ActionSetTarget=function(t,e,r){if(""!==r){var o=t;return o||(o=e),o.getDisplayObject(r)}return e.active?e:void 0},yt.prototype.ActionGoToLabel=function(t,e){if(t instanceof Gt){var r=t.getLabel(e);t.stop(),"number"==typeof r&&r&&t.setNextFrame(r)}},yt.prototype.ActionGetURL=function(t,e,r){t instanceof Gt&&t.getURL(e,r)},yt.prototype.ActionOperation=function(t,e){var r,o=this.operationValue(t),a=this.operationValue(t);switch(e){case 0:r=a+o;break;case 1:r=a-o;break;case 2:r=a*o;break;case 3:r=a/o}t[t.length]=r},yt.prototype.ActionEquals=function(t){var e=this,r=e.calc(t.pop()),o=e.calc(t.pop());e.version>4?t[t.length]=r===o:t[t.length]=r===o?1:0},yt.prototype.ActionLess=function(t){var e=this,r=e.calc(t.pop()),o=e.calc(t.pop());e.version>4?t[t.length]=o<r:t[t.length]=o<r?1:0},yt.prototype.ActionAnd=function(t){var e=this,r=t.pop(),o=t.pop();e.version>4?(r=e.logicValue(r),o=e.logicValue(o),t[t.length]=0!==r&&0!==o):(r=e.calc(r),o=e.calc(o),t[t.length]=0!==r&&0!==o?1:0)},yt.prototype.ActionOr=function(t){var e=this,r=t.pop(),o=t.pop();e.version>4?(r=e.logicValue(r),o=e.logicValue(o),t[t.length]=0!==r||0!==o):(r=e.calc(r),o=e.calc(o),t[t.length]=0!==r||0!==o?1:0)},yt.prototype.ActionNot=function(t){var e=this,r=t.pop();e.version>4?(r=e.logicValue(r),t[t.length]=0===r):(r=e.calc(r),t[t.length]=0===r?1:0)},yt.prototype.ActionStringEquals=function(t){var e=t.pop(),r=t.pop();e instanceof Gt?e=e.getTarget():e+="",r instanceof Gt?r=r.getTarget():r+="",this.version>4?t[t.length]=r===e:t[t.length]=r===e?1:0},yt.prototype.ActionStringLength=function(t){for(var e=t.pop(),r=0,o=(e=this.valueToString(e)).length,a=0;a<o;a++,r++){e.charCodeAt(a)<255||r++}t[t.length]=r},yt.prototype.ActionStringAdd=function(t){var e=t.pop(),r=t.pop();null==e&&(e=""),null==r&&(r=""),t[t.length]=r+""+e},yt.prototype.ActionStringExtract=function(t){var e=t.pop(),r=t.pop(),o=t.pop();o=this.valueToString(o),--r<0&&(r=0),t[t.length]=e<0?o.substr(r):o.substr(r,e)},yt.prototype.ActionStringLess=function(t){var e=t.pop(),r=t.pop();this.version>4?t[t.length]=r<e:t[t.length]=r<e?1:0},yt.prototype.ActionPush=function(t,e,r){for(var o=this,a=r.length,n=o.params,i=0;i<a;i++){var s=r[i];if(s instanceof Object){var c=s.key;if(s=void 0,c in n){var l=n[c];"string"==typeof l&&(void 0!==(s=o.getVariable(l))||l in o.variables)||(s=l)}}t[t.length]=s}},yt.prototype.ActionAsciiToChar=function(t){var e=t.pop();t[t.length]=S(e)},yt.prototype.ActionCharToAscii=function(t){var e=t.pop();e=this.valueToString(e),t[t.length]=e.charCodeAt(0)},yt.prototype.ActionToInteger=function(t){var e=t.pop();t[t.length]=0|e},yt.prototype.ActionCall=function(t,e){var r=t.pop();if(e){var o,a=(r=this.valueToString(r)).split(":"),n=a[0],i=e;a.length>1&&(i=e.getDisplayObject(a[0]),n=a[1]),i instanceof Gt&&(o="number"==typeof n?n:i.getLabel(n),i.executeActions(o))}},yt.prototype.ActionIf=function(t,e,r){var o=t.pop();switch(typeof o){case"boolean":break;case"string":A(o)||(o=+o)}return o?e:r},yt.prototype.ActionGetVariable=function(t,e){var r,o=t.pop();o instanceof Gt?r=o:void 0===(r=this.getNativeClass(o))&&void 0===(r=this.getVariable(o))&&e&&(r=e.getProperty(o)),t[t.length]=r},yt.prototype.ActionSetVariable=function(t,e){var r=t.pop(),o=t.pop();this.setVariable(o,r)||e.setProperty(o,r)},yt.prototype.ActionGetURL2=function(t,e,r){var o,a=t.pop(),n=t.pop(),i=e.LoadVariablesFlag,s=e.LoadTargetFlag,c=e.SendVarsMethod,l="GET";if(2===c&&(l="POST"),r instanceof Gt)if(n){var p=(n=this.valueToString(n)).split("?"),g=p.length,u="";if(1===g&&(u="?"),g>2){o=p[0]+"?",o+=p[1];for(var f=2;f<g;f++){o=o+"&"+p[f]}}else o=n;if(c){var h=r.variables,d="";for(var v in h)if(h.hasOwnProperty(v)){var y=h[v];if(null===y&&(y=""),"string"!=typeof y){var b=typeof y;y="%5Btype+"+(b=b.replace(/^[a-z]/g,(function(t){return t.toUpperCase()})))+"%5D"}d+="&"+v+"="+y}""!==u&&""!==d&&(d=u+d.slice(1)),o+=d}i?r.loadVariables(o,a,l):s?a instanceof Gt?a.loadMovie(o,null,c):r.loadMovie(o,a,c):r.getURL(o,a,l)}else r.unloadMovie(a)},yt.prototype.ActionGetProperty=function(t,e){var r=t.pop(),o=t.pop();A(r)||(r=n(r));var a=this.getVariable(r);if(void 0===a&&e){var i=e;o&&("string"!=typeof o&&(o+=""),i=e.getDisplayObject(o)),i instanceof Gt&&(a=i.getProperty(r))}t[t.length]=a},yt.prototype.ActionGoToFrame2=function(t,e,r){var o=e.SceneBiasFlag,a=e.PlayFlag;if(1===o){var n=e.SceneBias;F.log("SceneBias",n)}var i=t.pop();if(i&&r){if(A(i)){var s=i.split(":");if(s.length>1){var c=r.getDisplayObject(s[0]);c&&(i=c.getLabel(s[1]))}else i=r.getLabel(s[0])}"string"==typeof i&&(i|=0),"number"==typeof i&&i>0&&(r.setNextFrame(i),a?r.play():r.stop())}},yt.prototype.ActionSetTarget2=function(t,e,r){var o=t.pop();return e||(e=r),e.getDisplayObject(o)},yt.prototype.ActionSetProperty=function(t,e){var r=t.pop(),o=t.pop(),a=t.pop();if(A(o)||(o=n(o)),e){var i=e;void 0!==a&&(i=e.getDisplayObject(a)),i instanceof Gt&&i.setProperty(o,r)}},yt.prototype.ActionStartDrag=function(t,e){var r=t.pop(),o=t.pop(),a=null,n=null,i=null,s=null;t.pop()&&(a=t.pop(),n=t.pop(),i=t.pop(),s=t.pop());var c=e;r instanceof Gt&&(c=r),"string"==typeof r&&r&&(c=e.getDisplayObject(r)),c instanceof Gt&&c.startDrag(o,s,i,n,a)},yt.prototype.ActionCloneSprite=function(t,e){var r=+t.pop(),o=t.pop(),a=t.pop();e&&e.duplicateMovieClip(o,a,r)},yt.prototype.ActionRemoveSprite=function(t,e){var r=t.pop();e&&e.removeMovieClip(r)},yt.prototype.ActionEndDrag=function(t){t&&t.stopDrag()},yt.prototype.ActionGetTime=function(t){var e=new Date;t[t.length]=e.getTime()-L.getTime()},yt.prototype.ActionRandomNumber=function(t){var e=t.pop();t[t.length]=n(c()*e)},yt.prototype.ActionTrace=function(t){var e=t.pop();e instanceof Yt&&e.removeFlag&&(e=""),e&&"object"==typeof e&&("callee"in e&&(e=Array.prototype.slice.call(e)),e=e.toString()),F.log("[trace] "+e)},yt.prototype.ActionFsCommand2=function(t,e){t.pop();var r=t.pop(),o=new Date;switch(r.toLowerCase()){case"getdateyear":t[t.length]=o.getFullYear();break;case"getdatemonth":t[t.length]=o.getMonth()+1;break;case"getdateday":t[t.length]=o.getDate();break;case"getdateweekday":t[t.length]=o.getDay();break;case"gettimehours":t[t.length]=o.getHours();break;case"gettimeminutes":t[t.length]=o.getMinutes();break;case"gettimeseconds":t[t.length]=o.getSeconds();break;case"startvibrate":t.pop(),t.pop(),t.pop(),t[t.length]=-1;break;case"gettimezoneoffset":e.setVariable(t.pop(),o.toUTCString()),e.setVariable(t.pop(),0);break;case"getlocalelongdate":e.setVariable(t.pop(),o.toLocaleDateString()),e.setVariable(t.pop(),0);break;case"getlocaleshortdate":e.setVariable(t.pop(),o.toDateString()),e.setVariable(t.pop(),0);break;case"getlocaletime":e.setVariable(t.pop(),o.toLocaleTimeString()),e.setVariable(t.pop(),0);break;case"getnetworkname":case"getdevice":case"getdeviceid":e.setVariable(t.pop(),""),e.setVariable(t.pop(),-1);break;case"getlanguage":var a=E.userLanguage||E.language||E.browserLanguage||"ja-JP";e.setVariable(t.pop(),a),e.setVariable(t.pop(),0);break;case"setsoftkeys":t.pop(),t.pop(),t[t.length]=-1;break;case"fullscreen":t.pop(),t[t.length]=-1;break;case"setquality":case"getfreestagememory":case"gettotalstagememory":t.pop(),t[t.length]=-1;break;default:t[t.length]=-1}},yt.prototype.ActionCallMethod=function(e,r){var o,a=this,n=e.pop(),i=e.pop(),s=+e.pop(),c=[];if(s>0)for(;s;){s--;var l=e.pop();l&&"object"==typeof l&&"callee"in l&&(l=Array.prototype.slice.call(l)),c[c.length]=l}if("string"==typeof i&&void 0===i[n]){var p=a.stringToObject(i,r);if(p&&(i=p),"super"===i){var g=a.variables.this,u=a.getSuperClass();if(!n&&u){var f=new u;switch(u){case Gt:var h=r.getStage();f.setStage(h),f.setParent(r),f._extend=!0}var d=Object.getPrototypeOf(g);d.constructor=u,Object.setPrototypeOf(d,f),Object.setPrototypeOf(g,d)}else i=g}}if(i&&n){var v;if("object"==typeof i){var y=i.variables;y&&!(v=y[n])&&y.registerClass&&(v=y.registerClass[n])}if(!v){var b=a.checkMethod(n);b&&(v=i[b])}if(v||(v=i[n]),!v&&i instanceof Gt&&(v=i.getVariable(n)),!v&&i instanceof re&&(v=t[n])&&(c=a.ActionNativeFunction(c,r),i=t),("call"===n||"apply"===n)&&(v=i,i=c.shift(),"apply"===n)){var m=c.shift();c=[],m&&(c=Array.prototype.slice.call(m))}if(v&&"function"==typeof v){switch(!0){case i instanceof Zt:if("loadClip"===n&&"string"==typeof c[1]){var S=c[1];c[1]=r.getDisplayObject(S)}}o=v.apply(i,c)}if(!v&&i instanceof Object&&"string"==typeof n)switch(n.toLowerCase()){case"registerclass":o=!1;var A=r.getDisplayObject("_root").getStage(),I=A.exportAssets[c[0]];I&&(A.registerClass[I]=c[1],o=!0);break;case"addproperty":a.addProperty(i,c)}}else n||"function"!=typeof i||(o=i.apply(a.variables.this,c));e[e.length]=o},yt.prototype.addProperty=function(t,e){var r=e[0];if("string"!=typeof r||""===r)return!1;var o=e[1];o||(o=function(){});var a=e[2];return a||(a=function(){}),"function"==typeof o&&"function"==typeof a&&(Object.defineProperty(t,r,{get:o,set:a}),!0)},yt.prototype.ActionNativeFunction=function(t,e){var r=e,o=t;if(t[0]instanceof Gt&&(r=t.shift(),t.length>0)){var a,n=t.shift();if("string"==typeof n&&"function"!=typeof(a=this.getVariable(n))&&(a=r.getVariable(n)),"function"==typeof a){var i=t.shift(),s=function(t,e,r){return function(){t.apply(e,r)}}(a,r,t);(o=[])[o.length]=s,o[o.length]=i}else F.log("DEBUG: ",o),t.unshift(n),o=t}return o},yt.prototype.ActionCallFunction=function(e,r){var o=e.pop(),a=+e.pop(),n=[];if(a>0)for(;a;){a--;var i=e.pop();i&&"object"==typeof i&&"callee"in i&&(i=Array.prototype.slice.call(i)),n[n.length]=i}if(r){var s,c=r,l=this.checkMethod(o);if(l)s=r[l];else if(!(s=r.variables[o])){var p=r.variables.registerClass;p&&"object"==typeof p&&(s=p[o]),s||(t[o]?(c=t,n=this.ActionNativeFunction(n,r),s=t[o]):s=r.getVariable(o))}e[e.length]=s?s.apply(c,n):void 0}},yt.prototype.ActionDefineFunction=function(t,e,r){var o=r.createActionScript2(e.ActionScript,this),a=e.FunctionName;""!==a?r.setVariable(a,o):t[t.length]=o},yt.prototype.ActionDefineLocal=function(t,e){var r=t.pop(),o=t.pop();this.parent?this.variables[o]=r:e.setVariable(o,r)},yt.prototype.ActionDefineLocal2=function(t,e){var r=t.pop();this.parent?this.variables[r]=void 0:e.setVariable(r,void 0)},yt.prototype.ActionDelete=function(t,e){var r=t.pop(),o=t.pop();if("string"==typeof o){var a=this.stringToObject(o,e);a&&(o=a)}o instanceof Gt&&o.setVariable(r,void 0)},yt.prototype.ActionDelete2=function(t,e){var r=t.pop();e&&e.setVariable(r,void 0)},yt.prototype.ActionEnumerate=function(t,e){var r,o=t.pop();if(t[t.length]=null,"string"==typeof o&&(o=this.stringToObject(o,e)),o instanceof Object)switch(!0){case o instanceof Yt:var a=o.getTags(),n=o.getStage();for(r in a)if(a.hasOwnProperty(r)){var i=a[r],s=n.getInstance(i),c="instance"+i;s.getName()&&(c=s.getName()),t[t.length]=c}var l=o.variables;for(r in l)l.hasOwnProperty(r)&&(t[t.length]=r);break;default:for(r in o)o.hasOwnProperty(r)&&(t[t.length]=r)}},yt.prototype.ActionEquals2=function(t){var e=t.pop(),r=t.pop(),o=e,a=r;e instanceof Gt&&(o=e.getTarget()),r instanceof Gt&&(a=r.getTarget()),t[t.length]=a==o},yt.prototype.ActionGetMember=function(e,r){var o,a=e.pop(),n=e.pop();if("string"==typeof n){var i=this.stringToObject(n,r);i&&(n=i)}if(n)switch(!0){default:o=n[a];break;case n instanceof Yt:case n instanceof re:if(n._extend)o=n[a];else{if(void 0===(o=n.getProperty(a,!1))&&"string"==typeof a&&"instance"===a.substr(0,8)){var s=n.getStage(),c=a.split("instance")[1];o=s.getInstance(c)}void 0===o&&this.checkMethod(a)&&(o=n[a])}break;case n instanceof Element&&"childNodes"===a:var l=n[a],p=l.length;if(o=[],p)for(var g=0;g<p;g++){var u=l[g];1===u.nodeType&&(o[o.length]=u)}break;case n instanceof t.NamedNodeMap:o=n.getNamedItem(a).value}e[e.length]=o},yt.prototype.ActionInitArray=function(t){var e=t.pop(),r=[];if(e>0)for(;e--;)r[r.length]=t.pop();t[t.length]=r},yt.prototype.ActionInitObject=function(t){var e=t.pop(),r={};if(e>0)for(;e--;){var o=t.pop();r[t.pop()]=o}t[t.length]=r},yt.prototype.ActionNewMethod=function(e,r){var o,a=e.pop(),n=e.pop(),i=e.pop(),s=[];if(i>0)for(;i--;){var c=e.pop();c&&"object"==typeof c&&"callee"in c&&(c=Array.prototype.slice.call(c)),s[s.length]=c}""===a&&(o=n.apply(n,s)),!o&&a in n&&(o=this.CreateNewActionScript(n[a],r,s)),!o&&a in t&&(o="CSSStyleDeclaration"===a?void 0:this.CreateNewActionScript(t[a],r,s)),e[e.length]=o},yt.prototype.ActionNewObject=function(e,r){var o=e.pop(),a=+e.pop(),n=[];if(a>0)for(;a;){a--;var i=e.pop();i&&"object"==typeof i&&"callee"in i&&(i=Array.prototype.slice.call(i)),n[n.length]=i}var s={};if(o in t)n.unshift(t[o]),s=new(Function.prototype.bind.apply(t[o],n));else switch(o){case"Object":s={};break;case"MovieClip":s=new Gt;var c=r.getStage();s.setStage(c),s.setParent(r);break;case"Sound":(s=new zt(r)).movieClip=r;break;case"XML":s=new Wt;break;case"LoadVars":s=new Vt;break;case"Color":s=new qt(n[0]);break;case"TextFormat":s=new Ht;break;case"MovieClipLoader":s=new Zt;break;default:if(r){var l=this.getVariable(o)||r.getVariable(o);s=this.CreateNewActionScript(l,r,n)}}e[e.length]=s},yt.prototype.getNativeClass=function(t){var e;switch(t){case"MovieClip":e=Gt;break;case"Sprite":e=Xt;break;case"SimpleButton":e=jt;break;case"TextField":e=Nt;break;case"Shape":e=Lt;break;case"Sound":e=zt;break;case"XML":e=Wt;break;case"LoadVars":e=Vt;break;case"Color":e=qt;break;case"TextFormat":e=Ht;break;case"MovieClipLoader":e=Zt}return e},yt.prototype.CreateNewActionScript=function(t,e,r){if(t)return r.unshift(t),new(Function.prototype.bind.apply(t,r))},yt.prototype.ActionSetMember=function(t,e){var r=t.pop(),o=t.pop(),a=t.pop();if(a){if("string"==typeof a){var n=this.stringToObject(a,e);n&&(a=n)}if("object"==typeof a||"function"==typeof a)switch(!0){default:case a===Gt.prototype:case a===Nt.prototype:case a===jt.prototype:case a===Xt.prototype:case a===Lt.prototype:a[o]=r;break;case a instanceof Yt:case a instanceof re:a._extend?a[o]=r:a.setProperty(o,r,!1)}}},yt.prototype.ActionTargetPath=function(t){F.log("ActionTargetPath");var e=t.pop(),r=null;if(e instanceof Gt&&null!==(r=e.getName()))for(;;){var o=e.getParent();if(null===o){r="/"+r;break}var a=o.getName();if(null===a){r=null;break}r=a+"/"+r}t[t.length]=r},yt.prototype.ActionWith=function(t,e,r){var o=r;return e&&(o=t.pop()),o},yt.prototype.ActionToNumber=function(t){var e=+t.pop();t[t.length]=e},yt.prototype.ActionToString=function(t){var e=t.pop();t[t.length]=this.valueToString(e)},yt.prototype.ActionTypeOf=function(t){var e=t.pop(),r="";switch(!0){case e instanceof Gt:r="movieclip";break;default:r=typeof e}t[t.length]=r},yt.prototype.ActionAdd2=function(t){var e=t.pop(),r=t.pop();t[t.length]=r+e},yt.prototype.ActionLess2=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<e},yt.prototype.ActionModulo=function(t){var e=t.pop(),r=t.pop();t[t.length]=r%e},yt.prototype.ActionBitAnd=function(t){var e=t.pop(),r=t.pop();t[t.length]=r&e},yt.prototype.ActionBitLShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<<e},yt.prototype.ActionBitOr=function(t){var e=t.pop(),r=t.pop();t[t.length]=r|e},yt.prototype.ActionBitRShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},yt.prototype.ActionBitURShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},yt.prototype.ActionBitXor=function(t){var e=t.pop(),r=t.pop();t[t.length]=e^r},yt.prototype.ActionDecrement=function(t){var e=+t.pop();e--,t[t.length]=e},yt.prototype.ActionIncrement=function(t){var e=+t.pop();e++,t[t.length]=e},yt.prototype.ActionPushDuplicate=function(t){var e=t.length;t[e]=t[e-1]},yt.prototype.ActionStackSwap=function(t){var e=t.pop(),r=t.pop();t[t.length]=e,t[t.length]=r},yt.prototype.ActionStoreRegister=function(t,e){this.params[e]=t[t.length-1]},yt.prototype.ActionInstanceOf=function(t){var e=t.pop(),r=t.pop();t[t.length]=r instanceof e},yt.prototype.ActionStrictEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r===e},yt.prototype.ActionGreater=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>e},yt.prototype.ActionExtends=function(t){var e=t.pop(),r=t.pop();e&&r&&(this.superClass=e)},yt.prototype.ActionCastOp=function(t){var e=t.pop(),r=t.pop();t[t.length]="function"==typeof r&&e instanceof r.prototype.constructor?e:null},yt.prototype.ActionImplementsOp=function(t){F.log("ActionImplementsOp");var e=t.pop();F.log(e);var r=t.pop(),o=[];if(r>0)for(;r--;)o[o.length]=t.pop();t[t.length]=null},yt.prototype.ActionTry=function(t,e){try{t.try.apply(e)}catch(r){t.CatchBlockFlag&&t.catch.apply(e,[r])}finally{t.FinallyBlockFlag&&t.finally.apply(e)}},yt.prototype.ActionThrow=function(t){throw t.pop().message};var bt=function(){};bt.prototype.generateColorTransform=function(t,e){return{R:0|a(0,o(t.R*e[0]+e[4],255)),G:0|a(0,o(t.G*e[1]+e[5],255)),B:0|a(0,o(t.B*e[2]+e[6],255)),A:a(0,o(255*t.A*e[3]+e[7],255))/255}},bt.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},bt.prototype.filterOperation=function(t,e,r){return!0===e?t?"source-in":"source-out":!0===r?t?"source-in":"copy":t?"source-atop":"destination-over"},bt.prototype.coatOfColor=function(t,e,r,o){for(var a=t.canvas,n=t.getImageData(0,0,a.width,a.height),i=0,s=n.data,c=e.R,l=e.G,p=e.B,g=s.length;i<g;i+=4){var u=i+3,f=s[u];r?255!==f&&(s[i]=0|c,s[i+1]=0|l,s[i+2]=0|p,s[u]=255-(0|f)):0!==f&&(s[i]=0|c,s[i+1]=0|l,s[i+2]=0|p,s[u]=0|f)}if(t.putImageData(n,0,0),o>0)for(i=1;i<o;i++)t.drawImage(t.canvas,0,0);return t},bt.prototype.clone=function(){var t=this,e=[];for(var r in t)t.hasOwnProperty(r)&&(e[e.length]=t[r]);var o=t;switch(t.filterId){case 0:o=new(Function.prototype.bind.apply(St,e));break;case 1:o=new(Function.prototype.bind.apply(mt,e));break;case 2:o=new(Function.prototype.bind.apply(At,e));break;case 3:o=new(Function.prototype.bind.apply(It,e));break;case 4:o=new(Function.prototype.bind.apply(Ct,e));break;case 5:o=new(Function.prototype.bind.apply(xt,e));break;case 6:o=new(Function.prototype.bind.apply(kt,e));break;case 7:o=new(Function.prototype.bind.apply(Tt,e))}return o},bt.prototype.toColorInt=function(t){if("string"==typeof t){var e=gt.getCanvas();e.width=1,e.height=1;var r=e.getContext("2d");r.fillStyle=t,t="0x"+r.fillStyle.substr(1),gt.destroy(r)}return t};var mt=function(){var t=this;bt.call(t),t.filterId=1,t.blurX=4,t.blurY=4,t.quality=1;var e=arguments,r=0|e[0];!A(r)&&0<=r&&255>=r&&(t.blurX=r);var o=0|e[1];!A(o)&&0<=o&&255>=o&&(t.blurY=o);var a=0|e[2];!A(a)&&1<=a&&15>=a&&(t.quality=a)};mt.prototype=Object.create(bt.prototype),mt.prototype.constructor=mt,mt.prototype.render=function(t,e,r,o){var a=t.canvas,n=gt.getCanvas();n.width=a.width,n.height=a.height;var i=n.getContext("2d");return i.drawImage(a,0,0),i._offsetX=t._offsetX,i._offsetY=t._offsetY,this.executeFilter(i,o)},mt.prototype.executeFilter=function(t,e){var r=this,o=r.blurX,a=r.blurY;if(0===o&&0===a)return t;0===o&&(o=4),0===a&&(a=4);var n=r.quality,s=e.getScale(),c=[.5,1.05,1.35,1.55,1.75,1.9,2,2.1,2.2,2.3,2.5,3,3,3.5,3.5][n-1],l=i(o*c*s*z),p=i(a*c*s*z),g=t.canvas,u=i(g.width+2*l+1),f=i(g.height+2*p+1),h=gt.getCanvas();h.width=u,h.height=f;var d=h.getContext("2d"),v=l,y=p;d._offsetX=l+t._offsetX,d._offsetY=p+t._offsetY,d.drawImage(g,v,y);for(var b=d.getImageData(0,0,u,f),m=b.data,S=v>>1,A=y>>1,I=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],C=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],x=I[S],k=C[S],T=I[A],M=C[A],F=0,B=0,U=0,w=0,_=0,Y=0,P=0,O=0,D=0,X=0,L=0,E=0,R=0,H=0,N=S+S+1,j=A+A+1,G=b.width,Z=b.height,V=G-1,W=Z-1,K=S+1,q=A+1,J={r:0,b:0,g:0,a:0},Q=J,$=1;$<N;$++)Q=Q.n={r:0,b:0,g:0,a:0};Q.n=J;var tt={r:0,b:0,g:0,a:0},et=tt;for($=1;$<j;$++)et=et.n={r:0,b:0,g:0,a:0};et.n=tt;for(var rt=null;n-- >0;){Y=_=0;var ot=0|x,at=0|k;for(B=Z;--B>-1;){for(P=K*(L=m[_]),O=K*(E=m[_+1]),D=K*(R=m[_+2]),X=K*(H=m[_+3]),Q=J,$=K;--$>-1;)Q.r=L,Q.g=E,Q.b=R,Q.a=H,Q=Q.n;for($=1;$<K;$++)U=_+((V<$?V:$)<<2)|0,P+=Q.r=m[U],O+=Q.g=m[U+1],D+=Q.b=m[U+2],X+=Q.a=m[U+3],Q=Q.n;for(rt=J,F=0;F<G;F++)m[_++]=P*ot>>>at,m[_++]=O*ot>>>at,m[_++]=D*ot>>>at,m[_++]=X*ot>>>at,U=Y+((U=F+S+1)<V?U:V)<<2,P-=rt.r-(rt.r=m[U]),O-=rt.g-(rt.g=m[U+1]),D-=rt.b-(rt.b=m[U+2]),X-=rt.a-(rt.a=m[U+3]),rt=rt.n;Y+=G}for(ot=T,at=M,F=0;F<G;F++){for(P=q*(L=m[_=F<<2|0])|0,O=q*(E=m[_+1|0])|0,D=q*(R=m[_+2|0])|0,X=q*(H=m[_+3|0])|0,et=tt,$=0;$<q;$++)et.r=L,et.g=E,et.b=R,et.a=H,et=et.n;for(w=G,$=1;$<=A;$++)_=w+F<<2,P+=et.r=m[_],O+=et.g=m[_+1],D+=et.b=m[_+2],X+=et.a=m[_+3],et=et.n,$<W&&(w+=G);if(_=F,rt=tt,n>0)for(B=0;B<Z;B++)m[(U=_<<2)+3]=H=X*ot>>>at,H>0?(m[U]=P*ot>>>at,m[U+1]=O*ot>>>at,m[U+2]=D*ot>>>at):m[U]=m[U+1]=m[U+2]=0,U=F+((U=B+q)<W?U:W)*G<<2,P-=rt.r-(rt.r=m[U]),O-=rt.g-(rt.g=m[U+1]),D-=rt.b-(rt.b=m[U+2]),X-=rt.a-(rt.a=m[U+3]),rt=rt.n,_+=G;else for(B=0;B<Z;B++)m[(U=_<<2)+3]=H=X*ot>>>at,H>0?(H=255/H,m[U]=(P*ot>>>at)*H,m[U+1]=(O*ot>>>at)*H,m[U+2]=(D*ot>>>at)*H):m[U]=m[U+1]=m[U+2]=0,U=F+((U=B+q)<W?U:W)*G<<2,P-=rt.r-(rt.r=m[U]),O-=rt.g-(rt.g=m[U+1]),D-=rt.b-(rt.b=m[U+2]),X-=rt.a-(rt.a=m[U+3]),rt=rt.n,_+=G}}return d.putImageData(b,0,0),gt.destroy(t),d};var St=function(){var t=this;bt.call(t),t.filterId=0,t.distance=4,t.angle=45,t.color=0,t.alpha=1,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.inner=!1,t.knockout=!1,t.hideObject=!1;var e=arguments,r=0|e[0];A(r)||(t.distance=r);var o=+e[1];!A(o)&&0<=o&&360>=o&&(t.angle=o);var a=t.toColorInt(e[2]);A(a)||(t.color=a);var n=+e[3];!A(n)&&0<=n&&1>=n&&(t.alpha=n);var i=0|e[4];!A(i)&&0<=i&&255>=i&&(t.blurX=i);var s=0|e[5];!A(s)&&0<=s&&255>=s&&(t.blurY=s);var c=+e[6];!A(c)&&0<=c&&255>=c&&(t.strength=c);var l=0|e[7];!A(l)&&1<=l&&15>=l&&(t.quality=l);var p=e[8];"boolean"==typeof p&&(t.inner=p);var g=e[9];"boolean"==typeof g&&(t.knockout=g);var u=e[10];"boolean"==typeof u&&(t.hideObject=u)};St.prototype=Object.create(bt.prototype),St.prototype.constructor=St,St.prototype.render=function(t,e,r,o){var a=this,n=a.strength;if(0===n)return t;var s=a.quality,c=a.inner,l=a.angle*b/180,p=a.blurX,f=a.blurY,d=new mt(p,f,s).render(t,e,r,o),v=a.toColorInt(a.color),y=a.intToRGBA(v),m=a.generateColorTransform(y,r);d=a.coatOfColor(d,m,c,n);var S=t._offsetX,A=t._offsetY,I=d._offsetX,C=d._offsetY,x=d.canvas,k=gt.getCanvas(),T=x.width+S,M=x.height+A,F=0,B=0,U=0,w=0,_=a.distance,Y=o.getScale(),P=i(g(l)*_*Y),O=i(u(l)*_*Y);0!==P&&(T+=h(P),P<0?F-=P:U=P),0!==O&&(M+=h(O),O<0?B-=O:w=O),k.width=T,k.height=M;var D=k.getContext("2d");D.drawImage(t.canvas,I+F,C+B),D.globalAlpha=a.alpha,n<1&&(D.globalAlpha*=n);var X=a.knockout,L=a.hideObject;return D.globalCompositeOperation=a.filterOperation(c,X,L),D.drawImage(x,S+U,A+w),D._offsetX=S+I,D._offsetY=A+C,gt.destroy(d),D};var At=function(){var t=this;bt.call(t),t.filterId=2,t.color=16711680,t.alpha=1,t.blurX=6,t.blurY=6,t.strength=2,t.quality=1,t.inner=!1,t.knockout=!1;var e=arguments,r=t.toColorInt(e[0]);A(r)||(t.color=r);var o=+e[1];!A(o)&&0<=o&&1>=o&&(t.alpha=o);var a=0|e[2];!A(a)&&0<=a&&255>=a&&(t.blurX=a);var n=0|e[3];!A(n)&&0<=n&&255>=n&&(t.blurY=n);var i=+e[4];!A(i)&&0<=i&&255>=i&&(t.strength=i);var s=0|e[5];!A(s)&&1<=s&&15>=s&&(t.quality=s);var c=e[6];"boolean"==typeof c&&(t.inner=c);var l=e[7];"boolean"==typeof l&&(t.knockout=l)};At.prototype=Object.create(bt.prototype),At.prototype.constructor=At,At.prototype.render=function(t,e,r,o){var a=this,n=a.strength;if(0===n)return t;var i=a.inner,s=a.blurX,c=a.blurY,l=new mt(s,c,a.quality).render(t,e,r,o),p=l.canvas.width+t._offsetX,g=l.canvas.height+t._offsetY,u=a.toColorInt(a.color),f=a.intToRGBA(u),h=a.generateColorTransform(f,r);l=a.coatOfColor(l,h,i,n);var d=gt.getCanvas();d.width=p,d.height=g;var v=d.getContext("2d");v.drawImage(t.canvas,l._offsetX,l._offsetY),v.globalAlpha=a.alpha,n<1&&(v.globalAlpha*=n);var y="source-over";return y=a.knockout?i?"source-in":"source-out":i?"source-atop":"destination-over",v.globalCompositeOperation=y,v.drawImage(l.canvas,t._offsetX,t._offsetY),v._offsetX=t._offsetX+l._offsetX,v._offsetY=t._offsetY+l._offsetY,gt.destroy(l),v};var It=function(){var t=this;bt.call(t),t.filterId=3,t.distance=4,t.angle=45,t.highlightColor=16777215,t.highlightAlpha=1,t.shadowColor=0,t.shadowAlpha=1,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.type="inner",t.knockout=!1;var e=arguments,r=0|e[0];A(r)||(t.distance=r);var o=+e[1];!A(o)&&0<=o&&360>=o&&(t.angle=o);var a=t.toColorInt(e[2]);A(a)||(t.highlightColor=a);var n=+e[3];!A(n)&&0<=n&&1>=n&&(t.highlightAlpha=n);var i=t.toColorInt(e[4]);A(i)||(t.shadowColor=i);var s=+e[5];!A(s)&&0<=s&&1>=s&&(t.shadowAlpha=s);var c=0|e[6];!A(c)&&0<=c&&255>=c&&(t.blurX=c);var l=0|e[7];!A(l)&&0<=l&&255>=l&&(t.blurY=l);var p=+e[8];!A(p)&&0<=p&&255>=p&&(t.strength=p);var g=0|e[9];!A(g)&&1<=g&&15>=g&&(t.quality=g);var u=e[10];"string"==typeof u&&(t.type=u);var f=e[11];"boolean"==typeof f&&(t.knockout=f)};It.prototype=Object.create(bt.prototype),It.prototype.constructor=It,It.prototype.render=function(t,e,r,o){var a,n,s=this,c=s.distance,l=s.angle,p=s.shadowColor,f=s.shadowAlpha,d=s.highlightColor,v=s.highlightAlpha,y=s.blurX,m=s.blurY,S=s.strength,A=s.quality,I=s.knockout,C=l*b/180,x=s.type,k=new mt(y,m,A).render(t,e,r,o),T=k.canvas,M=k._offsetX,F=k._offsetY,B=gt.getCanvas();B.width=T.width,B.height=T.height;var U=B.getContext("2d");U.drawImage(T,0,0);var w=s.toColorInt(p);a=s.intToRGBA(w),n=s.generateColorTransform(a,r),U=s.coatOfColor(U,n,!1,S);var _=gt.getCanvas();_.width=T.width,_.height=T.height;var Y=_.getContext("2d");Y.drawImage(T,0,0);var P=s.toColorInt(d);a=s.intToRGBA(P),n=s.generateColorTransform(a,r),Y=s.coatOfColor(Y,n,!1,S);var O="inner"===x||"full"===x,D="outer"===x||"full"===x,X=t._offsetX,L=t._offsetY,E=gt.getCanvas(),R=T.width+X,H=T.height+L,N=0,j=0,G=o.getScale(),Z=i(g(C)*c*G),V=i(u(C)*c*G);0!==Z&&(R+=h(Z),Z<0&&(N-=Z)),0!==V&&(H+=h(V),V<0&&(j-=V)),E.width=R,E.height=H;var W=E.getContext("2d");I||W.drawImage(t.canvas,M+N,F+j),S<1&&(W.globalAlpha*=S),W._offsetX=X+M,W._offsetY=L+F;var z=gt.getCanvas();z.width=R+M,z.height=H+F;var K,q=z.getContext("2d");return q.globalCompositeOperation="xor",q.globalAlpha=v,q.drawImage(Y.canvas,-Z+N,-V+j),q.globalAlpha=f,q.drawImage(U.canvas,Z,V),O&&D?K="source-over":O?(W.drawImage(t.canvas,M+N,F+j),K=s.filterOperation(!0,I)):D&&(K="destination-over"),W.globalCompositeOperation=K,W.drawImage(q.canvas,0,0),!O&&D&&I&&(W.globalCompositeOperation="destination-out",W.drawImage(t.canvas,M+N,F+j)),gt.destroy(k),gt.destroy(Y),gt.destroy(U),gt.destroy(q),W};var Ct=function(){var t=this;bt.call(t),t.filterId=4,t.distance=4,t.angle=45,t.colors=null,t.alphas=null,t.ratios=null,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.type="inner",t.knockout=!1;var e=arguments,r=0|e[0];A(r)||(t.distance=r);var o=+e[1];!A(o)&&0<=o&&360>=o&&(t.angle=o),t.colors=e[2],t.alphas=e[3],t.ratios=e[4];var a=0|e[5];!A(a)&&0<=a&&255>=a&&(t.blurX=a);var n=0|e[6];!A(n)&&0<=n&&255>=n&&(t.blurY=n);var i=+e[7];!A(i)&&0<=i&&255>=i&&(t.strength=i);var s=0|e[8];!A(s)&&1<=s&&15>=s&&(t.quality=s);var c=e[9];"string"==typeof c&&(t.type=c);var l=e[10];"boolean"==typeof l&&(t.knockout=l)};Ct.prototype=Object.create(bt.prototype),Ct.prototype.constructor=Ct,Ct.prototype.render=function(t,e,r,o){var a=this,n=a.strength;if(0===n)return t;var s=a.type,c=a.blurX,l=a.blurY,p="inner"===s||"full"===s,f="outer"===s||"full"===s,d=a.knockout,v=a.angle*b/180,y=new mt(c,l,a.quality).render(t,e,r,o),m=t._offsetX,S=t._offsetY,A=y._offsetX,I=y._offsetY,C=y.canvas,x=gt.getCanvas(),k=C.width+m,T=C.height+S,M=0,F=0,B=0,U=0,w=a.distance,_=o.getScale(),Y=i(g(v)*w*_),P=i(u(v)*w*_);0!==Y&&(k+=h(Y),Y<0?M-=Y:B=Y),0!==P&&(T+=h(P),P<0?F-=P:U=P),x.width=k,x.height=T;var O,D=x.getContext("2d");return d||D.drawImage(t.canvas,A+M,I+F),n<1&&(D.globalAlpha*=n),p&&f?O="source-over":(d&&D.drawImage(t.canvas,A+M,I+F),O=a.filterOperation(p,d)),D.globalCompositeOperation=O,D.drawImage(C,m+B,S+U),D._offsetX=m+A,D._offsetY=S+I,gt.destroy(y),D};var xt=function(){bt.call(this),this.filterId=5};xt.prototype=Object.create(bt.prototype),xt.prototype.constructor=xt,xt.prototype.render=function(t,e,r,o){return t};var kt=function(){bt.call(this),this.filterId=6};kt.prototype=Object.create(bt.prototype),kt.prototype.constructor=kt,kt.prototype.render=function(t,e,r,o){return t};var Tt=function(){bt.call(this),this.filterId=7};Tt.prototype=Object.create(bt.prototype),Tt.prototype.constructor=Tt,Tt.prototype.render=function(t,e,r,o){return t};var Mt=function(){this.clear()};Mt.prototype.MOVE_TO=0,Mt.prototype.CURVE_TO=1,Mt.prototype.LINE_TO=2,Mt.prototype.CUBIC=3,Mt.prototype.ARC=4,Mt.prototype.FILL_STYLE=5,Mt.prototype.STROKE_STYLE=6,Mt.prototype.FILL=7,Mt.prototype.STROKE=8,Mt.prototype.LINE_WIDTH=9,Mt.prototype.LINE_CAP=10,Mt.prototype.LINE_JOIN=11,Mt.prototype.MITER_LIMIT=12,Mt.prototype.BEGIN_PATH=13,Mt.prototype.multiplicationMatrix=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},Mt.prototype.generateColorTransform=function(t,e){return{R:0|a(0,o(t.R*e[0]+e[4],255)),G:0|a(0,o(t.G*e[1]+e[5],255)),B:0|a(0,o(t.B*e[2]+e[6],255)),A:a(0,o(255*t.A*e[3]+e[7],255))/255}},Mt.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},Mt.prototype.clear=function(){var t=this,e=m.MAX_VALUE;return t.bounds={xMin:e,xMax:-e,yMin:e,yMax:-e},t.maxWidth=0,t.cmd=null,t.isDraw=!1,t.isFillDraw=!1,t.isLineDraw=!1,t.cacheKey="",t.recodes=[],t.lineRecodes=[],t},Mt.prototype.getCacheKey=function(){return this.cacheKey},Mt.prototype.addCacheKey=function(){var t=arguments,e="",r=t.length;if(r)for(var o=0;o<r;o++){var a=t[o];e+="_"+a}this.cacheKey+=e},Mt.prototype.getBounds=function(){return this.bounds},Mt.prototype.setBounds=function(t,e){var r=this.bounds;r.xMin=o(r.xMin,t),r.xMax=a(r.xMax,t),r.yMin=o(r.yMin,e),r.yMax=a(r.yMax,e)},Mt.prototype.colorStringToInt=function(t){var e=gt.getCanvas().getContext("2d");e.fillStyle=t;var r="0x"+e.fillStyle.substr(1);return gt.destroy(e),r},Mt.prototype.beginFill=function(t,e){var r=this;"string"==typeof t&&(t=r.colorStringToInt(t)),t|=0,A(e=+e)?e=100:e*=100;var o=r.intToRGBA(t,e),a=r.recodes;return r.isFillDraw||(a[a.length]=[r.BEGIN_PATH]),a[a.length]=[r.FILL_STYLE,o.R,o.G,o.B,o.A],r.addCacheKey(t,e),r.isFillDraw=!0,r.isDraw=!0,r},Mt.prototype.lineStyle=function(t,e,r,o,n,i,s,c){var l=this,p=l.lineRecodes;if(A(t=+t)){if(l.isLineDraw){l.isLineDraw=!1,p[p.length]=[l.STROKE];for(var g=p.length,u=l.recodes,f=0;f<g;f++)u[u.length]=p[f];l.lineRecodes=[]}}else{void 0===e&&(e=0),"string"==typeof e&&(e=l.colorStringToInt(e)),i||(i="round"),s||(s="round"),e|=0,A(r=+r)?r=100:r*=100;var h=l.intToRGBA(e,r);t<.5&&(t+=.2),t*=20,l.maxWidth=a(l.maxWidth,t),l.isLineDraw&&(p[p.length]=[l.STROKE]),p[p.length]=[l.BEGIN_PATH],p[p.length]=[l.STROKE_STYLE,h.R,h.G,h.B,h.A],p[p.length]=[l.LINE_WIDTH,t],p[p.length]=[l.LINE_CAP,i],p[p.length]=[l.LINE_JOIN,s],l.addCacheKey(e,r),l.isLineDraw=!0,l.isDraw=!0}return l},Mt.prototype.moveTo=function(t,e){var r=this,o=r.recodes;if(t*=20,e*=20,r.isFillDraw&&(o[o.length]=[r.MOVE_TO,t,e]),r.isLineDraw){var a=r.lineRecodes;a[a.length]=[r.MOVE_TO,t,e]}return(r.isFillDraw||r.isLineDraw)&&(r.setBounds(t,e),r.addCacheKey(t,e)),r},Mt.prototype.lineTo=function(t,e){var r=this,o=r.recodes;if(t*=20,e*=20,r.isFillDraw&&(o[o.length]=[r.LINE_TO,t,e]),r.isLineDraw){var a=r.lineRecodes;a[a.length]=[r.LINE_TO,t,e]}return(r.isFillDraw||r.isLineDraw)&&(r.setBounds(t,e),r.addCacheKey(t,e)),r},Mt.prototype.curveTo=function(t,e,r,o){var a=this,n=a.recodes;if(t*=20,e*=20,r*=20,o*=20,a.isFillDraw&&(n[n.length]=[a.CURVE_TO,t,e,r,o]),a.isLineDraw){var i=a.lineRecodes;i[i.length]=[a.CURVE_TO,t,e,r,o]}return(a.isFillDraw||a.isLineDraw)&&(a.setBounds(t,e),a.setBounds(r,o),a.addCacheKey(t,e,r,o)),a},Mt.prototype.cubicCurveTo=function(t,e,r,o,a,n){var i=this,s=i.recodes;if(t*=20,e*=20,r*=20,o*=20,a*=20,n*=20,i.isFillDraw&&(s[s.length]=[i.CUBIC,t,e,r,o,a,n]),i.isLineDraw){var c=i.lineRecodes;c[c.length]=[i.CUBIC,t,e,r,o,a,n]}return(i.isFillDraw||i.isLineDraw)&&(i.setBounds(a,n),i.setBounds(t,e),i.setBounds(r,o),i.addCacheKey(t,e,r,o,a,n)),i},Mt.prototype.drawCircle=function(t,e,r){var o=this,a=o.recodes;if(t*=20,e*=20,r*=20,o.isFillDraw&&(a[a.length]=[o.ARC,t,e,r]),o.isLineDraw){var n=o.lineRecodes;n[n.length]=[o.ARC,t,e,r]}return(o.isFillDraw||o.isLineDraw)&&(o.setBounds(t-r,e-r),o.setBounds(t+r,e+r),o.addCacheKey(t,e,r)),o},Mt.prototype.drawEllipse=function(t,e,r,o){var a=this,n=r/2,i=o/2,s=t+n,c=t+r,l=e+i,p=e+o,g=4/3*(d-1)*n,u=4/3*(d-1)*i;return a.moveTo(s,e),a.cubicCurveTo(s+g,e,c,l-u,c,l),a.cubicCurveTo(c,l+u,s+g,p,s,p),a.cubicCurveTo(s-g,p,t,l+u,t,l),a.cubicCurveTo(t,l-u,s-g,e,s,e),a},Mt.prototype.drawRect=function(t,e,r,o){var a=this;return a.moveTo(t,e),a.lineTo(t+r,e),a.lineTo(t+r,e+o),a.lineTo(t,e+o),a.lineTo(t,e),a},Mt.prototype.drawRoundRect=function(t,e,r,o,a,n){var i=this,s=a/2,c=n/2,l=4/3*(d-1)*s,p=4/3*(d-1)*c,g=t+s,u=t+r,f=u-s,h=e+c,v=e+o,y=v-c;return i.moveTo(g,e),i.lineTo(f,e),i.cubicCurveTo(f+l,e,u,h-p,u,h),i.lineTo(u,y),i.cubicCurveTo(u,y+p,f+l,v,f,v),i.lineTo(g,v),i.cubicCurveTo(g-l,v,t,y+p,t,y),i.lineTo(t,h),i.cubicCurveTo(t,h-p,g-l,e,g,e),i},Mt.prototype.drawTriangles=function(t,e,r,o){var a=this,n=t.length;if(n&&n%3==0){var i=0,s=0;if(e){if((n=e.length)&&n%3==0)for(i=0;i<n;i++){var c=e[i];0===s?a.moveTo(t[c],t[c+1]):a.lineTo(t[c],t[c+1]),++s%3==0&&(s=0)}}else for(i=0;i<n;i++)0===s?a.moveTo(t[i++],t[i]):a.lineTo(t[i++],t[i]),++s%3==0&&(s=0)}return a},Mt.prototype.endFill=function(){var t=this;if(t.isFillDraw){var e=t.recodes;e[e.length]=[t.FILL]}return t.isFillDraw=!1,t},Mt.prototype.render=function(t,e,r,a){var n=this,c="";if(!(r[3]+r[7]/255))return c;var l=n.multiplicationMatrix(a.getMatrix(),e),g=p(l[0]*l[0]+l[1]*l[1]),u=p(l[2]*l[2]+l[3]*l[3]);g=s(d,i(f(g)/v-y)),u=s(d,i(f(u)/v-y));var b,m,S=n.maxWidth,A=S/2,I=n.getBounds(),C=I.xMax,x=I.xMin,k=I.yMax,T=I.yMin,M=h(i((C-x+S)*g)),F=h(i((k-T+S)*u));if(M<=0||F<=0)return c;var B=a.clipMc||n.isClipDepth;if(!B&&(c=gt.generateKey("Graphics",0,[g,u],r),c+=n.getCacheKey(),!(b=gt.getCache(c))&&a.getWidth()>M&&a.getHeight()>F&&gt.size>M*F)){(m=gt.getCanvas()).width=M,m.height=F;var U=[g,0,0,u,(-x+A)*g,(-T+A)*u];(b=m.getContext("2d")).setTransform(U[0],U[1],U[2],U[3],U[4],U[5]),b=n.executeRender(b,o(g,u),r,!1),gt.setCache(c,b)}if(b){m=b.canvas;var w=[1/g,0,0,1/u,x-A,T-A],_=n.multiplicationMatrix(l,w);t.setTransform(_[0],_[1],_[2],_[3],_[4],_[5]),N&&!G?(t.fillStyle=a.context.createPattern(b.canvas,"no-repeat"),t.fillRect(0,0,M,F)):t.drawImage(m,0,0,M,F)}else t.setTransform(l[0],l[1],l[2],l[3],l[4],l[5]),n.executeRender(t,o(l[0],l[3]),r,B);return c+"_"+l[4]+"_"+l[5]},Mt.prototype.executeRender=function(t,e,r,o){var a=this,n=a.recodes,i=n.length,s=a.lineRecodes;if(i||s){var c=a.cmd;if(!c){var l=s.length;if(l){for(var p=0;p<l;p++)n[n.length]=s[p];a.lineRecodes=[]}c=lt.buildCommand(n),a.cmd=c}t.beginPath(),c(t,r,o),o?t.clip():(a.isFillDraw&&t.fill(),a.isLineDraw&&t.stroke())}var g="rgba(0,0,0,1)";return t.strokeStyle=g,t.fillStyle=g,t.globalAlpha=1,t},Mt.prototype.renderHitTest=function(t,e,r,o,a){var n=this,i=n.cmd;if(!i){var s=n.recodes;i=lt.buildCommand(s),n.cmd=i}var c=n.multiplicationMatrix(r.getMatrix(),e);t.setTransform(c[0],c[1],c[2],c[3],c[4],c[5]),t.beginPath(),i(t,[1,1,1,1,0,0,0,0],!0);var l=t.isPointInPath(o,a);return l||("isPointInStroke"in t&&(l=t.isPointInStroke(o,a)),l)};var Ft=function(){var t=this;t._leftToLeft=0,t._leftToRight=1,t._pan=0,t._rightToLeft=0,t._rightToRight=1,t._volume=1};Object.defineProperties(Ft.prototype,{leftToLeft:{get:function(){return this.getLeftToLeft()},set:function(t){this.setLeftToLeft(t)}},leftToRight:{get:function(){return this.getLeftToRight()},set:function(t){this.setLeftToRight(t)}},pan:{get:function(){return this.getPan()},set:function(t){this.setPan(t)}},rightToLeft:{get:function(){return this.getRightToLeft()},set:function(t){this.setRightToLeft(t)}},rightToRight:{get:function(){return this.getRightToRight()},set:function(t){this.setRightToRight(t)}},volume:{get:function(){return this.getVolume()},set:function(t){this.setVolume(t)}}}),Ft.prototype.getLeftToLeft=function(){return this._leftToLeft},Ft.prototype.setLeftToLeft=function(t){this._leftToLeft=0|t},Ft.prototype.getLeftToRight=function(){return this._leftToRight},Ft.prototype.setLeftToRight=function(t){this._leftToRight=0|t},Ft.prototype.getPan=function(){return this._pan},Ft.prototype.setPan=function(t){this._pan=0|t},Ft.prototype.getRightToLeft=function(){return this._rightToLeft},Ft.prototype.setRightToLeft=function(t){this._rightToLeft=0|t},Ft.prototype.getRightToRight=function(){return this._rightToRight},Ft.prototype.setRightToRight=function(t){this._rightToRight=0|t},Ft.prototype.getVolume=function(){return this._volume},Ft.prototype.setVolume=function(t){this._volume=0|t},Ft.prototype.SoundTransform=function(t,e){this.volume=0|t,this.pan=0|e};var Bt=function(){var t=this;t.target={},t.bubbles=!0,t.cancelable=!0,t.currentTarget={},t.eventPhase=0};Bt.prototype.ACTIVATE="activate",Bt.prototype.CLICK="press",Bt.prototype.CONTEXT_MENU="contextMenu",Bt.prototype.DOUBLE_CLICK="doubleClick",Bt.prototype.MIDDLE_CLICK="middleClick",Bt.prototype.MIDDLE_MOUSE_DOWN="middleMouseDown",Bt.prototype.MIDDLE_MOUSE_UP="middleMouseUp",Bt.prototype.MOUSE_DOWN="mouseDown",Bt.prototype.MOUSE_MOVE="mouseMove",Bt.prototype.MOUSE_OUT="rollOut",Bt.prototype.MOUSE_OVER="rollOver",Bt.prototype.MOUSE_UP="mouseUp",Bt.prototype.MOUSE_WHEEL="mouseWheel",Bt.prototype.RIGHT_CLICK="rightClick",Bt.prototype.RIGHT_MOUSE_DOWN="rightMouseDown",Bt.prototype.RIGHT_MOUSE_UP="rightMouseUp",Bt.prototype.ROLL_OUT="rollOut",Bt.prototype.ROLL_OVER="rollOver";var Ut=function(t){this.type=t,this.target=null,Bt.call(this)};(Ut.prototype=Object.create(Bt.prototype)).constructor=Ut;var wt=new Ut,_t=function(){var t=this;t.events={},t.isLoad=!1,t.active=!1};Object.defineProperties(_t.prototype,{onEnterFrame:{get:function(){return this.getOnEvent("onEnterFrame")},set:function(t){this.setOnEvent("onEnterFrame",t)}},onPress:{get:function(){return this.getOnEvent("onPress")},set:function(t){this.setOnEvent("onPress",t)}},onRelease:{get:function(){return this.getOnEvent("onRelease")},set:function(t){this.setOnEvent("onRelease",t)}},onReleaseOutside:{get:function(){return this.getOnEvent("onReleaseOutside")},set:function(t){this.setOnEvent("onReleaseOutside",t)}},onRollOver:{get:function(){return this.getOnEvent("onRollOver")},set:function(t){this.setOnEvent("onRollOver",t)}},onRollOut:{get:function(){return this.getOnEvent("onRollOut")},set:function(t){this.setOnEvent("onRollOut",t)}},onData:{get:function(){return this.getOnEvent("onData")},set:function(t){this.setOnEvent("onData",t)}},onMouseDown:{get:function(){return this.getOnEvent("onMouseDown")},set:function(t){this.setOnEvent("onMouseDown",t)}},onMouseUp:{get:function(){return this.getOnEvent("onMouseUp")},set:function(t){this.setOnEvent("onMouseUp",t)}},onMouseMove:{get:function(){return this.getOnEvent("onMouseMove")},set:function(t){this.setOnEvent("onMouseMove",t)}},onDragOut:{get:function(){return this.getOnEvent("onDragOut")},set:function(t){this.setOnEvent("onDragOut",t)}},onDragOver:{get:function(){return this.getOnEvent("onDragOver")},set:function(t){this.setOnEvent("onDragOver",t)}},onKeyDown:{get:function(){return this.getOnEvent("onKeyDown")},set:function(t){this.setOnEvent("onKeyDown",t)}},onKeyUp:{get:function(){return this.getOnEvent("onKeyUp")},set:function(t){this.setOnEvent("onKeyUp",t)}},onLoad:{get:function(){return this.getOnEvent("onLoad")},set:function(t){this.setOnEvent("onLoad",t)}},onUnLoad:{get:function(){return this.getOnEvent("onUnLoad")},set:function(t){this.setOnEvent("onUnLoad",t)}}}),_t.prototype.getOnEvent=function(t){return this.variables[t]},_t.prototype.setOnEvent=function(t,e){this.variables[t]=e},_t.prototype.addEventListener=function(t,e,r,o,a){var n=this.events;t in n||(n[t]=[]);var i=n[t];i[i.length]=e},_t.prototype.dispatchEvent=function(t,e){var r=this,o=t.type;if(r.hasEventListener(o)){var a=r.events[o],n=new Ut;n.type=o,n.target=this;var i=[n];r.setActionQueue(a,e,i)}},_t.prototype.hasEventListener=function(t){return t in this.events},_t.prototype.removeEventListener=function(t,e,r){if(this.hasEventListener(t))for(var o=this.events[t],a=o.length,n=0;n<a;n++)if(o[n]===e){o.slice(n,0);break}},_t.prototype.willTrigger=function(t){return this.hasEventListener(t)},_t.prototype.setActionQueue=function(t,e,r){var o=e.actions;o[o.length]={as:t,mc:this,args:r}};var Yt=function(){_t.call(this),this.initialize()};Yt.prototype=Object.create(_t.prototype),Yt.prototype.constructor=Yt,Object.defineProperties(Yt.prototype,{accessibilityProperties:{value:new function(){}},alpha:{get:function(){return this.getAlpha()/100},set:function(t){this.setAlpha(100*t)}},_alpha:{get:function(){return this.getAlpha()},set:function(t){this.setAlpha(t)}},name:{get:function(){return this.getName()},set:function(t){this.setName(t)}},_name:{get:function(){return this.getName()},set:function(t){this.setName(t)}},blendMode:{get:function(){return this.getBlendMode()},set:function(t){this.setBlendMode(t)}},filters:{get:function(){return this.getFilters()},set:function(t){this.setFilters(t)}},_visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},_rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},_height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},_width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},_x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},_y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},_xscale:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},scaleX:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},_yscale:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},scaleY:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},_xmouse:{get:function(){return this.getXMouse()},set:function(){}},mouseX:{get:function(){return this.getXMouse()},set:function(){}},_ymouse:{get:function(){return this.getYMouse()},set:function(){}},mouseY:{get:function(){return this.getYMouse()},set:function(){}},mask:{get:function(){return this.getMask()},set:function(t){this.setMask(t)}},enabled:{get:function(){return this.getEnabled()},set:function(t){this.setEnabled(t)}},_parent:{get:function(){return this.getParent()},set:function(t){this.setParent(t)}},parent:{get:function(){return this.getParent()},set:function(t){this.setParent(t)}}}),Yt.prototype.initialize=function(){var t=this;t.instanceId=X++,t.characterId=0,t.tagType=0,t.ratio=0,t.isMask=!1,t.clipDepth=0,t.isClipDepth=!1,t.stageId=null,t.loadStageId=null,t.variables={},t.buttonStatus="up",t.removeFlag=!1,t.parentId=null,t.__visible=!0,t.__name=null,t._url=null,t._highquality=1,t._focusrect=1,t._soundbuftime=null,t._totalframes=1,t._level=0,t._depth=null,t._framesloaded=0,t._target="",t._lockroot=void 0,t._enabled=!0,t._blendMode=null,t._filters=null,t._filterCacheKey=null,t._parentPlace=null,t._mask=null,t._matrix=null,t._colorTransform=null,t._extend=!1,t.avm2=null},Yt.prototype.flash={filters:{DropShadowFilter:St,BlurFilter:mt,GlowFilter:At,BevelFilter:It,GradientGlowFilter:Ct,ConvolutionFilter:xt,ColorMatrixFilter:kt,GradientBevelFilter:Tt,BitmapFilter:bt}},Yt.prototype.toString=function(){var t="_level0";return t+=this.getTarget().split("/").join(".")},Yt.prototype.multiplicationMatrix=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},Yt.prototype.multiplicationColor=function(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2],t[3]*e[3],t[0]*e[4]+t[4],t[1]*e[5]+t[5],t[2]*e[6]+t[6],t[3]*e[7]+t[7]]},Yt.prototype.boundsMatrix=function(t,e,r){var n=m.MAX_VALUE,i=-n,s=-n,c=n,l=n;r&&(c=r.xMin,i=r.xMax,l=r.yMin,s=r.yMax);var p=t.xMax*e[0]+t.yMax*e[2]+e[4],g=t.xMax*e[0]+t.yMin*e[2]+e[4],u=t.xMin*e[0]+t.yMax*e[2]+e[4],f=t.xMin*e[0]+t.yMin*e[2]+e[4],h=t.xMax*e[1]+t.yMax*e[3]+e[5],d=t.xMax*e[1]+t.yMin*e[3]+e[5],v=t.xMin*e[1]+t.yMax*e[3]+e[5],y=t.xMin*e[1]+t.yMin*e[3]+e[5];return i=a(a(a(a(i,p),g),u),f),c=o(o(o(o(c,p),g),u),f),s=a(a(a(a(s,h),d),v),y),{xMin:c,xMax:i,yMin:l=o(o(o(o(l,h),d),v),y),yMax:s}},Yt.prototype.generateColorTransform=function(t,e){return{R:0|a(0,o(t.R*e[0]+e[4],255)),G:0|a(0,o(t.G*e[1]+e[5],255)),B:0|a(0,o(t.B*e[2]+e[6],255)),A:a(0,o(255*t.A*e[3]+e[7],255))/255}},Yt.prototype.cloneArray=function(t){for(var e=[],r=t.length,o=0;o<r;o++)e[o]=t[o];return e},Yt.prototype.getBlendName=function(t){var e=null;switch(t){case 1:case"normal":e="normal";break;case 2:case"layer":e="layer";break;case 3:case"multiply":e="multiply";break;case 4:case"screen":e="screen";break;case 5:case"lighten":e="lighten";break;case 6:case"darken":e="darken";break;case 7:case"difference":e="difference";break;case 8:case"add":e="add";break;case 9:case"subtract":e="subtract";break;case 10:case"invert":e="invert";break;case 11:case"alpha":e="alpha";break;case 12:case"erase":e="erase";break;case 13:case"overlay":e="overlay";break;case 14:case"hardlight":e="hardlight"}return e},Yt.prototype.setStage=function(t){var e=this;(e.stageId=t.getId(),e instanceof jt)&&(e.getSprite("up").setStage(t),e.getSprite("down").setStage(t),e.getSprite("hit").setStage(t),e.getSprite("over").setStage(t));t.setInstance(e)},Yt.prototype.getStage=function(){var t=this.getLoadStage();return t||(t=this.getParentStage()),t},Yt.prototype.getParentStage=function(){var t=this.stageId;if(null!==t)return t in O?O[t]:D[t]},Yt.prototype.getLoadStage=function(){var t=this.loadStageId;if(null!==t)return t in O?O[t]:D[t]},Yt.prototype.setLoadStage=function(t){var e=this;e.loadStageId=null,null!==t&&(t.setInstance(e),e.loadStageId=t.getId())},Yt.prototype.getCharacterId=function(){return this.characterId},Yt.prototype.setCharacterId=function(t){this.characterId=t},Yt.prototype.getTagType=function(){return this.tagType},Yt.prototype.setTagType=function(t){this.tagType=t},Yt.prototype.getRatio=function(){return this.ratio},Yt.prototype.setRatio=function(t){this.ratio=t},Yt.prototype.getParent=function(){var t,e=this,r=e.getLoadStage(),o=e.parentId;return r&&(t=r.getInstance(o)),t||(t=(r=e.getParentStage()).getInstance(o)),t},Yt.prototype.setParent=function(t){t instanceof Dt&&t.setInstance(this),this.parentId=t.instanceId},Yt.prototype.getParentSprite=function(){return this.getStage().getInstance(this._sprite)},Yt.prototype.setParentSprite=function(t){this._sprite=t.instanceId},Yt.prototype.getButtonStatus=function(){return this.buttonStatus},Yt.prototype.setButtonStatus=function(t){this.buttonStatus=t},Yt.prototype.getMask=function(){return this._mask},Yt.prototype.setMask=function(t){var e=this._mask;e&&(e.isMask=!1),t.isMask=!0,this._mask=t},Yt.prototype.getEnabled=function(){return this._enabled},Yt.prototype.setEnabled=function(t){this._enabled=t},Yt.prototype.getButtonMode=function(){return this._buttonMode},Yt.prototype.setButtonMode=function(t){this._buttonMode=t},Yt.prototype.getTarget=function(){return this._target},Yt.prototype.setTarget=function(t){this._target=t},Yt.prototype.splitPath=function(t){var e,r=this,o=r,a=t,n="";if("string"==typeof t&&(-1!==t.indexOf("::")?(o=r,a=t):-1!==t.indexOf(":")?(n=(e=t.split(":"))[0],a=e[1]):-1!==t.indexOf(".")&&(a=(e=t.split(".")).pop(),n+=e.join(".")),""!==n)){var i=r.getDisplayObject(n);i&&(o=i)}return{scope:o,target:a}},Yt.prototype.getProperty=function(t,e){var r=this,o=t;if(!1!==e){var a=r.splitPath(t);r=a.scope,o=a.target}if(!r.removeFlag){var n;switch("string"==typeof o?o.toLowerCase():o){case 0:case"_x":n=r.getX();break;case 1:case"_y":n=r.getY();break;case 2:case"_xscale":n=r.getXScale();break;case 3:case"_yscale":n=r.getYScale();break;case 4:case"_currentframe":r instanceof Gt&&(n=r.getCurrentFrame());break;case 5:case"_totalframes":r instanceof Gt&&(n=r.getTotalFrames());break;case 6:case"_alpha":n=r.getAlpha();break;case 7:case"_visible":n=r.getVisible();break;case 8:case"_width":n=r.getWidth();break;case 9:case"_height":n=r.getHeight();break;case 10:case"_rotation":n=r.getRotation();break;case 11:case"_target":n=r.getTarget();break;case 12:case"_framesloaded":n=r._framesloaded;break;case 13:case"_name":n=r.getName();break;case 14:case"_droptarget":r instanceof Gt&&(n=r.getDropTarget());break;case 15:case"_url":n=r._url;break;case 16:case"_highquality":n=r._highquality;break;case 17:case"_focusrect":n=r._focusrect;break;case 18:case"_soundbuftime":n=r._soundbuftime;break;case 19:case"_quality":n=r._quality;break;case 20:case"_xmouse":n=r.getXMouse();break;case 21:case"_ymouse":n=r.getYMouse();break;case"text":case"htmltext":if(r instanceof Nt){var i=r.getVariable("variable");if(i)n=r.getParent().getProperty(i);else n=r.getVariable("text")}else n=r.getVariable(o);break;case"$version":n="swf2js 8,0,0";break;case"enabled":n=r.getEnabled();break;case"blendmode":n=r.getBlendMode();break;case"sharedobject":n=new Kt;break;case"key":n=$t;break;case"mouse":n=r.getDisplayObject("_root").getStage().mouse;break;default:void 0===(n=r.getVariable(o,e))&&o!==t&&(n=r.getGlobalVariable(t))}return n}},Yt.prototype.setProperty=function(t,e,r){var o=this,a=t;if(!1!==r){var n=o.splitPath(t);o=n.scope,a=n.target}switch("string"==typeof a?a.toLowerCase():a){case 0:case"_x":o.setX(e);break;case 1:case"_y":o.setY(e);break;case 2:case"_xscale":o.setXScale(e);break;case 3:case"_yscale":o.setYScale(e);break;case 4:case"_currentframe":case 5:case"_totalframes":case 15:case"_url":case 20:case"_xmouse":case 21:case"_ymouse":case 11:case"_target":case 12:case"_framesloaded":case 14:case"_droptarget":break;case 6:case"_alpha":o.setAlpha(e);break;case 7:case"_visible":o.setVisible(e);break;case 8:case"_width":o.setWidth(e);break;case 9:case"_height":o.setHeight(e);break;case 10:case"_rotation":o.setRotation(e);break;case 13:case"_name":o.setName(e);break;case 16:case"_highquality":o._highquality=e;break;case 17:case"_focusrect":o._focusrect=e;break;case 18:case"_soundbuftime":o._soundbuftime=e;break;case 19:case"_quality":o._quality=e;break;case"text":case"htmltext":if(o instanceof Nt){var i=o.getVariable("variable");if(i)o.getParent().setProperty(i,e);else o.setVariable("text",e);var s=o.input;s&&(s.value=e)}else o.setVariable(a,e);break;case"blendmode":o.setBlendMode(e);break;case"enabled":o.setEnabled(e);break;case"filters":o.setFilters(e);break;default:o.setVariable(a,e)}},Yt.prototype.getDepth=function(){var t=this._depth;return(null!==t?t:this.getLevel())-16384},Yt.prototype.setDepth=function(t,e,r){var o=this,a=o.getParent(),n=o._depth,i=null!==n?n:o.getLevel(),s=a.getTotalFrames()+1;r?(o._depth=e,r._depth=t):o._depth=t;for(var c=a.container,l=o.instanceId,p=1;p<s;p++){p in c||(c[p]=[]);var g=c[p];r?(i in g&&g[i]===l&&(g[t]=r.instanceId),e in g&&g[e]===r.instanceId&&(g[e]=l)):(!(i in g)||i in g&&g[i]===l)&&(delete g[i],g[t]=l),c[p]=g}o.setController(!1,!1,!1,!1),r&&r.setController(!1,!1,!1,!1)},Yt.prototype.getX=function(){var t=this.getMatrix();return t?t[4]/20:void 0},Yt.prototype.setX=function(t){if(!A(t=+t)){var e=this,r=e.getMatrix(),o=e.cloneArray(r);o[4]=20*t,e.setMatrix(o)}},Yt.prototype.getY=function(){var t=this.getMatrix();return t?t[5]/20:void 0},Yt.prototype.setY=function(t){if(!A(t=+t)){var e=this,r=e.getMatrix(),o=e.cloneArray(r);o[5]=20*t,e.setMatrix(o)}},Yt.prototype.getXScale=function(){var t=this.getMatrix(),e=100*p(t[0]*t[0]+t[1]*t[1]);return 0>t[0]&&(e*=-1),e},Yt.prototype.setXScale=function(t){if(!A(t=+t)){var e=this,r=e.getMatrix(),o=e.cloneArray(r),a=1;0>o[0]&&(a=-1);var n=l(o[1],o[0]);t/=100,o[0]=t*g(n)*a,o[1]=t*u(n)*a,e.setMatrix(o)}},Yt.prototype.getYScale=function(){var t=this.getMatrix(),e=100*p(t[2]*t[2]+t[3]*t[3]);return 0>t[3]&&(e*=-1),e},Yt.prototype.setYScale=function(t){if(!A(t=+t)){var e=this,r=e.getMatrix(),o=e.cloneArray(r),a=1;0>o[3]&&(a=-1);var n=l(-o[2],o[3]);t/=100,o[2]=-t*u(n)*a,o[3]=t*g(n)*a,e.setMatrix(o)}},Yt.prototype.getAlpha=function(){var t=this.getColorTransform();return 100*(t[3]+t[7]/255)},Yt.prototype.setAlpha=function(t){if(!A(t=+t)){var e=this,r=e.getColorTransform(),o=e.cloneArray(r);o[3]=t/100,o[7]=0,e.setColorTransform(o)}},Yt.prototype.getVisible=function(){var t=this;return t.getStage().getVersion()>4?t.__visible:t.__visible?1:0},Yt.prototype.setVisible=function(t){"boolean"==typeof t?this.__visible=t:A(t=+t)||(this.__visible=!!t)},Yt.prototype.getLevel=function(){return this._level},Yt.prototype.setLevel=function(t){this._level=t},Yt.prototype.getName=function(){return this.__name},Yt.prototype.setName=function(t){this.__name=t},Yt.prototype.getRotation=function(){var t=this.getMatrix(),e=180*l(t[1],t[0])/b;switch(e){case-90.00000000000001:e=-90;break;case 90.00000000000001:e=90}return e},Yt.prototype.setRotation=function(t){if(!A(t=+t)){var e=this,r=e.getMatrix(),o=e.cloneArray(r),a=l(o[1],o[0]),n=l(-o[2],o[3]),i=p(o[0]*o[0]+o[1]*o[1]),s=p(o[2]*o[2]+o[3]*o[3]);n+=(t*=b/180)-a,a=t,o[0]=i*g(a),o[1]=i*u(a),o[2]=-s*u(n),o[3]=s*g(n),e.setMatrix(o)}},Yt.prototype.getWidth=function(){var t=this.getMatrix(),e=this.getBounds(t);return h(e.xMax-e.xMin)},Yt.prototype.setWidth=function(t){if(!A(t=+t)){var e=this,r=e.getOriginMatrix(),o=e.getBounds(r),a=h(o.xMax-o.xMin),n=t*r[0]/a;A(n)&&(n=0),r=e.getMatrix();var i=e.cloneArray(r);i[0]=n,e.setMatrix(i)}},Yt.prototype.getHeight=function(){var t=this.getMatrix(),e=this.getBounds(t);return h(e.yMax-e.yMin)},Yt.prototype.setHeight=function(t){if(!A(t=+t)){var e=this,r=e.getOriginMatrix(),o=e.getBounds(r),a=h(o.yMax-o.yMin),n=t*r[3]/a;A(n)&&(n=0),r=e.getMatrix();var i=e.cloneArray(r);i[3]=n,e.setMatrix(i)}},Yt.prototype.getXMouse=function(){if(!q)return null;var t=this,r=t.getDisplayObject("_root").getStage(),o=e.getElementById(r.getName()).getBoundingClientRect(),a=e.body.scrollLeft+o.left,n=0;Z?n=q.changedTouches[0].pageX:n=q.pageX;for(var i=t,s=t.getMatrix();;){var c=i.getParent();if(!c)break;s=t.multiplicationMatrix(c.getMatrix(),s),i=c}return n-=a,n/=r.getScale(),n-=s[4]/20},Yt.prototype.getYMouse=function(){if(!q)return null;var t=this,r=t.getDisplayObject("_root").getStage(),o=e.getElementById(r.getName()).getBoundingClientRect(),a=e.body.scrollTop+o.top,n=0;Z?n=q.changedTouches[0].pageY:n=q.pageY;for(var i=t,s=t.getMatrix();;){var c=i.getParent();if(!c)break;s=t.multiplicationMatrix(c.getMatrix(),s),i=c}return n-=a,n/=r.getScale(),n-=s[5]/20},Yt.prototype.getVariable=function(e,r){var o=this;if(void 0===e)return e;var a=o.variables;if(a){if(e in a)return a[e];var n,i=o.getStage(),s=i.getVersion();if(s<7)for(var c in a)if(a.hasOwnProperty(c)&&c.toLowerCase()===e.toLowerCase())return a[c];if(s>4){var l=a.registerClass;if(l&&"object"==typeof l&&e in l)return l[e];if(o instanceof Gt&&(n=o.getDisplayObject(e,r)))return n;var p=o.getCharacterId(),g=i.symbols[p];if(g){for(var u=g.split("."),f=u.pop(),h=u.length,d=i.avm2,v=0;v<h;v++)d=d[u[v]];if(n=d[f][e])return n}if(n=i.getGlobal().getVariable(e))return n;if(o instanceof Gt&&"flash"===e)return o.flash;if(e in t)return t[e]}}},Yt.prototype.setVariable=function(t,e){var r=this,o=r.variables;if("string"!=typeof t&&(t+=""),r.getStage().getVersion()<7)for(var a in o)if(o.hasOwnProperty(a)&&a.toLowerCase()===t.toLowerCase())return r.variables[a]=e,0;r.variables[t]=e},Yt.prototype.getGlobalVariable=function(t){var e=this.getStage(),r=e.getVersion();if(!(r<5)){var o,a=null;if(-1!==t.indexOf(".")&&(a=t.split(".")),a)for(var n=e.getGlobal().variables,i=a.length,s=0;s<i;s++){var c=a[s];if(r<7){for(var l in n)if(n.hasOwnProperty(l)&&l.toLowerCase()===c.toLowerCase()){o=n[l];break}}else o=n[c];if(!o)break;n=o}return o}},Yt.prototype.getDisplayObject=function(t,e){var r,o,a,n,i=this,s=i,c=s;if(i._lockroot)c=(a=i.getStage()).getParent();else for(;n=c.getParent();)c=n;if("string"!=typeof t&&(t+=""),"_root"===t)return c;if("this"===t)return this;if(a=c.getStage(),"_global"===t)return a.getGlobal();if(n=s.getParent(),"_parent"===t)return null!==n?n:void 0;var l=1,p=[t];if(!1!==e)if(-1!==t.indexOf("/"))l=(p=t.split("/")).length,""===p[0]&&(s=c);else if(-1!==t.indexOf("."))l=(p=t.split(".")).length,"_root"===p[0]&&(s=c);else if("_level"===t.substr(0,6)){var g=t.substr(6);if(0===(g=+g))return c;if(n||(n=a.getParent()),g in(r=n.getTags())){var u=r[g];if((o=a.getInstance(u))instanceof Gt)return o}return}for(var f=a.getVersion(),h=0;h<l;h++){var d=p[h];if(""!==d)if("_root"!==d)if("this"!==d)if("_parent"!==d){if(".."!==d){if(void 0===(r=s.getTags()))return;var v=!1;if(r.length>0)for(var y in r)if(r.hasOwnProperty(y)){var b=r[y];if((o=s.getStage().getInstance(b))&&!o.removeFlag){var m=o.getName();if(m)if(f<7){if(m.toLowerCase()===d.toLowerCase()){s=o,v=!0;break}}else if(m===d){s=o,v=!0;break}}}if(!v)return}else if(!(s=s.getParent()))return}else{if(!(n=s.getParent()))return;s=n}else s=i;else s=c}return s},Yt.prototype.preRender=function(t,e,r,o,a){var n=this;n.isLoad=!0;var s,c,l,g,u,f,d,v,y="",b=t,m=e,S=!1,A=!1;if(n.getMask()&&n.renderMask(t,o),a&&!o.clipMc){var I=n.getFilters();null!==I&&I.length&&(S=!0);var C=n.getBlendMode();null!==C&&"normal"!==C&&(A=!0)}if(S||A){var x;c=n.multiplicationMatrix(o.getMatrix(),e);var k=1;n instanceof Lt||n instanceof Rt?(x=n.getBounds(),l=p(c[0]*c[0]+c[1]*c[1]),g=p(c[2]*c[2]+c[3]*c[3])):(k=20,x=n.getBounds(e),l=o.getScale()*K,g=o.getScale()*K),u=x.xMin,f=x.yMin,d=x.xMax,v=x.yMax;var T=h(i((d-u)*l)),M=h(i((v-f)*g)),F=gt.getCanvas();F.width=T,F.height=M,(s=F.getContext("2d"))._offsetX=0,s._offsetY=0;var B=[1,0,0,1,-u*k,-f*k],U=[e[0],e[1],e[2],e[3],e[4],e[5]];n instanceof Lt&&(U[4]=0,U[5]=0),b=s,m=n.multiplicationMatrix(B,U)}return a&&(y+=n.renderGraphics(b,m,r,o)),{preCtx:b,preMatrix:m,isFilter:S,isBlend:A,rMatrix:c,cacheKey:y,xMin:u*l,yMin:f*g}},Yt.prototype.postRender=function(t,e,r,o,a){var n=this,i=a.preCtx,s=a.isFilter,c=a.cacheKey;s&&""!==c&&(i=n.renderFilter(i,e,r,o,c));var l=a.xMin,p=a.yMin;n instanceof Lt&&(l+=a.rMatrix[4],p+=a.rMatrix[5]),i&&(l-=i._offsetX,p-=i._offsetY),n.renderBlend(t,i,l,p,s)},Yt.prototype.renderGraphics=function(t,e,r,o){var a=this.graphics,n="";return a&&a.isDraw&&(n=a.render(t,e,r,o)),n},Yt.prototype.renderMask=function(t,e){var r=this.getMask();if(r){t.save(),t.beginPath(),e.clipMc=!0;for(var o=r,a=[1,0,0,1,0,0],n=this.multiplicationMatrix;;){var i=o.getParent();if(!i.getParent())break;a=n(i.getMatrix(),a),o=i}r.render(t,a,[1,1,1,1,0,0,0,0],e,!0),t.clip(),e.clipMc=!1}},Yt.prototype.getFilterKey=function(t){for(var e=[],r=t.length,o=0;o<r;o++){var a=t[o];for(var n in a)a.hasOwnProperty(n)&&(e[e.length]=a[n])}return e.join("_")},Yt.prototype.renderFilter=function(t,e,r,o,a){var n=this,i=n.getFilters();if(o.clipMc||!i||!i.length)return t;a+="_"+n.getFilterKey(i);var s,c="Filter_"+n.instanceId;if(n._filterCacheKey===a&&(s=gt.getCache(c)),!s){for(var l=i.length,p=0;p<l;p++){s=i[p].render(t,e,r,o)}n._filterCacheKey=a,gt.setCache(c,s)}return gt.destroy(t),s},Yt.prototype.renderBlend=function(t,e,r,o,a){var n=this.getBlendMode(),i="source-over",s=e.canvas,c=s.width,l=s.height;switch(e.setTransform(1,0,0,1,0,0),n){case"multiply":i="multiply";break;case"screen":i="screen";break;case"lighten":i="lighten";break;case"darken":i="darken";break;case"difference":i="difference";break;case"add":i="lighter";break;case"subtract":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),e.globalCompositeOperation="darken",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),i="color-burn";break;case"invert":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),e.globalCompositeOperation="lighter",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,l),i="difference";break;case"alpha":i="source-over";break;case"erase":i="destination-out";break;case"overlay":i="overlay";break;case"hardlight":i="hard-light"}t.globalAlpha=1,t.globalCompositeOperation=i,t.setTransform(1,0,0,1,0,0),t.drawImage(s,r,o,s.width,s.height),t.globalCompositeOperation="source-over",a||gt.destroy(e)},Yt.prototype.getOriginMatrix=function(){return this.getController().getMatrix()},Yt.prototype.getMatrix=function(){return this._matrix||this.getOriginMatrix()},Yt.prototype.setMatrix=function(t){this._matrix=t,this.setController(!0,!1,!1,!1)},Yt.prototype.getOriginColorTransform=function(){return this.getController().getColorTransform()},Yt.prototype.getColorTransform=function(){return this._colorTransform||this.getOriginColorTransform()},Yt.prototype.setColorTransform=function(t){this._colorTransform=t,this.setController(!1,!0,!1,!1)},Yt.prototype.getOriginBlendMode=function(){return this.getController().getBlendMode()},Yt.prototype.getBlendMode=function(){return this._blendMode||this.getOriginBlendMode()},Yt.prototype.setBlendMode=function(t){var e=this,r=e.getBlendName(t);null!==r&&(e._blendMode=r,e.setController(!1,!1,!1,!0))},Yt.prototype.getOriginFilters=function(){return this.getController().getFilters()},Yt.prototype.getFilters=function(){return this._filters||this.getOriginFilters()},Yt.prototype.setFilters=function(t){var e=this;e._filterCacheKey=null,e._filters=t,e.setController(!1,!1,!0,!1)},Yt.prototype.setController=function(t,e,r,o){var a=this;if(!t){var n=a._matrix;null===n&&(n=a.getMatrix(),a._matrix=a.cloneArray(n))}if(!e){var i=a._colorTransform;null===i&&(i=a.getColorTransform(),a._colorTransform=a.cloneArray(i))}if(!r){var s=a._filters;null===s&&(null===(s=a.getFilters())&&(s=[]),a._filters=s)}if(!o){var c=a._blendMode;null===c&&(c=a.getBlendMode(),a._blendMode=c)}},Yt.prototype.getController=function(){var t=this,e=0,r=t.getLevel(),o=t.getParentStage();if(!o)return new ft;var a=t.getParentSprite();if(a||(a=t.getParent()),!a)return new ft;a instanceof Gt&&(e=a.getCurrentFrame());var n=o.getPlaceObject(a.instanceId,r,e);return n||(o=t.getLoadStage())&&(n=o.getPlaceObject(a.instanceId,r,e)),n||new ft},Yt.prototype.reset=function(){var t=this;if(t.active=!1,t.isMask=!1,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t._depth=null,t.setVisible(!0),t.setEnabled(!0),t.setButtonStatus("up"),t instanceof Nt){var r=t.input;if(t.inputActive){t.inputActive=!1,r.onchange=null;var o=t.getStage(),a=e.getElementById(o.getName());if(a){var n=e.getElementById(t.getTagName());if(n)try{a.removeChild(n)}catch(t){}}}t.variables.text=t.initialText}},Yt.prototype.trace=function(){for(var e=["[trace]"],r=arguments.length,o=0;o<r;o++)e[e.length]=arguments[o];F.log.apply(t,e)};var Pt=function(){this._mouseEnabled=!0,Yt.call(this)};(Pt.prototype=Object.create(Yt.prototype)).constructor=Pt,Object.defineProperties(Yt.prototype,{mouseEnabled:{get:function(){return this.getMouseEnabled()},set:function(t){this.setMouseEnabled(t)}}}),Pt.prototype.getMouseEnabled=function(){return this._mouseEnabled},Pt.prototype.setMouseEnabled=function(t){this._mouseEnabled=t};var Ot=function(){this.charCount=0};Ot.prototype.findText=function(t,e,r){},Ot.prototype.getSelected=function(t,e){},Ot.prototype.getSelectedText=function(t){},Ot.prototype.getText=function(t,e,r){},Ot.prototype.getTextRunInfo=function(t,e){},Ot.prototype.hitTestTextNearPos=function(t,e,r){},Ot.prototype.setSelectColor=function(t){},Ot.prototype.setSelected=function(t,e,r){};var Dt=function(){var t=this;if(Pt.call(t),t._mouseChildren=!0,t._tabChildren=!0,t._textSnapshot=new Ot,t._numChildren=0,t.soundId=null,t.soundInfo=null,t.container=[],t instanceof Gt)for(var e=t.getTotalFrames()+1,r=1;r<e;)t.container[r++]=[];t.instances=[],t.isSwap=!1};Dt.prototype=Object.create(Pt.prototype),Dt.prototype.constructor=Dt,Object.defineProperties(Dt.prototype,{mouseChildren:{get:function(){return this.getMouseChildren()},set:function(t){this.setMouseChildren(t)}},textSnapshot:{get:function(){return this.getTextSnapshot()},set:function(){}},numChildren:{get:function(){return this.getNumChildren()},set:function(){}},tabChildren:{get:function(){return this.getTabChildren()},set:function(t){this.setTabChildren(t)}}}),Dt.prototype.getMouseChildren=function(){return this._mouseChildren},Dt.prototype.setMouseChildren=function(t){this._mouseChildren=t},Dt.prototype.getTextSnapshot=function(){return this._textSnapshot},Dt.prototype.getNumChildren=function(){return this._numChildren},Dt.prototype.getTabChildren=function(){return this._tabChildren},Dt.prototype.setTabChildren=function(t){this._tabChildren=t},Dt.prototype.getContainer=function(){return this.container},Dt.prototype.getInstances=function(){return this.instances},Dt.prototype.setInstance=function(t){var e=this.instances,r=t.instanceId;r in e||(e[r]=1)},Dt.prototype.deleteInstance=function(t){delete this.instances[t.instanceId]},Dt.prototype.addChild=function(t,e){if(t instanceof Yt){var r=this;void 0===e&&(e=r._numChildren);var o=r.getStage();t.setParent(r),t.setStage(o),t.setLevel(e);var a=r.getContainer(),n=1,i=new ft,s=r.instanceId;if(r instanceof Gt)for(var c=r.getTotalFrames()+1;n<c;n++)n in a||(a[n]=[]),o.setPlaceObject(i,s,e,n),a[n][e]=t.instanceId;else o.setPlaceObject(i,s,e,n),a[e]=t.instanceId;r._numChildren++}return t},Dt.prototype.addChildAt=function(t,e){return this.addChild(t,e)},Dt.prototype.getChildAt=function(t){var e=this,r=e.getContainer(),o=r;(16384>t&&(t+=16384),e instanceof Gt)&&(o=r[e.getCurrentFrame()]);return o[t]},Dt.prototype.getChildByName=function(t){var e,r=this,o=r.getContainer(),a=o;r instanceof Gt&&(a=o[r.getCurrentFrame()]);for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];if(i.getName()===t){e=i;break}}return e},Dt.prototype.getChildIndex=function(t){var e;return t instanceof Yt&&(e=t.getLevel()-16384),e},Dt.prototype.removeChild=function(t){var e,r=this,o=r.getContainer();if(r instanceof Gt){for(var a=r.getTotalFrames()+1,n=1;n<a;n++)if(n in o){var i=o[n];for(e in i){if(i.hasOwnProperty(e))if(i[e]===t.instanceId){delete o[n][e];break}}}}else for(e in o)if(o.hasOwnProperty(e)&&o[e].instanceId===t.instanceId){delete o[e];break}return t&&(r.deleteInstance(t),r._numChildren--),t},Dt.prototype.removeChildAt=function(t){var e,r=this,o=r.getContainer(),a=o;if(16384>t&&(t+=16384),r instanceof Gt)for(var n=r.getTotalFrames(),i=1;i<n;i++)i in o&&t in(a=o[i])&&(e=a[t],delete o[i][t]);else e=a[t],delete a[t];return e&&r._numChildren--,e},Dt.prototype.addTag=function(t,e){this.container[t]=e.instanceId,this._numChildren++},Dt.prototype.startSound=function(){var t=this,r=t.soundId;if(r){var o=t.getStage().sounds[r];if(o){var a=e.createElement("audio");a.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},a.src=o.base64,st(a,t.soundInfo)}}},Dt.prototype.reset=function(){var t=this,e=t.container;if(e.length){var r=t.getStage();for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];r.getInstance(a).reset()}}t.isMask=!1,t._depth=null,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t.mouseEnabled=!0},Dt.prototype.setHitRange=function(t,e,r,a){var n=this,i=o(n.getVisible(),r);if(n.getEnabled()&&i){var s=e.buttonHits,c=n.variables,l=n.events;if(void 0!==l.press||void 0!==l.release||void 0!==l.releaseOutside||void 0!==l.rollOver||void 0!==l.rollOut||void 0!==l.dragOver||void 0!==l.dragOut||void 0!==c.onPress||void 0!==c.onRelease||void 0!==c.onRollOver||void 0!==c.onReleaseOutside||void 0!==c.onRollOut||void 0!==c.onDragOver||void 0!==c.onDragOut){var p=n.multiplicationMatrix(t,n.getMatrix()),g=n.getBounds(p);s[s.length]={xMax:g.xMax,xMin:g.xMin,yMax:g.yMax,yMin:g.yMin,parent:n,matrix:n.cloneArray(t)}}}},Dt.prototype.createMovieClip=function(t,e){var r=new Gt;return r=this.addChild(r,e),t&&r.setName(t),r},Dt.prototype.createSprite=function(t,e){var r=new Xt;return r=this.addChild(r,e),t&&r.setName(t),r},Dt.prototype.createButton=function(t,e){var r=new jt;return r=this.addChild(r,e),t&&r.setName(t),r},Dt.prototype.createText=function(t,e,r,o){var a=new Nt(t,o,e,r);return(a=this.addChild(a,o)).setInitParams(),t&&a.setName(t),a.size=12,a},Dt.prototype.createShape=function(t){var e=new Lt;return this.addChild(e,t),e};var Xt=function(){var t=this;Dt.call(t),t.touchPointID=0,t._buttonMode=!1,t._useHandCursor=!1,t._dropTarget=null,t._hitArea=null,t._graphics=new Mt,t._soundTransform=new Ft};Xt.prototype=Object.create(Dt.prototype),Xt.prototype.constructor=Xt,Object.defineProperties(Xt.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}},hitArea:{get:function(){return this.getHitArea()},set:function(t){this.setHitArea(t)}},buttonMode:{get:function(){return this.getButtonMode()},set:function(t){this.setButtonMode(t)}},soundTransform:{get:function(){return this._soundTransform},set:function(){}},useHandCursor:{get:function(){return this.getUseHandCursor()},set:function(t){this.setUseHandCursor(t)}},dropTarget:{get:function(){return this.getDropTarget()},set:function(){this.setDropTarget()}}}),Xt.prototype.getGraphics=function(){return this._graphics},Xt.prototype.getHitArea=function(){return this._hitArea},Xt.prototype.setHitArea=function(t){this._hitArea=t},Xt.prototype.getUseHandCursor=function(){return this._useHandCursor},Xt.prototype.setUseHandCursor=function(t){this._useHandCursor=t},Xt.prototype.startTouchDrag=function(t,e,r){this.startDrag(e)},Xt.prototype.stopTouchDrag=function(t){this.stopDrag()},Xt.prototype.startDrag=function(){var t=arguments,e=t[0],r=t[1],o=t[2],a=t[3],n=t[4],i=this,s=i.getDisplayObject("_root"),c=s.getStage(),l=0,p=0;e||(l=i.getXMouse(),p=i.getYMouse()),c.dragMc=i,c.dragRules={startX:l,startY:p,left:r,top:o,right:a,bottom:n},i.setDropTarget()},Xt.prototype.stopDrag=function(){var t=this.getDisplayObject("_root").getStage();t.dragMc=null,t.dragRules=null,this.setDropTarget()},Xt.prototype.executeDrag=function(){var t=this,e=t.getDisplayObject("_root").getStage().dragRules,r=e.startX,o=e.startY,a=e.left,n=e.top,i=e.right,s=e.bottom,c=t.getX(),l=t.getY(),p=t.getXMouse(),g=t.getYMouse(),u=c+(p-=r),f=l+(g-=o);null==a?(t.setX(u),t.setY(f)):(a=+a,n=+n,s=+s,(i=+i)<u?t.setX(i):u<a?t.setX(a):t.setX(u),s<f?t.setY(s):f<n?t.setY(n):t.setY(f))},Xt.prototype.getDropTarget=function(){return this._droptarget},Xt.prototype.setDropTarget=function(){var t=this;t._droptarget=null;var e=t.getDisplayObject("_root"),r=e.getStage(),o=t.getParent();o||(o=r.getParent());var a=e.getXMouse(),n=e.getYMouse(),i=o.getTags();for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];if(c!==t.instanceId){var l=r.getInstance(c);if(l instanceof Gt)if(l.hitTest(a,n)){t._droptarget=l;break}}}},Xt.prototype.getTags=function(){return this.getContainer()},Xt.prototype.render=function(t,e,r,a,n){var i=this;if(i.removeFlag)return"";if(i.isLoad=!0,a.doneTags.unshift(i),i instanceof Gt&&!i.soundStopFlag){var s=i.getSounds();if(void 0!==s)for(var c=s.length,l=0;l<c;l++)if(l in s){var p=s[l];i.startSound(p)}}var g=(0,i.multiplicationMatrix)(e,i.getMatrix()),u=(0,i.multiplicationColor)(r,i.getColorTransform()),f=o(i.getVisible(),n),h=i.preRender(t,g,u,a,n),d=h.cacheKey,v=h.preCtx,y=h.preMatrix,b=[],m=i.getTags(),S=m.length,A=i.getMask();if(S){var I=i.getStage();for(var C in m)if(m.hasOwnProperty(C)){var x=m[C],k=I.getInstance(x);if(k){for(var T=b.length,M=0;M<T;M++){if(C>b[M]){b.splice(M,1),t.restore();break}}if(k.isClipDepth&&(t.save(),t.beginPath(),b[b.length]=k.clipDepth,k instanceof Gt&&(a.isClipDepth=!0)),f)switch(!0){case k instanceof Nt:case k instanceof Dt:k.setHitRange(g,a,n,T);break;case k instanceof jt:k.clipDepth||k.setHitRange(g,a,n,T)}k.isMask||(k.isClipDepth&&(0===y[0]&&(y[0]=1e-14),0===y[3]&&(y[3]=1e-14)),d+=k.render(v,y,u,a,f),a.isClipDepth&&(v.clip(),a.isClipDepth=!1))}}}return(b.length||A)&&t.restore(),(h.isFilter||h.isBlend)&&(h.cacheKey=d,i.postRender(t,g,u,a,h)),d},Xt.prototype.initFrame=function(){},Xt.prototype.putFrame=function(t,e){this.active=!0,this.dispatchEvent(e,t)},Xt.prototype.addActions=function(t){var e=this.getStage(),r=this.getTags();if(r.length)for(var o in r)if(r.hasOwnProperty(o)){var a=r[o],n=e.getInstance(a);n&&n.addActions(t)}},Xt.prototype.renderHitTest=function(t,e,r,o,a){var n=this,i=n.getStage(),s=n.getTags(),c=s.length,l=!1,p=n.multiplicationMatrix(e,n.getMatrix());if(c)for(var g in s)if(s.hasOwnProperty(g)){var u=s[g];if(l=i.getInstance(u).renderHitTest(t,p,r,o,a))return l}var f=n.graphics;return f.isDraw?f.renderHitTest(t,p,r,o,a):l},Xt.prototype.getRect=function(t){t||(t=this);var e=t.getBounds(t.getOriginMatrix()),r=this.graphics.maxWidth/20/2;return{xMin:e.xMin+r,xMax:e.xMax-r,yMin:e.yMin+r,yMax:e.yMax-r}},Xt.prototype.getBounds=function(t){if(t instanceof Gt)return t.getBounds(t.getOriginMatrix());var e=this,r=e.getTags(),n=0,i=0,s=0,c=0,l=e.graphics,p=l.isDraw;if(p){var g=l.maxWidth/2,u=e.boundsMatrix(l.bounds,t),f=t?20:1;s=(u.xMin-g)/f,n=(u.xMax+g)/f,c=(u.yMin-g)/f,i=(u.yMax+g)/f}var h=r.length,d=e.getStage();if(h){if(!p){var v=m.MAX_VALUE;n=-v,i=-v,s=v,c=v}var y=e.multiplicationMatrix;for(var b in r)if(r.hasOwnProperty(b)){var S=r[b],A=d.getInstance(S);if(A&&!A.isClipDepth){var I=t?y(t,A.getMatrix()):A.getMatrix(),C=A.getBounds(I);C&&(s=o(s,C.xMin),n=a(n,C.xMax),c=o(c,C.yMin),i=a(i,C.yMax))}}}return{xMin:s,xMax:n,yMin:c,yMax:i}},Xt.prototype.hitCheck=function(t,e,r,o,a){var n,i=this;if(!i.getEnabled()||!i.getVisible()||!i.getMouseEnabled())return!1;var s=!1,c=i.getTags(),l=c.length,p=i.multiplicationMatrix(e,i.getMatrix());if(l){var g=i.getStage();for(var u in c.reverse(),c)if(c.hasOwnProperty(u)){var f=c[u],h=g.getInstance(f);if(s=h instanceof Lt||h instanceof Rt||h instanceof Nt?h.renderHitTest(t,p,r,o,a):h.hitCheck(t,p,r,o,a)){if(n=s,"object"!=typeof s){var d=i.events;void 0===d.press&&void 0===d.release&&void 0===d.releaseOutside&&void 0===d.rollOver&&void 0===d.rollOut&&void 0===d.dragOver&&void 0===d.dragOut||(r.isHit=s,n={parent:i})}return c.reverse(),n}}c.reverse()}var v=i.graphics;return v.isDraw&&(s=v.renderHitTest(t,p,r,o,a))&&(n={parent:i}),n};var Lt=function(){var t=this;Yt.call(t),t.data=null,t._graphics=new Mt;var e=m.MAX_VALUE;t.setBounds({xMin:e,xMax:-e,yMin:e,yMax:-e})};Lt.prototype=Object.create(Yt.prototype),Lt.prototype.constructor=Lt,Object.defineProperties(Lt.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}}}),Lt.prototype.addActions=function(){},Lt.prototype.initFrame=function(){},Lt.prototype.putFrame=function(t,e){this.active=!0,this.dispatchEvent(e,t)},Lt.prototype.getGraphics=function(){return this._graphics},Lt.prototype.getData=function(){return this.data},Lt.prototype.setData=function(t){this.data=t},Lt.prototype.getBounds=function(t){var e,r,n=this,i=n.graphics,s=i.isDraw;if(t){for(var c in e=n.boundsMatrix(n.bounds,t),s&&(r=n.boundsMatrix(i.getBounds(),t),e.xMin=o(r.xMin,e.xMin),e.xMax=a(r.xMax,e.xMax),e.yMin=o(r.yMin,e.yMin),e.yMax=a(r.yMax,e.yMax)),e)e.hasOwnProperty(c)&&(e[c]/=20);return e}return e=n.bounds,s&&(r=i.getBounds(),e.xMin=o(r.xMin,e.xMin),e.xMax=a(r.xMax,e.xMax),e.yMin=o(r.yMin,e.yMin),e.yMax=a(r.yMax,e.yMax)),this.bounds},Lt.prototype.setBounds=function(t){this.bounds=t},Lt.prototype.isMorphing=function(){var t=this.getTagType();return 46===t||84===t},Lt.prototype.render=function(t,e,r,a,n){var c=this;a.doneTags.unshift(c);var l=(0,c.multiplicationColor)(r,c.getColorTransform()),g=o(c.getVisible(),n),u=l[3]+l[7]/255,b=a.clipMc||a.isClipDepth;if(!(b||u&&g))return"";var m=c.multiplicationMatrix,S=m(e,c.getMatrix()),A=c.preRender(t,S,l,a,g),I=A.cacheKey,C=null,x=m(a.getMatrix(),A.preMatrix),k=c.isClipDepth||b;if(k)0===x[0]&&(x[0]=1e-14),0===x[3]&&(x[3]=1e-14),t.setTransform(x[0],x[1],x[2],x[3],x[4],x[5]),c.executeRender(t,o(x[0],x[3]),l,k,a);else{var T=p(x[0]*x[0]+x[1]*x[1]),M=p(x[2]*x[2]+x[3]*x[3]);T=s(d,i(f(T)/v-y)),M=s(d,i(f(M)/v-y));var F,B=c.getBounds(),U=B.xMax,w=B.xMin,_=B.yMax,Y=B.yMin,P=h(i((U-w)*T)),O=h(i((_-Y)*M));if(P<=0||O<=0)return I;var D=c.getStage(),X=c.getCharacterId()+"_"+D.getId();if(c.isMorphing()&&(X+="_"+c.getRatio()),I=gt.generateKey("Shape",X,[T,M],l),!(C=gt.getCache(I))&&a.getWidth()>P&&a.getHeight()>O&&gt.size>P*O){(F=gt.getCanvas()).width=P,F.height=O;var L=[T,0,0,M,-w*T,-Y*M];(C=F.getContext("2d")).setTransform(L[0],L[1],L[2],L[3],L[4],L[5]),C=c.executeRender(C,o(T,M),l,k,a),gt.setCache(I,C)}var E=A.preCtx;if(C){F=C.canvas;var R=m(x,[1/T,0,0,1/M,w,Y]);E.setTransform(R[0],R[1],R[2],R[3],R[4],R[5]),N&&!G?(E.fillStyle=a.context.createPattern(C.canvas,"no-repeat"),E.fillRect(0,0,P,O)):E.drawImage(F,0,0,P,O)}else E.setTransform(x[0],x[1],x[2],x[3],x[4],x[5]),c.executeRender(E,o(x[0],x[3]),l,k,a)}return I+="_"+x[4]+"_"+x[5],(A.isFilter||A.isBlend)&&(A.cacheKey=I,c.postRender(t,e,l,a,A)),I},Lt.prototype.renderHitTest=function(t,e,r,n,i){var s=this,c=s.multiplicationMatrix,l=c(e,s.getMatrix()),p=s.graphics;if(p.isDraw)return p.renderHitTest(t,l,r,n,i);if(!s.getData())return!1;var g=c(r.getMatrix(),l);t.setTransform(g[0],g[1],g[2],g[3],g[4],g[5]);for(var u=o(g[0],g[3]),f=s.getData(),h=f.length,d=!1,v=0;v<h;v++){var y=f[v],b=y.obj,m=void 0!==b.Width;if(t.beginPath(),(0,y.cmd)(t),m&&(t.lineWidth=a(b.Width,1/u),t.lineCap="round",t.lineJoin="round"),d=t.isPointInPath(n,i))return d;if("isPointInStroke"in t&&(d=t.isPointInStroke(n,i)))return d}return d},Lt.prototype.executeRender=function(t,e,r,n,i){var s=this,c=s.getData();if(!c)return t;for(var l,p,g,u=i.clipMc||i.isClipDepth,f=c.length,h=0;h<f;h++){var d=c[h],v=d.obj,y=v.HasFillFlag?v.FillType:v,b=d.cmd,m=void 0!==v.Width;if(n){if(m)continue;b(t)}else{t.beginPath(),b(t);var S=y.fillStyleType;switch(S){case 0:l=y.Color,p="rgba("+(l=s.generateColorTransform(l,r)).R+","+l.G+","+l.B+","+l.A+")",m?(t.strokeStyle=p,t.lineWidth=a(v.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=p,t.fill());break;case 16:case 18:case 19:var A=y.gradientMatrix,I=y.fillStyleType;if(16!==I)t.save(),t.transform(A[0],A[1],A[2],A[3],A[4],A[5]),p=t.createRadialGradient(0,0,0,0,0,16384);else{var C=s.linearGradientXY(A);p=t.createLinearGradient(C[0],C[1],C[2],C[3])}for(var x=y.gradient.GradientRecords,k=x.length,T=0;T<k;T++){var M=x[T];l=M.Color;var F="rgba("+(l=s.generateColorTransform(l,r)).R+","+l.G+","+l.B+","+l.A+")";p.addColorStop(M.Ratio,F)}m?(t.strokeStyle=p,t.lineWidth=a(v.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=p,t.fill()),16!==I&&t.restore();break;case 64:case 65:case 66:case 67:var B,U,_=s.getStage(),Y=y.bitmapId,P=y.bitmapMatrix,O=64===S||66===S?"repeat":"no-repeat",D=gt.generateKey("Bitmap",Y+"_"+_.getId()+"_"+O,void 0,r),X=gt.getCache(D);if(void 0===X){if(!(X=_.getCharacter(Y)))break;if(1!==r[0]||1!==r[1]||1!==r[2]||r[4]||r[5]||r[6]){var L=X.canvas;if(B=L.width,U=L.height,B>0&&U>0){(g=gt.getCanvas()).width=B,g.height=U;var E=g.getContext("2d");E.drawImage(X.canvas,0,0,B,U),X=s.generateImageTransform.call(s,E,r),gt.setCache(D,X)}}else t.globalAlpha=a(0,o(255*r[3]+r[7],255))/255}X&&(t.save(),B=(g=X.canvas).width,U=g.height,B>0&&U>0&&(65===S||67===S?(t.clip(),t.transform(P[0],P[1],P[2],P[3],P[4],P[5]),t.drawImage(g,0,0,B,U)):(t.fillStyle=i.context.createPattern(g,O),t.transform(P[0],P[1],P[2],P[3],P[4],P[5]),t.fill())),t.restore())}}}if(n&&!u&&(t.clip(),H&&G)){g||(g=t.canvas);var R=g.width,N=g.height,j=w.canvas;g=t.canvas,j.width=R,j.height=N,w.drawImage(g,0,0),t.save(),t.setTransform(1,0,0,1,0,0),t.beginPath(),t.clearRect(0,0,R+1,N+1),t.drawImage(j,0,0),t.restore(),w.setTransform(1,0,0,1,0,0),w.clearRect(0,0,R+1,N+1)}var Z="rgba(0,0,0,1)";return t.strokeStyle=Z,t.fillStyle=Z,t.globalAlpha=1,t},Lt.prototype.generateImageTransform=function(t,e){var r=t.canvas,n=r.width,i=r.height,s=t.getImageData(0,0,n,i),c=s.data,l=0,p=e[0],g=e[1],u=e[2],f=e[3],h=e[4],d=e[5],v=e[6],y=e[7],b=n*i;if(b>0)for(;b--;){var m=c[l++],S=c[l++],A=c[l++],I=c[l++];c[l-4]=0|a(0,o(m*p+h,255)),c[l-3]=0|a(0,o(S*g+d,255)),c[l-2]=0|a(0,o(A*u+v,255)),c[l-1]=a(0,o(I*f+y,255))}return t.putImageData(s,0,0),t},Lt.prototype.linearGradientXY=function(t){var e=-16384*t[0]-16384*t[2]+t[4],r=16384*t[0]-16384*t[2]+t[4],o=-16384*t[0]+16384*t[2]+t[4],a=-16384*t[1]-16384*t[3]+t[5],n=16384*t[1]-16384*t[3]+t[5],i=o-e,s=-16384*t[1]+16384*t[3]+t[5]-a,c=p(i*i+s*s),l=(r-e)*(i/=c)+(n-a)*(s/=c);return[e+l*i,a+l*s,r,n]};var Et=function(){this.color=null,this.matrix=null};Et.prototype.getColor=function(){return this.color},Et.prototype.setColor=function(t){this.color=t},Et.prototype.getMatrix=function(){return this.matrix},Et.prototype.setMatrix=function(t){this.matrix=t},Et.prototype.getData=function(){return this.data},Et.prototype.setData=function(t){this.data=t};var Rt=function(){var t=this;Yt.call(t),t.data=null,t.records=[]};Rt.prototype=Object.create(Yt.prototype),Rt.prototype.constructor=Rt,Rt.prototype.initFrame=function(){},Rt.prototype.addActions=function(){},Rt.prototype.getBounds=function(t){var e=this;if(t){var r=e.boundsMatrix(e.bounds,t);for(var o in r)r.hasOwnProperty(o)&&(r[o]/=20);return r}return e.bounds},Rt.prototype.setBounds=function(t){this.bounds=t},Rt.prototype.getRecords=function(){return this.records},Rt.prototype.addRecord=function(t){var e=this.getRecords();e[e.length]=t},Rt.prototype.render=function(t,e,r,a,n){var c=this,l=(0,c.multiplicationColor)(r,c.getColorTransform()),g=o(c.getVisible(),n),u=l[3]+l[7]/255,b=a.clipMc||a.isClipDepth;if(!(b||u&&g))return 0;var m=c.multiplicationMatrix,S=m(e,c.getMatrix()),A=c.preRender(t,S,l,a,n),I=m(a.getMatrix(),A.preMatrix),C=p(I[0]*I[0]+I[1]*I[1]),x=p(I[2]*I[2]+I[3]*I[3]);C=s(d,i(f(C)/v-y)),x=s(d,i(f(x)/v-y));var k=c.getBounds(),T=k.xMax,M=k.xMin,F=k.yMax,B=k.yMin,U=h(i((T-M)*C)),w=h(i((F-B)*x)),_=c.isClipDepth||b;if(U>0&&w>0){var Y,P=c.getCharacterId()+"_"+c.getStage().getId(),O=gt.generateKey("Text",P,[C,x],l),D=gt.getCache(O);if(!D&&!_&&a.getWidth()>U&&a.getHeight()>w&&gt.size>U*w){(Y=gt.getCanvas()).width=U,Y.height=w;var X=[C,0,0,x,-M*C,-B*x];(D=Y.getContext("2d")).setTransform(X[0],X[1],X[2],X[3],X[4],X[5]),D=c.executeRender(D,X,l,!1,!1),gt.setCache(O,D)}if(D){Y=D.canvas;var L=m(I,[1/C,0,0,1/x,M,B]);t.setTransform(L[0],L[1],L[2],L[3],L[4],L[5]),N&&!G?(t.fillStyle=a.context.createPattern(D.canvas,"no-repeat"),t.fillRect(0,0,U,w)):t.drawImage(Y,0,0,U,w)}else t.setTransform(I[0],I[1],I[2],I[3],I[4],I[5]),c.executeRender(t,I,l,_,b);return O+="_"+I[4]+"_"+I[5],(A.isFilter||A.isBlend)&&(A.cacheKey=O,c.postRender(t,e,l,a,A)),O}return null},Rt.prototype.executeRender=function(t,e,r,o,a){var n=this,i=n.getRecords(),s=i.length;if(!s)return t;for(var c=n.multiplicationMatrix,l=n.generateColorTransform,p=0;p<s;p++){var g=i[p],u=g.getData(),f=u.length;if(f){var h=c(e,g.getMatrix());t.setTransform(h[0],h[1],h[2],h[3],h[4],h[5]);var d=g.getColor();d=l(d,r),t.fillStyle="rgba("+d.R+","+d.G+","+d.B+","+d.A+")";for(var v=0;v<f;v++){var y=u[v].cmd;o?y(t):(t.beginPath(),y(t),t.fill())}}}return o&&!a&&t.clip(),t.globalAlpha=1,t},Rt.prototype.renderHitTest=function(t,e,r,o,a){var n=this,i=n.getRecords(),s=i.length;if(!s)return!1;for(var c=!1,l=n.multiplicationMatrix,p=l(e,n.getMatrix()),g=l(r.getMatrix(),p),u=0;u<s;u++){var f=i[u],h=f.getData(),d=h.length;if(d){var v=l(g,f.getMatrix());t.setTransform(v[0],v[1],v[2],v[3],v[4],v[5]);for(var y=0;y<d;y++){var b=h[y].cmd;if(t.beginPath(),b(t),c=t.isPointInPath(o,a))return c}}}return c};var Ht=function(){var t=this;t.align="left",t.font="'HiraKakuProN-W3', 'sans-serif'",t.size=8,t.color={R:0,G:0,B:0,A:1},t.bold=0,t.italic=0,t.underline=0,t.bullet=0,t.kerning=0,t.blockIndent=0,t.indent=0,t.leading=80,t.leftMargin=0,t.rightMargin=0,t.letterSpacing=0,t.tabStops=[],t.url=null,t.target=null},Nt=function(t,e,r,o){var a=this;Pt.call(a),t&&a.setName(t),e&&a.setLevel(e),r||(r=0),r*=20,o||(o=0),o*=20,a.fontId=0,a.bounds={xMin:0,xMax:r,yMin:0,yMax:o},a.input=null,a.inputActive=!1,a.span=null};Nt.prototype=Object.create(Pt.prototype),Nt.prototype.constructor=Nt,Object.defineProperties(Nt.prototype,{text:{get:function(){return this.variables.text},set:function(t){this.variables.text=t}},htmlText:{get:function(){return this.variables.text},set:function(t){this.variables.text=t}},size:{get:function(){return this.variables.size},set:function(t){this.variables.size=t}},font:{get:function(){return this.variables.font},set:function(t){this.variables.font=t}},type:{get:function(){return this.variables.type},set:function(t){this.variables.type=t,"input"===t&&this.setInputElement()}},multiline:{get:function(){return this.variables.multiline},set:function(t){this.variables.multiline=t,t&&(this.wordWrap=t),"input"===this.type&&this.setInputElement()}},wordWrap:{get:function(){return this.variables.wordWrap},set:function(t){this.variables.wordWrap=t,"input"===this.type&&this.setInputElement()}},border:{get:function(){return this.variables.border},set:function(t){this.variables.border=t}},borderColor:{get:function(){return this.variables.borderColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.borderColor=t}},background:{get:function(){return this.variables.background},set:function(t){this.variables.background=t}},backgroundColor:{get:function(){return this.variables.backgroundColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.backgroundColor=t}},textColor:{get:function(){return this.variables.textColor},set:function(t){"string"==typeof t&&(t=this.colorStringToInt(t)),t=this.intToRGBA(t),this.variables.textColor=t}},align:{get:function(){return this.variables.align},set:function(t){this.variables.align=t}},autoSize:{get:function(){return this.variables.autoSize},set:function(t){this.variables.autoSize=t}},onChanged:{get:function(){return this.variables.onChanged},set:function(t){this.variables.onChanged=t}}}),Nt.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},Nt.prototype.colorStringToInt=function(t){var e=gt.getCanvas().getContext("2d");e.fillStyle=t;var r="0x"+e.fillStyle.substr(1);return gt.destroy(e),r},Nt.prototype.setInitParams=function(){var t={antiAliasType:null,autoSize:"none",background:0,backgroundColor:{R:255,G:255,B:255,A:1},border:0,borderColor:{R:0,G:0,B:0,A:1},condenseWhite:0,html:0,password:0,embedFonts:0,gridFitType:"none",maxChars:null,mouseWheelEnabled:0,multiline:0,selectable:0,sharpness:0,textColor:0,thickness:0,type:"dynamic",wordWrap:0,text:""};for(var e in t)t.hasOwnProperty(e)&&this.setProperty(e,t[e]);this.setTextFormat(new Ht)},Nt.prototype.getTagName=function(){return"__swf2js_input_element_"+this.instanceId},Nt.prototype.setTextFormat=function(t){for(var e in t)t.hasOwnProperty(e)&&this.setProperty(e,t[e])},Nt.prototype.getBounds=function(t){var e=this;if(t){var r=e.boundsMatrix(e.bounds,t);for(var o in r)r.hasOwnProperty(o)&&(r[o]/=20);return r}return e.bounds},Nt.prototype.setBounds=function(t){this.bounds=t},Nt.prototype.setInputElement=function(){var t=this,r=t.variables,o=t.getDisplayObject("_root").getParentStage(),a=e.createElement("textarea"),n=r.multiline,i=r.align,s=t.initialText;if(s||(s=r.text),a.onkeypress=null,n||(a.onkeypress=function(t){if(13===t.keyCode)return!1}),a.style.position="absolute",a.style.webkitBorderRadius="0px",a.style.padding="1px",a.style.margin="0px",a.style.webkitAppearance="none",a.style.resize="none",a.style.border="none",a.style.overflow="hidden",a.style.backgroundColor="transparent",a.style.zIndex=2147483647,a.style.textAlign=i,a.value=s,"string"!=typeof s){for(var c="",l=s.length,p=0;p<l;p++){c+=s[p].innerText,p+1!==l&&(c+="\n")}a.value=c}a.id=t.getTagName();a.onblur=function(t,r,o){return function(){r.setProperty("text",o.value),r.inputActive=!1;var a=e.getElementById(t.getName());if(a){var n=e.getElementById(r.getTagName());if(n)try{a.removeChild(n)}catch(t){}}}}(o,t,a),t.input=a},Nt.prototype.setHitRange=function(t,e,r,a){var n=this,i=n.variables.type,s=o(n.getVisible(),r);if("input"===i&&s){var c=e.buttonHits,l=n.multiplicationMatrix(t,n.getMatrix()),p=n.getBounds(l);c[c.length]={xMax:p.xMax,xMin:p.xMin,yMax:p.yMax,yMin:p.yMin,parent:n}}},Nt.prototype.render=function(t,r,n,s,c){var l=this;s.doneTags.unshift(l);var p=(0,l.multiplicationColor)(n,l.getColorTransform()),g=o(l.getVisible(),c),u=s.clipMc||s.isClipDepth,f=p[3]+p[7]/255;if(!(u||f&&g))return 0;var d=l.multiplicationMatrix,v=d(r,l.getMatrix()),y=l.preRender(t,v,p,s,c),b=y.preCtx,m=y.preMatrix,S=d(s.getMatrix(),m);b.setTransform(S[0],S[1],S[2],S[3],S[4],S[5]);var A=["TextField"],I=l.variables,C=I.text,x=I.variable;x&&(void 0===(C=l.getParent().getProperty(x))&&(C=I.text));if("number"==typeof C&&(C+=""),I.html&&"string"==typeof C){-1!==C.indexOf("<sbr />")&&(C=C.replace(new RegExp("<sbr />","gi"),"\n")),-1!==C.indexOf("<b>")&&(C=(C=C.replace(new RegExp("<b>","gi"),"")).replace(new RegExp("</b>","gi"),""));var k=e.createElement("span");k.innerHTML=C;var T=k.getElementsByTagName("p"),M=T.length;if(M){for(var F=[],B=0;B<M;B++)F[B]=T[B];C=F}else C=k.innerText}b.textBaseline="top",void 0===C&&(C="");var U,w,_,Y=l.getBounds(),P=Y.xMax,O=Y.xMin,D=Y.yMax,X=Y.yMin,L=h(i(P-O)),E=h(i(D-X)),R=s.getScale(),H=I.autoSize,N=I.wordWrap,j="string"==typeof C?C.split("\n"):C,G=j.length,Z=0,V=0,W=!1,z="string"==typeof H?H.toLowerCase():H;switch(z){default:case"none":case!1:case 0:Z=L,V=E;break;case!0:case 1:case"left":case"center":case"right":W=!0}var K=l.getStage().getCharacter(l.fontId);if(W)if(I.embedFonts){var q=K.CodeTable,J=K.FontAdvanceTable,Q=l.fontScale;for(Z=0,V=K.FontAscent*Q+I.leading,U=0;U<G;U++)if("string"!=typeof(w=j[U])){var $=w.firstChild;Z=l.getDomWidth($,q,J)}else for(var tt=w.length,et=0;et<tt;et++){var rt=q.indexOf(w[et].charCodeAt(0));-1!==rt&&(Z+=J[rt]*Q)}}else{var ot=20*I.size+I.leading;if(V=Y.yMin+80,N){for(Z=L,U=0;U<G;U++)if("string"==typeof(w=j[U])){_=b.measureText(w);var at=i(20*_.width);at>L&&(V+=i(i(at/L)*ot))}}else for(U=0;U<G;U++)"string"==typeof(w=j[U])&&(_=b.measureText(w),Z=a(Z,i(20*_.width)),V+=ot);Z+=80}var nt=40;switch(z){case"center":nt=i((a(Z,L)-o(Z,L))/2);break;case"right":nt=i(a(Z,L)-o(Z,L))}if(E=V,(L=Z)>0&&E>0){var it,st=l.isClipDepth||u,ct=O,lt=X;if(l._matrix){ct=-O,lt=-X;var pt=d(m,[1,0,0,1,O,X]);S=d(s.getMatrix(),pt),b.setTransform(S[0],S[1],S[2],S[3],S[4],S[5])}I.border&&!st&&(b.beginPath(),b.rect(ct-nt,lt,L,E),it=l.generateColorTransform(I.borderColor,p),A[A.length]=it,b.strokeStyle="rgba("+it.R+","+it.G+","+it.B+","+it.A+")",b.lineWidth=o(20,1/o(S[0],S[3])),b.globalAlpha=1,b.fillStyle="rgba(0,0,0,0)",I.background&&(it=l.generateColorTransform(I.backgroundColor,p),A[A.length]=it,b.fillStyle="rgba("+it.R+","+it.G+","+it.B+","+it.A+")"),b.fill(),b.stroke());var ut=I.textColor,ft=ut;"number"==typeof ut&&(ft=l.intToRGBA(ut,100));var ht="rgba("+(it=l.generateColorTransform(ft,p)).R+","+it.G+","+it.B+","+it.A+")";A[A.length]=ht,b.fillStyle=ht;var dt="";I.italic&&(dt+="italic "),I.bold&&(dt+="bold ");var vt=dt+I.size+"px "+I.font;if(A[A.length]=vt,b.font=vt,null!==l.input){var yt=l.input,bt=i(I.size*R*o(m[0],m[3]));yt.style.font=dt+bt+"px "+I.font,yt.style.color="rgba("+it.R+","+it.G+","+it.B+","+it.A+")";var mt=I.onChanged;if(mt&&!yt.onchange){yt.onchange=function(t,e,r,o){return function(){r.active&&(r.setProperty("text",o.value),e.apply(r,arguments),t.executeAction())}}(s,mt,l,yt)}}C&&!st&&(b.save(),b.beginPath(),b.rect(ct-nt,lt,L,E-40),b.clip(),!1===l.inputActive&&(I.embedFonts?l.renderOutLine(b,K,j,S,ct-nt,L,ht):l.renderText(b,j,S,dt,ht)),b.restore(),b.globalAlpha=1),A[A.length]=C;var St=gt.generateKey(A.join("_"),l.getCharacterId(),S,p);return y.cacheKey=St,(y.isFilter||y.isBlend)&&l.postRender(t,r,p,s,y),St}return null},Nt.prototype.renderOutLine=function(t,e,r,o,a,n,s){for(var c,l,p=this,g=p.variables,u=p.fontScale,f=(e.FontAscent+e.FontDescent)*u,h=g.rightMargin*u,d=g.leftMargin*u,v=g.indent*u,y=g.align,b="",m=e.CodeTable,S=e.GlyphShapeTable,A=e.FontAdvanceTable,I=e.FontAscent*u,C=I,x=g.wordWrap,k=g.multiline,T=p.getBounds(),M=i(T.xMax-T.xMin)-d-h,F=r.length,B=p.multiplicationMatrix,U=0;U<F;U++){var w,_=a,Y=0,P=0,O=r[U];if("string"!=typeof O){if(!(w=O.firstChild))continue;Y=p.getDomWidth(w,m,A),b=O.innerText,y=g.align,O.align&&(y=O.align)}else for(P=(b=O).length,c=0;c<P;c++)-1!==(l=m.indexOf(b[c].charCodeAt(0)))&&(Y+=A[l]*u);var D=_+="right"===y?n-h-Y-40:"center"===y?v+d+40+(n-v-d-h-Y)/2:v+d+40,X=0;if("string"!=typeof O){var L={XOffset:_,YOffset:I,cacheXOffset:D,cacheYOffset:C,wordWidth:X,addXOffset:0,size:w.size,areaWidth:M,matrix:o};p.renderDomOutLine(t,w,L,s,m,A,S)}else for(c=0;c<P;c++)if(-1!==(l=m.indexOf(b[c].charCodeAt(0)))){var E=A[l]*u;x&&k&&X+E>M&&(_=D,I+=C,X=0);var R=B(o,[u,0,0,u,_,I]);t.setTransform(R[0],R[1],R[2],R[3],R[4],R[5]),p.renderGlyph(S[l],t),_+=E,X+=E}I+=f}},Nt.prototype.renderDomOutLine=function(t,e,r,o,a,n,i){var s=this,c=s.variables,l=c.wordWrap,p=c.multiline,g=s.multiplicationMatrix,u=s.getStage().fonts[e.face],f=a,h=n,d=i,v=o;u&&(f=u.CodeTable,h=u.FontAdvanceTable,d=u.GlyphShapeTable),e.color&&(v=e.color),e.size&&(r.size=e.size);for(var y=e.childNodes,b=y.length,m=0;m<b;m++){var S=y[m];if(S instanceof HTMLFontElement)s.renderDomOutLine(t,S,r,v,f,h,d);else{var A,I=r.size/1024,C=S.nodeValue;if(!C)continue;for(var x=C.length,k=0;k<x;k++){var T=C[k],M=f.indexOf(T.charCodeAt(0));if(-1===M){if(-1===(M=a.indexOf(T.charCodeAt(0))))continue;v=o,r.addXOffset=n[M]*I,A=i}else r.addXOffset=h[M]*I,A=d;l&&p&&r.wordWidth+r.addXOffset>r.areaWidth&&(r.XOffset=r.cacheXOffset,r.YOffset+=r.cacheYOffset,r.wordWidth=0);var F=[I,0,0,I,r.XOffset,r.YOffset],B=g(r.matrix,F);t.setTransform(B[0],B[1],B[2],B[3],B[4],B[5]),t.fillStyle=v,s.renderGlyph(A[M],t),r.XOffset+=r.addXOffset,r.wordWidth+=r.addXOffset}}}},Nt.prototype.getDomWidth=function(t,e,r){var o=this,a=o.fontScale,n=0,i=o.getStage().fonts[t.face],s=e,c=r;i&&(s=i.CodeTable,c=i.FontAdvanceTable);for(var l=t.childNodes,p=l.length,g=0;g<p;g++){var u=l[g];if(u instanceof HTMLFontElement)n+=o.getDomWidth(u,s,c);else{var f=u.nodeValue;if(!f)continue;for(var h=f.length,d=0;d<h;d++){var v=f[d],y=s.indexOf(v.charCodeAt(0));if(-1===y){if(-1===(y=e.indexOf(v.charCodeAt(0))))continue;n+=r[y]*a}else n+=c[y]*a}}}return n},Nt.prototype.renderGlyph=function(t,e){t.data||(t.data=lt.convert(t));for(var r=t.data,o=r.length,a=0;a<o;a++){var n=r[a].cmd;e.beginPath(),n(e),e.fill()}},Nt.prototype.renderText=function(t,e,r,o,n,s){var c=this,l=c.variables,g=l.wordWrap,u=l.multiline,f=l.leading/20,h=l.rightMargin/20,d=l.leftMargin/20,v=l.indent/20,y=l.align,b=c.getBounds(),m=b.xMax/20,S=b.xMin/20,A=i(m-S),I=[20*r[0],20*r[1],20*r[2],20*r[3],r[4],r[5]],C=p(I[0]*I[0]+I[1]*I[1]),x=p(I[2]*I[2]+I[3]*I[3]),k=a(C,x);t.setTransform(k,I[1],I[2],k,I[4],I[5]);var T=S,M=b.yMin/20+2;"right"===y?(t.textAlign="end",T+=A-h-2):"center"===y?(t.textAlign="center",T+=d+v+(A-d-v-h)/2):T+=2+d+v;var F=(b=c.getBounds(I)).xMax-b.xMin-(d-h)*C;F/=k;for(var B=l.size,U=e.length,w=0;w<U;w++){var _="",Y=e[w];if(""!==(_="string"!=typeof Y?Y.innerText:Y)){var P=t.measureText(_).width;if("string"==typeof Y)if(g||u)if(P>F)for(var O=_.length,D="",X=2*k,L=0;L<O;L++){var E=_[L],R=t.measureText(E);X+=R.width,D+=E;var H=_[L+1];H&&(X+=(R=t.measureText(H)).width),X>F||L+1===O?(t.fillText(D,T,M,i(X)),X=2*k,D="",M+=f+B):H&&(X-=R.width)}else t.fillText(_,T,M,P),M+=f+B;else t.fillText(_,T,M,P),M+=f+B;else{var N=Y.firstChild,j={startDx:T,dx:T,cloneDy:M,dy:M,color:n,fontType:o,fillStyle:n,size:B,scale:k,originSize:B,txtTotalWidth:P,areaWidth:F,joinWidth:0,joinTxt:"",offset:0,offsetArray:[]};if(0===j.offsetArray.length&&c.offsetDomText(t,N,j),j.dx=T,j.dy=M,j.cloneDy=M,j.size=B,j.joinWidth=0,j.joinTxt="",j.offset=0,j.offsetArray.length>0){var G=j.offsetArray[0];G&&(j.dy+=G,j.cloneDy=j.dy)}c.renderDomText(t,N,j),M=j.dy}}else M+=f+B}},Nt.prototype.offsetDomText=function(t,e,r){var o=this.variables,n=o.wordWrap,i=o.multiline,s=o.leading/20;if(e.face&&(r.face=e.face),e.size){var c=0|e.size,l=r.originSize-c;if(l)if(r.dy+=l,l>0)r.dy-=4;else{var p=r.offsetArray,g=r.offset,u=p[g];p[g]=u?a(u,~l):~l,r.dy+=6}r.size=c}for(var f=e.childNodes,h=f.length,d=0;d<h;d++){var v=f[d];if(v instanceof HTMLFontElement)this.offsetDomText(t,v,r);else{var y=v.nodeValue;if(n&&i)if(r.txtTotalWidth>r.areaWidth)for(var b=y.length,m=0;m<b;m++){var S=t.measureText(y[m]);r.joinWidth+=S.width,r.joinTxt+=y[m];var A=r.joinWidth>r.areaWidth;(A||m+1===b)&&(r.dx+S.width>r.areaWidth&&(r.dx=r.startDx,r.dy+=s+r.size,r.cloneDy=r.dy,r.joinWidth=2*r.scale,A=!1,r.offset++),r.joinTxt="",A&&(r.dx=r.startDx,r.joinWidth=22*r.scale,r.dy+=s+r.size,r.cloneDy=r.dy,r.offset++))}else r.dy+=s+r.size,r.cloneDy=r.dy,r.offset++;else r.dy+=s+r.size,r.cloneDy=r.dy,r.offset++;var I=t.measureText(y);r.dx+=I.width,r.size=r.originSize,r.dy=r.cloneDy}}},Nt.prototype.renderDomText=function(t,e,r){var o,a=this.variables,n=a.wordWrap,s=a.multiline,c=a.leading/20;if(e.face&&(r.face=e.face),e.color&&(r.color=e.color),e.size){var l=0|e.size,p=r.originSize-l;p&&(r.dy+=p,p>0?r.dy-=4:r.dy+=8),r.size=l}for(var g=e.childNodes,u=g.length,f=0;f<u;f++){var h=g[f];if(h instanceof HTMLFontElement)this.renderDomText(t,h,r);else{t.fillStyle=r.color,t.font=r.fontType+r.size+"px "+r.face;for(var d=h.nodeValue.split("\n"),v=d.length,y=0;y<v;y++){r.dx=r.startDx;var b=d[y];if(n&&s)if(r.txtTotalWidth>r.areaWidth)for(var m=b.length,S=0;S<m;S++){var A=t.measureText(b[S]);r.joinWidth+=A.width,r.joinTxt+=b[S];var I=r.joinWidth>r.areaWidth;(I||S+1===m)&&(r.dx+A.width>r.areaWidth&&(I=0,r.joinWidth=r.size,r.dx=r.startDx,r.offset++,r.dy+=c+r.size,r.offsetArray.length>0&&(o=r.offsetArray[r.offset])&&(r.dy+=o),r.cloneDy=r.dy),t.fillText(r.joinTxt,r.dx,r.dy,i(r.joinWidth)),r.joinTxt="",I&&(r.dx=r.startDx,r.joinWidth=r.size,r.offset++,r.dy+=c+r.size,r.offsetArray.length>0&&(o=r.offsetArray[r.offset])&&(r.dy+=o),r.cloneDy=r.dy))}else t.fillText(b,r.dx,r.dy,i(r.txtTotalWidth)),r.offset++,r.dy+=c+r.size,r.offsetArray.length>0&&(o=r.offsetArray[r.offset])&&(r.dy+=o),r.cloneDy=r.dy;else t.fillText(b,r.dx,r.dy,i(r.txtTotalWidth)),r.offset++,r.dy+=c+r.size,r.offsetArray.length>0&&(o=r.offsetArray[r.offset])&&(r.dy+=o),r.cloneDy=r.dy;var C=t.measureText(b);r.dx+=C.width,r.color=r.fillStyle,r.size=r.originSize,r.dy=r.cloneDy}}}},Nt.prototype.putFrame=function(t,e){var r=this;r.active=!0,!1===r.inputActive&&r.dispatchEvent(e,t)},Nt.prototype.renderHitTest=function(t,e,r,o,a){var n=this,s=n.getBounds(),c=s.xMax,l=s.xMin,p=s.yMax,g=s.yMin,u=i(c-l),f=i(p-g),h=n.multiplicationMatrix,d=h(e,n.getMatrix()),v=h(r.getMatrix(),d);if(t.setTransform(v[0],v[1],v[2],v[3],v[4],v[5]),n._matrix){var y=h(d,[1,0,0,1,l=-l,g=-g]),b=h(r.getMatrix(),y);t.setTransform(b[0],b[1],b[2],b[3],b[4],b[5])}return t.beginPath(),t.rect(l,g,u,f),t.isPointInPath(o,a)},Nt.prototype.initFrame=function(){},Nt.prototype.addActions=function(){},Nt.prototype.getTags=function(){};var jt=function(){var t=this;Pt.call(t),t.actions=[],t._downState=new Xt,t._hitState=new Xt,t._overState=new Xt,t._upState=new Xt};jt.prototype=Object.create(Pt.prototype),jt.prototype.constructor=jt,Object.defineProperties(jt.prototype,{downState:{get:function(){return this.getSprite("down")},set:function(t){this.setSprite("down",t)}},hitState:{get:function(){return this.getSprite("hit")},set:function(t){this.setSprite("hit",t)}},overState:{get:function(){return this.getSprite("over")},set:function(t){this.setSprite("over",t)}},upState:{get:function(){return this.getSprite("up")},set:function(t){this.setSprite("up",t)}}}),jt.prototype.getActions=function(){return this.actions},jt.prototype.setActions=function(t){this.actions=t},jt.prototype.setButtonStatus=function(t){var e=this;e.getButtonStatus()!==t&&e.buttonReset(t),e.buttonStatus=t},jt.prototype.getSprite=function(t){return t||(t=this.buttonStatus),this["_"+(t+="State")]},jt.prototype.setSprite=function(t,e){var r=this,o=r.getStage(),a=0;switch(t){case"down":a=1;break;case"hit":a=2;break;case"over":a=3;break;case"up":a=4}o.setPlaceObject(new ft,r.instanceId,a,0),e.setParent(r),e.setLevel(a),e.setStage(o);var n=e.getContainer();for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];o.getInstance(s).setParentSprite(e)}r["_"+(t+="State")]=e},jt.prototype.getBounds=function(t,e){var r=this,n=0,i=0,s=0,c=0,l=r.getSprite(e).getContainer();if(l.length){var p=r.getStage(),g=m.MAX_VALUE;n=-g,i=-g,s=g,c=g;var u=r.multiplicationMatrix;for(var f in l)if(l.hasOwnProperty(f)){var h=l[f],d=p.getInstance(h);if(d&&!d.isClipDepth){var v=t?u(t,d.getMatrix()):d.getMatrix(),y=d.getBounds(v,e);y&&(s=o(s,y.xMin),n=a(n,y.xMax),c=o(c,y.yMin),i=a(i,y.yMax))}}}return{xMin:s,xMax:n,yMin:c,yMax:i}},jt.prototype.buttonReset=function(t){var e=this,r=e.getSprite().getContainer(),o=e.getSprite(t).getContainer(),a=e.getStage();for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];if(!(n in o)||i!==o[n]){var s=a.getInstance(i);s&&s.reset()}}},jt.prototype.setHitRange=function(t,e,r,a){var n=this,i=o(n.getVisible(),r);if(n.getEnabled()&&i){var s=e.buttonHits;if(Z){var c=n.getActions(),l=c.length;if(l)for(var p=0;p<l;p++){var g=c[p];13===g.CondKeyPress&&(s[s.length]={button:n,xMin:0,xMax:e.getWidth(),yMin:0,yMax:e.getHeight(),CondKeyPress:g.CondKeyPress,parent:n.getParent()})}}var u="hit",f=n.getSprite(u),h=f.getContainer();if(h.length||(u="up",h=(f=n.getSprite(u)).getContainer()),h.length){var d=n.multiplicationMatrix(t,n.getMatrix()),v=n.getBounds(d,u);v&&(s[s.length]={button:n,xMin:v.xMin,xMax:v.xMax,yMin:v.yMin,yMax:v.yMax,CondKeyPress:0,parent:n.getParent(),matrix:n.cloneArray(t)})}}},jt.prototype.render=function(t,e,r,a,n){var i=this,s=i.multiplicationColor,c=s(r,i.getColorTransform()),l=i.multiplicationMatrix,p=l(e,i.getMatrix()),g=o(i.getVisible(),n),u=i.preRender(t,p,c,a,g),f=i.getSprite(),h=l(u.preMatrix,f.getMatrix()),d=s(c,f.getColorTransform());g=o(f.getVisible(),n);var v=u.cacheKey;return v+=f.render(u.preCtx,h,d,a,g),(u.isFilter||u.isBlend)&&(u.cacheKey=v,i.postRender(t,e,r,a,u)),v},jt.prototype.renderHitTest=function(t,e,r,o,a){var n=this,i=n.getSprite("hit"),s=i.getContainer(),c=s.length;if(!c)return!1;var l=n.multiplicationMatrix,p=l(e,n.getMatrix()),g=l(p,i.getMatrix());if(c){var u=n.getStage();for(var f in s)if(s.hasOwnProperty(f)){var h=s[f],d=u.getInstance(h);if(d){var v=d.renderHitTest(t,g,r,o,a);if(v)return v}}}return!1},jt.prototype.hitCheck=function(t,e,r,o,a){var n=this,i=n.getSprite("hit"),s=i.getContainer(),c=s.length;if(!c)return!1;var l=n.multiplicationMatrix,p=l(e,n.getMatrix()),g=l(p,i.getMatrix()),u=!1,f=!1;if(c){var h=n.getStage();for(var d in s.reverse(),s)if(s.hasOwnProperty(d)){var v=s[d],y=h.getInstance(v);if(f=y instanceof Lt||y instanceof Rt||y instanceof Nt?y.renderHitTest(t,g,r,o,a):y.hitCheck(t,g,r,o,a)){if(u=f,"object"!=typeof f){var b=n.events;void 0===b.press&&void 0===b.release&&void 0===b.releaseOutside&&void 0===b.rollOver&&void 0===b.rollOut&&void 0===b.dragOver&&void 0===b.dragOut||(r.isHit=f,u={parent:n.getParent(),button:n})}return s.reverse(),u}}s.reverse()}return!1},jt.prototype.addActions=function(t){var e=this.getSprite().getContainer();if(e.length){var r=this.getStage();for(var o in e)if(e.hasOwnProperty(o)){var a=e[o],n=r.getInstance(a);n&&n.addActions(t)}}},jt.prototype.getTags=function(){},jt.prototype.initFrame=function(){};var Gt=function(){var t=this;Xt.call(t),t._currentframe=1,t.removeTags=[],t.actions=[],t.labels=[],t.stopFlag=!1,t.isAction=!0,t.isClipDepth=!1,t.clipDepth=0,t.sounds=[],t.soundStopFlag=!1};Gt.prototype=Object.create(Xt.prototype),Gt.prototype.constructor=Gt,Gt.prototype.dispatchOnEvent=function(t,e){var r=this.variables[t];r&&this.setActionQueue(r,e)},Gt.prototype.createEmptyMovieClip=function(t,e){var r=this,o=r.getStage();if(void 0!==t){var a=r.getDisplayObject(t);a||(a=new Gt),e+=16384,a.setName(t),a.setLevel(e),a.setParent(r),a.setStage(o);for(var n=r.getContainer(),i=r.getTotalFrames()+1,s=new ft,c=r.instanceId,l=1;l<i;l++)l in n||(n[l]=[]),n[l][e]=a.instanceId,o.setPlaceObject(s,c,e,l);return a}},Gt.prototype.createTextField=function(t,e,r,o,a,n){16384>e&&(e+=16384);var i=this,s=new Nt(t,e,a,n);s.setX(r),s.setY(o),s.setParent(i),s.setStage(i.getStage()),s.setInitParams();var c=i.getContainer();for(var l in c)c.hasOwnProperty(l)&&(c[l][e]=s.instanceId);return s},Gt.prototype.setBackgroundColor=function(t,e,r){this.getStage().setBackgroundColor(t,e,r)},Gt.prototype.play=function(){this.stopFlag=!1},Gt.prototype.stop=function(){this.stopFlag=!0},Gt.prototype.gotoAndPlay=function(t){var e=this;A(t)?"string"==typeof t&&(t=e.getLabel(t)):t=+t,"number"==typeof t&&t>0&&(e.setNextFrame(t),e.play())},Gt.prototype.gotoAndStop=function(t){var e=this;"string"==typeof t&&(t=e.getLabel(t)),"number"==typeof(t|=0)&&t>e.getTotalFrames()&&(t=e.getTotalFrames(),e.isAction=!1),t>0&&(e.setNextFrame(t),e.stop())},Gt.prototype.stopAllSounds=function(){var t=this.getStage(),e=t.loadSounds,r=e.length,o=function(){this.removeEventListener("pause",o),this.currentTime=0,this.loop=!1};if(r>0)for(;r--;)if(r in e){var a=e[r];a.addEventListener("pause",o),a.pause()}t.loadSounds=[]},Gt.prototype.loadMovie=function(t,e,r){var o=this,a=o.getStage(),n=null;if(e||(e=o.getName(),n=o),!n){if("string"==typeof e)"_level"===e.substr(0,6)&&(e=+e.substr(6));if("number"==typeof e){var i=a.getParent();i||(i=a.getParent());var s=i.getTags();n=s[e]}else n=o.getDisplayObject(e)}if(n){o.unloadMovie(n);var c=new XMLHttpRequest,l=t,p=null;if(2===r){var g=t.split("?");void 0!==g[1]&&(p=g[1]),l=g[0],c.open("POST",l,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else c.open("GET",l,!0);V?c.responseType="arraybuffer":c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(){var r=c.readyState,i=c.status;if(4===r)switch(i){case 200:case 304:var s=o.getDisplayObject("_root").getStage(),p=V?c.response:c.responseText,g=new ae;D[g.getId()]=g,n._url=t,n.reset(),g.setParent(n),n.setLoadStage(g),g.parse(p,l),g.stop(),(0===e||"number"!=typeof e&&!n.getParent())&&(a.stop(),g.setId(a.getId()),g.setName(a.getName()),g.backgroundColor=a.backgroundColor,g.initCanvas(),g.loadStatus=2,g.loadEvent(),delete D[g.getId()],O[a.getId()]=g,a=null);var u=n.variables.onData;"function"==typeof u&&g.executeEventAction(u,n),wt.type="data",n.dispatchEvent(wt,s),n.addActions(s)}},c.send(p)}},Gt.prototype.unloadMovie=function(t){var e=null;if(t instanceof Gt)e=t;else if(!(e=this.getDisplayObject(t)))return 0;e.reset(),e.setLoadStage(null),e.setStage(this.getStage()),e.container=[],e.actions=[],e.instances=[],e.labels=[],e.sounds=[],e.removeTags=[],e._totalframes=1,e._url=null,e._lockroot=void 0;var r=e.getStage();delete D[r.getId()]},Gt.prototype.getURL=function(t,r,o){var a=this;if("string"==typeof t){var n=t.substr(0,9);if("FSCommand"===n){var i=t.split(":");n=i.pop();var s=arguments[1];void 0===s&&(s="");var c=a.getStage(),l=c.abc.flash.system.fscommand;return l.apply(c,[n,s])}}if(r&&"string"==typeof r)switch(r.toLowerCase()){case"_self":case"_blank":case"_parent":case"_top":break;case"post":case"get":r="_self",o="GET";break;default:return o||(o="GET"),a.loadMovie(t,r,o),0}if("POST"===o){var p=e.createElement("form");p.action=t,p.method=o,r&&(p.target=r);var g=t.split("?");if(g.length>1)for(var u=g[1].split("&"),f=u.length,h=encodeURI,d=0;d<f;d++){var v=u[d].split("="),y=e.createElement("input");y.type="hidden",y.name=v[0],y.value=h(v[1]||""),p.appendChild(y)}e.body.appendChild(p),p.submit()}else{var b=new T("location.href = '"+t+"';");b()}},Gt.prototype.loadVariables=function(t,e,r){var o=this,a=o;if(e&&(a=o.getDisplayObject(e)),a){var n=new XMLHttpRequest,i=null;if("POST"===r){var s=t.split("?");void 0!==s[1]&&(i=s[1]),n.open(r,s[0],!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else n.open("GET",t,!0);n.onreadystatechange=function(){if(4===n.readyState)switch(n.status){case 200:case 304:for(var t=decodeURIComponent(n.responseText).split("&"),e=t.length,r=0;r<e;r++){var i=t[r].split("=");a.setVariable(i[0],i[1])}var s=o.getDisplayObject().getStage(),c=o.getStage(),l=a.variables.onData;"function"==typeof l&&c.executeEventAction(l,a),wt.type="data",a.dispatchEvent(wt,s)}},n.send(i)}},Gt.prototype.hitTest=function(){var t=this,e=arguments[0],r=0,o=0,a=!1;if(!(e instanceof Gt||(o=arguments[1],a=arguments[2],(r=arguments[0])&&o)))return!1;var n=t.getHitBounds(),i=n.xMax,s=n.xMin,c=n.yMax,l=n.yMin;if(e instanceof Gt){var p=e.getHitBounds(),g=p.xMax,u=p.xMin,f=p.yMax,h=p.yMin;return g>s&&f>l&&i>u&&c>h}if(r>=s&&r<=i&&o>=l&&o<=c){if(a){for(var d=[1,0,0,1,0,0],v=t,y=t.multiplicationMatrix;;){var b=v.getParent();if(!b.getParent())break;d=y(b.getMatrix(),d),v=b}var m=t.getDisplayObject("_root"),S=m.getStage(),A=S.hitContext,I=S.getScale();return r*=I,o*=I,o*=K,r*=K,t.renderHitTest(A,d,S,r,o)}return!0}return!1},Gt.prototype.getHitBounds=function(){for(var t=this,e=t,r=t.getMatrix(),o=t.multiplicationMatrix;;){var a=e.getParent();if(!a.getParent())break;r=o(a.getMatrix(),r),e=a}return t.getBounds(r)},Gt.prototype.getInstanceAtDepth=function(t){var e=this.getParent();return e||(e=this.getDisplayObject("_root")),e.getTags()[t+=16384]},Gt.prototype.swapDepths=function(){var t=this,e=arguments[0],r=0,o=t.getParent();if(o){var a=o.getTags();if(e instanceof Gt){if(o===e.getParent()){r=t.getDepth()+16384;var n=e.getDepth()+16384;t.setDepth(r,n,e)}}else if(A(r=arguments[0])&&(r=o.getNextHighestDepth()),16384>r&&(r+=16384),r in a){var i=a[r];if(i!==t.instanceId){var s=t.getStage(),c=s.getInstance(i);t.swapDepths(c)}}else t.setDepth(r,null,null)}},Gt.prototype.attachMovie=function(t,e,r,o){var a=null,n=this;A(r)&&(r=n.getNextHighestDepth()),r<16384&&(r+=16384);var i=n.getDisplayObject(e);i&&i.removeMovieClip();var s=n.getStage(),c=s.exportAssets;if(t in c){var l=c[t],p=s.getCharacter(l);if(p){(a=new Gt).setStage(s),a.setParent(n),a.setCharacterId(l),a.setLevel(r),a.setName(e),a.setTarget(n.getTarget()+"/"+e);var g=s.initActions[l];"function"==typeof g&&(a.active=!0,g.apply(a),a.reset());var u=s.registerClass[l];u&&(a.variables.registerClass=new u),new ht(s,null).build(p,a);for(var f=new ft,h=n.instanceId,d=n.getTotalFrames()+1,v=n.getContainer(),y=1;y<d;y++)y in v||(v[y]=[]),v[y][r]=a.instanceId,s.setPlaceObject(f,h,r,y);if(o)for(var b in o)o.hasOwnProperty(b)&&a.setProperty(b,o[b]);var m=n.getDisplayObject("_root").getStage();a.addActions(m)}}return a},Gt.prototype.getNextHighestDepth=function(){var t=0,e=this.getContainer();for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];t=a(t,o.length)}return 16384>t&&(t=0),t},Gt.prototype.getBytesLoaded=function(){var t=this.getStage(),e=t.bitio;return e?e.byte_offset:t.fileSize},Gt.prototype.getBytesTotal=function(){return this.getStage().fileSize},Gt.prototype.updateAfterEvent=function(){this.getDisplayObject("_root").getStage().touchRender()},Gt.prototype.duplicateMovieClip=function(){var t,e,r,o=this,a=o.getDisplayObject("_root"),n=a.getStage(),i=arguments[0],s=arguments[1],c=arguments[2],l=o.getDisplayObject(s);if(!l&&n.getVersion()>4&&(i=arguments[0],A(c=arguments[1])&&((t=o.getParent())||(t=n.getParent()),c=t.getNextHighestDepth()),e=arguments[2],l=o),16384>c&&(c+=16384),void 0!==l&&0!==l.getCharacterId()){n=l.getStage(),(t=l.getParent())||(t=n.getParent());var p=n.getCharacter(l.characterId),g=new ht(n);if(p instanceof Array)(r=new Gt).setStage(n),r.setParent(t),r.setLevel(c),r.setTotalFrames(l.getTotalFrames()),r.setCharacterId(l.characterId),g.build(p,r);else{var u={CharacterId:l.characterId,Ratio:0,Depth:c};r=g.buildObject(u,t)}r.setName(i),l._matrix&&(r._blendMode=l._blendMode,r._filters=l._filters,r._matrix=o.cloneArray(l._matrix),r._colorTransform=o.cloneArray(l._colorTransform));for(var f=t.getTotalFrames()+1,h=t.getContainer(),d=t.instanceId,v=n.placeObjects[d],y=l.getLevel(),b=1;b<f;b++)if(b in h||(h[b]=[]),h[b][c]=r.instanceId,b in v){var m=v[b][y];m&&(b in v||(v[b]=[]),v[b][c]=m.clone())}if(e)for(var S in e)e.hasOwnProperty(S)&&r.setProperty(S,e[S]);r.addActions(n)}return r},Gt.prototype.removeMovieClip=function(t){var e=this;if("string"==typeof t){var r=this.getDisplayObject(t);r&&(e=r)}var o=e.getDepth()+16384,a=e.getLevel();if(e instanceof Gt&&o>=16384){e.reset(),e.removeFlag=!0;for(var n=e.getParent(),i=n.getContainer(),s=e.instanceId,c=n.getTotalFrames()+1;--c;)if(c in i){var l=i[c];o in l&&l[o]===s&&delete i[c][o],o!==a&&16384>a&&(a in l||(l[a]=s))}}},Gt.prototype.initFrame=function(){var t=this;t.active=!0;var e=t.getStage(),r=t.getTags();if(r.length){for(var o in r.reverse(),r)if(r.hasOwnProperty(o)){var a=r[o],n=e.getInstance(a);n&&n.initFrame()}r.reverse()}var i=e.initActions[t.getCharacterId()];"function"==typeof i&&i.apply(t)},Gt.prototype.putFrame=function(t,e){var r,o=this,a=o.getStage();if(!o.stopFlag&&o.active){var n=o.getCurrentFrame(),i=o.getTotalFrames();i>1&&(o.isLoad&&(r=o.getTags(),n++),n>i&&(n=1,o.resetCheck()),o.setCurrentFrame(n),o.remove(t),o.isAction=!0,o.soundStopFlag=!1)}if(o.removeFlag)return 0;if(o.active=!0,void 0!==r){o.isSwap&&o.resetSwap();var s=o.getTags();if(s.length&&s.toString()!==r.toString())for(var c in s)if(s.hasOwnProperty(c)){var l=s[c];if(!(c in r)||l!==r[c]){var p=a.getInstance(l);p&&p instanceof Gt&&t.newTags.unshift(p)}}}if(o.isLoad){if(e.type="enterFrame",o.dispatchEvent(e,t),o.dispatchOnEvent("onEnterFrame",t),o.addTouchEvent(t),o.isAction){o.isAction=!1;var g=o.getActions(o.getCurrentFrame());g&&o.setActionQueue(g,t)}}else{var u=a.initActions[o.getCharacterId()];"function"==typeof u&&u.apply(o)}},Gt.prototype.nextFrame=function(){var t=this,e=t.getCurrentFrame();e++,t.setNextFrame(e),t.stop()},Gt.prototype.prevFrame=function(){var t=this,e=t.getCurrentFrame();e--,t.setNextFrame(e),t.stop()},Gt.prototype.getCurrentFrame=function(){return this._currentframe},Gt.prototype.setCurrentFrame=function(t){this._currentframe=t},Gt.prototype.setNextFrame=function(t){var e=this;if(t>0&&e.getCurrentFrame()!==t){e.isAction=!0,t>e.getTotalFrames()&&(t=e.getTotalFrames(),e.isAction=!1);var r,n,i,s,c,l=a(t,e.getCurrentFrame())+1,p=o(t,e.getCurrentFrame()),g=e.getStage(),u=e.getTags(),f=[],h=e.getTags(t),d=a(u.length,h.length);if(d)for(i=0;i<d;i++)if((i in u||i in h)&&(n=u[i],c=h[i],n||c))if(r=g.getInstance(n),s=g.getInstance(c),n&&c){if(n===c){f[n]=!0;continue}r.reset(),s.reset(),f[n]=!0,f[c]=!0}else r?(r.reset(),f[n]=!0):s&&(s.reset(),f[c]=!0);if(f.length)for(var v=p;v<l;v++){var y=e.getTags(v);if(y.length)for(i in y)y.hasOwnProperty(i)&&((n=y[i])in f||(f[n]=!0,(r=g.getInstance(n)).reset()))}e.setCurrentFrame(t),e.soundStopFlag=!1;var b=e.getDisplayObject("_root").getStage();e.addActions(b)}},Gt.prototype.getTotalFrames=function(){return this._totalframes},Gt.prototype.setTotalFrames=function(t){this._totalframes=t,this._framesloaded=t},Gt.prototype.addLabel=function(t,e){"string"!=typeof e&&(e+=""),this.labels[e.toLowerCase()]=0|t},Gt.prototype.getLabel=function(t){return"string"!=typeof t&&(t+=""),this.labels[t.toLowerCase()]},Gt.prototype.addSound=function(t,e){var r=this;t in r.sounds||(r.sounds[t]=[]),r.sounds[t].push(e)},Gt.prototype.getSounds=function(){return this.sounds[this.getCurrentFrame()]},Gt.prototype.startSound=function(t){var e=this.getStage(),r=t.SoundId,o=e.getCharacter(r);if(!o)return 0;var a=o.SoundInfo;st(t.Audio,a),this.soundStopFlag=!0},Gt.prototype.getTags=function(t){var e=t||this.getCurrentFrame();return this.container[e]||[]},Gt.prototype.setRemoveTag=function(t,e){var r=this.removeTags;r[t]=[];for(var o=e.length,a=0;a<o;a++){var n=e[a];r[t][n.Depth]=1}},Gt.prototype.getRemoveTags=function(t){return this.removeTags[t]},Gt.prototype.remove=function(t){var e=this,r=e.getRemoveTags(e.getCurrentFrame());if(r){var o=e.getStage(),a=e.getCurrentFrame()-1,n=e.getTags(a);for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],c=o.getInstance(s);if(c)if(c instanceof Gt){if(!(c.getDepth()+16384 in r))continue;wt.type="unload",e.dispatchEvent(wt,t),c.reset()}else{if(!(i in r))continue;c.reset()}}}},Gt.prototype.resetCheck=function(){var t=this.getInstances(),e=this.getStage();for(var r in t)if(t.hasOwnProperty(r)){var o=e.getInstance(r);o&&(o.getRatio()||o.removeFlag)&&o.reset()}},Gt.prototype.resetSwap=function(){for(var t=this,e=t.getStage(),r=t.getTags(),o=t.getTotalFrames()+1,a=1;a<o;a++){var n=t.getTags(a),i=n.length;if(i){var s=[];for(var c in n)if(n.hasOwnProperty(c)){var l=n[c|=0],p=e.getInstance(l);p?p.active||p.getLevel()!==c&&(p.getLevel()in r||(p._depth=null,s[p.getLevel()]=l),delete n[c]):delete n[c]}if(i=s.length)for(var g in s)s.hasOwnProperty(g)&&(n[g]=s[g])}}t.isSwap=!1},Gt.prototype.reset=function(){var t=this,e=t.getStage(),r=t.getInstances();for(var o in r)if(r.hasOwnProperty(o)){var a=e.getInstance(o);a instanceof Gt&&a.getDepth()>=0?(a.removeMovieClip(),a.getDepth()<0&&(a.removeFlag=!1)):a.reset()}var n=t.getParent();n&&t.getLevel()!==t.getDepth()+16384&&(n.isSwap=!0),t.play(),t.setCurrentFrame(1),t.clear(),t.initParams(),t.variables={}},Gt.prototype.initParams=function(){var t=this;t.active=!1,t.removeFlag=!1,t.isLoad=!1,t.isMask=!1,t.isAction=!0,t.soundStopFlag=!1,t._droptarget=null,t._depth=null,t._mask=null,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t.buttonStatus="up",t.mouseEnabled=!0,t.setVisible(!0),t.setEnabled(!0)},Gt.prototype.addTouchEvent=function(t){var e=this,r=e.events,o=t.moveEventHits,a=t.downEventHits,n=t.upEventHits,i=t.keyDownEventHits;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s];switch(s){case"mouseDown":a[a.length]={as:c,mc:e};break;case"mouseMove":o[o.length]={as:c,mc:e};break;case"mouseUp":n[n.length]={as:c,mc:e};break;case"keyDown":Z?a[a.length]={as:c,mc:e}:i[i.length]={as:c,mc:e};break;case"keyUp":n[n.length]={as:c,mc:e}}}var l=e.variables;l.onMouseDown&&(a[a.length]={mc:e}),l.onMouseMove&&(o[o.length]={mc:e}),l.onMouseUp&&(n[n.length]={mc:e})},Gt.prototype.createActionScript=function(t){return e=this,(o=new yt([],(r=t).constantPool,r.register,r.initAction)).cache=r.cache,o.scope=e,function(){return o.reset(),o.variables.this=this,o.execute(e)};var e,r,o},Gt.prototype.createActionScript2=function(t,e){return r=this,o=t,a=e,function(){var t=new yt([],o.constantPool,o.register,o.initAction);return t.parentId=o.id,t.cache=o.cache,t.scope=r,t.parent=a||null,t.register.length&&t.initVariable(arguments),t.variables.this=this,t.execute(r)};var r,o,a},Gt.prototype.addFrameScript=function(){for(var t=this,e=arguments,r=e.length,o=0;o<r;o++){var a=e[o++],n=e[o];if("string"==typeof a?a=t.getLabel(a):a+=1,(a|=0)>0&&t.getTotalFrames()>=a){var i=t.actions;if(a in i||(i[a]=[]),null===n)i[a]=[];else{var s=i[a].length;i[a][s]=n}}}},Gt.prototype.addActions=function(t){var e=this;e.active=!0;var r=e.getStage();if(e.isAction){if(e.isAction=!1,!e.isLoad){e.buildAVM2();var o=r.registerClass[e.getCharacterId()];"function"==typeof o&&(e.variables.registerClass=new o),wt.type="initialize",e.dispatchEvent(wt,t),wt.type="construct",e.dispatchEvent(wt,t),wt.type="load",e.dispatchEvent(wt,t);var a=e.variables.onLoad;"function"==typeof a&&e.setActionQueue(a,t),e.addTouchEvent(t)}var n=e.getActions(e.getCurrentFrame());n&&e.setActionQueue(n,t)}var i=e.getTags();if(i.length)for(var s in i)if(i.hasOwnProperty(s)){var c=i[s],l=r.getInstance(c);l&&l.addActions(t)}},Gt.prototype.getActions=function(t){return this.actions[t]},Gt.prototype.setActions=function(t,e){var r=this.actions;t in r||(r[t]=[]);var o=r[t].length;r[t][o]=this.createActionScript(e)},Gt.prototype.overWriteAction=function(t,e){var r=this;"string"==typeof t&&(t=r.getLabel(t)),(t|=0)>0&&r.getTotalFrames()>=t&&(r.actions[t]=[e])},Gt.prototype.addAction=function(t,e){var r=this;if("string"==typeof t&&(t=r.getLabel(t)),(t|=0)>0&&r.getTotalFrames()>=t){var o=r.actions;t in o||(o[t]=[]);var a=o[t].length;o[t][a]=e}},Gt.prototype.executeActions=function(t){var e=this.getActions(t);if(void 0!==e)for(var r=e.length,o=0;o<r;o++)e[o].apply(this)},Gt.prototype.ASSetPropFlags=function(){},Gt.prototype.beginFill=function(t,e){this.getGraphics().beginFill(t,e)},Gt.prototype.lineStyle=function(t,e,r,o,a,n,i,s){this.getGraphics().lineStyle(t,e,r,o,a,n,i,s)},Gt.prototype.moveTo=function(t,e){this.getGraphics().moveTo(t,e)},Gt.prototype.lineTo=function(t,e){this.getGraphics().lineTo(t,e)},Gt.prototype.curveTo=function(t,e,r,o){this.getGraphics().curveTo(t,e,r,o)},Gt.prototype.clear=function(){this.getGraphics().clear()},Gt.prototype.endFill=function(){this.getGraphics().endFill()},Gt.prototype.buildAVM2=function(){var t=this,e=t.getStage(),r=e.symbols[t.getCharacterId()];if(r){for(var o=r.split("."),a=o.pop(),n=o.length,i=e.avm2,s=e.abc,c=0;c<n;c++)i=i[o[c]],s=s[o[c]];var l=new(0,s[a])(t);i[a]=l,t.avm2=l;var p=l[a];"function"==typeof p&&(t.actions=[],p.apply(t))}};var Zt=function(){this.events={onLoadStart:void 0,onLoadProgress:void 0,onLoadComplete:void 0,onLoadInit:void 0,onLoadError:void 0}};Zt.prototype.loadClip=function(t,e){if(!t||!e)return!1;var r=this,o=r.events,a=new XMLHttpRequest;a.open("GET",t,!0),V?a.responseType="arraybuffer":a.overrideMimeType("text/plain; charset=x-user-defined");var n=o.onLoadProgress;n||(n=r.onLoadProgress),"function"==typeof n&&(a.onprogress=function(t){n.apply(r,[e,t.loaded,t.total])});var i=o.onLoadComplete;return i||(i=r.onLoadComplete),"function"==typeof i&&(a.onloadend=function(t){var o=t.currentTarget.status;200===o&&i.apply(r,[e,o])}),a.onreadystatechange=function(){var n,i,s;if(4===a.readyState){var c=a.status,l=o.onLoadStart;switch(l||(l=r.onLoadStart),"function"==typeof l&&(a.onloadstart=function(){l.apply(r,[e])}),c){case 200:case 304:var p=e.getDisplayObject("_root").getStage(),g=V?a.response:a.responseText,u=new ae;D[u.getId()]=u,e._url=t,e.reset(),e.setLoadStage(u),u.setParent(e),u.parse(g,t),u.stop();var f=o.onLoadInit;if(f||(f=r.onLoadInit),"function"==typeof f){var h=(n=f,i=r,s=e,function(){return n.apply(i,[s])});e.events.load=[h]}e.addActions(p);break;default:var d=o.onLoadError;d||(d=r.onLoadError),"function"==typeof d&&d.apply(r,[e,"error",c])}}},a.send(null),!0},Zt.prototype.addListener=function(t){if(t&&"object"==typeof t)for(var e=["onLoadStart","onLoadProgress","onLoadComplete","onLoadInit","onLoadError"],r=t.variables,o=0;o<5;o++){var a=e[o];"function"==typeof t[a]?this.events[a]=t[a]:r&&"function"==typeof r[a]&&(this.events[a]=r[a])}return!0},Zt.prototype.removeListener=function(t){if(t&&"object"==typeof t)for(var e=["onLoadStart","onLoadProgress","onLoadComplete","onLoadInit","onLoadError"],r=0;r<5;r++){var o=e[r],a=t.variables;("function"==typeof t[o]||a&&"function"==typeof a[o])&&(this.events[o]=void 0)}return!0},Zt.prototype.getProgress=function(t){return{bytesLoaded:0,bytesTotal:0}};var Vt=function(){var t=this;t.xmlHttpRequest=new XMLHttpRequest,t.variables={},t.target=t,t.events={onData:void 0,onLoad:void 0}};Object.defineProperties(Vt.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),Vt.prototype.getProperty=function(t){return this.variables[t]},Vt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Vt.prototype.load=function(t){var e=this,r=e.xmlHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){if(4===r.readyState){var t=decodeURIComponent(r.responseText);e.decode(t);var o,a=e.onData;switch("function"==typeof a&&a.apply(t,[t]),r.status){case 200:case 304:return"function"==typeof(o=e.onLoad)&&o.apply(t,[!0]),!0;default:return"function"==typeof(o=e.onLoad)&&o.apply(t,[!1]),!1}}},r.send(null)},Vt.prototype.send=function(t,e,r){var o=this,a=o.xmlHttpRequest,n=r?r.toUpperCase():"GET";return a.open(n,t,!0),"POST"===n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e instanceof Vt&&(o.target=e),a.send(o.toString()),!0},Vt.prototype.sendAndLoad=function(t,e,r){return this.send(t,e,r),this.load(t)},Vt.prototype.addRequestHeader=function(t,e){var r=this.xmlHttpRequest;if(t instanceof Array)for(var o=t.length,a=0;a<o;)r.setRequestHeader(t[a++],e[a++]);else r.setRequestHeader(t,e)},Vt.prototype.decode=function(t){for(var e=this.variables,r=t.split("&"),o=r.length,a=0;a<o;a++){var n=r[a].split("=");n.length<1||(e[String(n[0])]=n[1])}},Vt.prototype.getBytesLoaded=function(){return 1},Vt.prototype.getBytesTotal=function(){return 1},Vt.prototype.toString=function(){var t=this.variables,e=[];for(var r in t)t.hasOwnProperty(r)&&(e[e.length]=r+"="+t[r]);return e.join("&")};var Wt=function(){var t=this;t.ignoreWhite=!1,t.loaded=!1,t.status=0,t.variables={}};Object.defineProperties(Wt.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),Wt.prototype.getProperty=function(t){return this.variables[t]},Wt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Wt.prototype.load=function(t){var e=this;t=""+t;var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){if(4===r.readyState){var t,o=r.responseXML,a=e.onData;switch("function"==typeof a&&a.apply(o,[o]),r.status){case 200:case 304:return"function"==typeof(t=e.onLoad)&&t.apply(o,[!0]),!0;default:return"function"==typeof(t=e.onLoad)&&t.apply(o,[!1]),!1}}},r.send(null)},Wt.prototype.send=function(t,e,r){var o=r?r.toUpperCase():"GET";e&&F.log(e);var a=new XMLHttpRequest;return a.open(o,t,!0),a.send(null),!0},Wt.prototype.sendAndLoad=function(t,e){return this.send(t),this.load(e)};var zt=function(){var t=this;t.variables={},t.sounds=[],t.volume=100,t.pan=0,t.transform={ll:100,lr:100,rl:100,rr:100},t.isStreamin=!1,t.movieClip=null};Object.defineProperties(zt.prototype,{onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}},onSoundComplete:{get:function(){return this.getProperty("onSoundComplete")},set:function(t){this.setProperty("onSoundComplete",t)}}}),zt.prototype.getProperty=function(t){return this.variables[t]},zt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},zt.prototype.start=function(t,e){var r,o=this.sounds,a=function(t,e){return function(){t.currentTime=e}},n=function(t,e){return function(){var r=e.volume;t.loopCount--,t.loopCount>0&&(t.volume=r/100,t.currentTime=0,t.play());var o=e.onSoundComplete;o&&o.apply(e,[!0])}};for(var i in o)o.hasOwnProperty(i)&&((r=o[i]).load(),t&&r.addEventListener("canplay",a(r,t)),"number"==typeof e&&e>0&&(r.loopCount=e,r.addEventListener("ended",n(r,this))),r.play())},zt.prototype.stop=function(t){var e,r=this.sounds;if(t)(e=r[t])&&e.pause();else for(var o in r)r.hasOwnProperty(o)&&(e=r[o]).pause()},zt.prototype.loadSound=function(t,r){var o=this;o.isStreamin=r;var a=o.sounds,n=e.createElement("audio");n.src=t,a[0]=n;var i=function(t,e){return function(){t.load(),t.preload="auto",t.autoplay=!1,t.loop=!1;var r=e.onLoad;"function"==typeof r&&r.apply(e,[!0])}}(n,o);n.addEventListener("canplaythrough",i);var s,c=(s=o,function(){var t=s.onLoad;"function"==typeof t&&t.apply(s,[!1])});n.addEventListener("error",c)},zt.prototype.attachSound=function(t){var r=this.sounds;if(!(t in r)){var o=this.movieClip.getStage(),a=o.exportAssets;if(t in a){var n=a[t],i=o.sounds[n];if(i){var s=e.createElement("audio");s.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},s.src=i.base64,r[t]=s}}}},zt.prototype.getVolume=function(){return this.volume},zt.prototype.setVolume=function(t){var e=this.sounds;for(var r in this.volume=t,e){if(e.hasOwnProperty(r))e[r].volume=t/100}},zt.prototype.getPan=function(){return this.pan},zt.prototype.setPan=function(t){this.pan=t},zt.prototype.setTransform=function(t){var e=this.transform;for(var r in t)if(t.hasOwnProperty(r))switch(r){case"ll":case"lr":case"rl":case"rr":e[r]=t[r]}},zt.prototype.getTransform=function(){return this.transform},zt.prototype.getBytesLoaded=function(){return 1},zt.prototype.getBytesTotal=function(){return 1};var Kt=function(){this.data=null,this.name=null};Kt.prototype.getLocal=function(e){var r=this;r.name=e;var o=t.localStorage.getItem(e);return o=o?JSON.parse(o):{},r.data=o,r},Kt.prototype.flush=function(){return t.localStorage.setItem(this.name,JSON.stringify(this.data)),!0};var qt=function(t){this.movieClip=t,this.variables={}};qt.prototype.getProperty=function(t){return this.variables[t]},qt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},qt.prototype.intToRGBA=function(t,e){return{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:(e=e||100)/100}},qt.prototype.setRGB=function(t){var e=this.movieClip;if(e instanceof Gt){t|=0;var r=this.intToRGBA(t),o=e.getOriginColorTransform();if(o){var a=[r.R,r.G,r.B,255*r.A,0,0,0,0],n=e.cloneArray(a),i=e.multiplicationColor(o,n);e.setColorTransform(i)}}},qt.prototype.getTransform=function(){var t=this.movieClip;if(t instanceof Gt)return t.getColorTransform()},qt.prototype.setTransform=function(t){var e=this.movieClip;if(e instanceof Gt){var r=e.getOriginColorTransform(),o=[t.rb,t.gb,t.bb,t.ab,t.ra,t.ga,t.ba,t.aa],a=e.cloneArray(o),n=e.multiplicationColor(r,a);e.setColorTransform(n)}};var Jt=function(){this.events={}};Jt.prototype.show=function(){},Jt.prototype.hide=function(){},Jt.prototype.addListener=function(t){if(t&&"object"==typeof t)for(var e=["onMouseDown","onMouseMove","onMouseUp"],r=t.variables,o=0;o<5;o++){var a=e[o];"function"==typeof t[a]?this.events[a]=t[a]:r&&"function"==typeof r[a]&&(this.events[a]=r[a])}return!0},Jt.prototype.removeListener=function(t){if(t&&"object"==typeof t)for(var e=["onMouseDown","onMouseMove","onMouseUp"],r=0;r<5;r++){var o=e[r],a=t.variables;("function"==typeof t[o]||a&&"function"==typeof a[o])&&(this.events[o]=void 0)}return!0};var Qt=function(){this.variables={},this._listeners=[]};Object.defineProperties(Qt.prototype,{onKeyDown:{get:function(){return this.getProperty("onKeyDown")},set:function(t){this.setProperty("onKeyDown",t)}},onKeyUp:{get:function(){return this.getProperty("onKeyUp")},set:function(t){this.setProperty("onKeyUp",t)}}}),Qt.prototype.BACKSPACE=8,Qt.prototype.CAPSLOCK=20,Qt.prototype.CONTROL=17,Qt.prototype.DELETEKEY=46,Qt.prototype.DOWN=40,Qt.prototype.END=35,Qt.prototype.ENTER=13,Qt.prototype.ESCAPE=27,Qt.prototype.HOME=36,Qt.prototype.INSERT=45,Qt.prototype.LEFT=37,Qt.prototype.PGDN=34,Qt.prototype.PGDN=34,Qt.prototype.PGUP=33,Qt.prototype.RIGHT=39,Qt.prototype.SHIFT=16,Qt.prototype.SPACE=32,Qt.prototype.TAB=9,Qt.prototype.UP=38,Qt.prototype.getProperty=function(t){return this.variables[t]},Qt.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Qt.prototype.addListener=function(t){var e=t.onKeyDown;e&&(this.onKeyDown=e);var r=t.onKeyUp;return r&&(this.onKeyUp=r),!0},Qt.prototype.isDown=function(t){return this.getCode()===t},Qt.prototype.getCode=function(){var t=J?J.keyCode:null;if(96<=t&&t<=105)switch(t-96){case 0:t=48;break;case 1:t=49;break;case 2:t=50;break;case 3:t=51;break;case 4:t=52;break;case 5:t=53;break;case 6:t=54;break;case 7:t=55;break;case 8:t=56;break;case 9:t=57}return t};var $t=new Qt;function te(t){J=t;var e=$t.onKeyUp;"function"==typeof e&&e.apply($t,[t])}function ee(t){J=t;var e,r,o,a,n=$t.getCode(),i=$t.onKeyDown;"function"==typeof i&&i.apply($t,[t]),r=O.length;for(var s=0;s<r;s++)if(s in O){var c=O[s],l=c.keyDownEventHits,p=l.length;if(p)for(a=0;a<p;a++)o=l[a],c.executeEventAction(o.as,o.mc);var g=c.buttonHits,u=!1;for(e=g.length;e--;)if(e in g){var f=g[e];if(f){var h=f.button;if(h){var d=h.getActions();if(d){var v=d.length;for(a=0;a<v;a++)if(a in d){var y=d[a],b=y.CondKeyPress;switch(b){case 1:b=37;break;case 2:b=39;break;case 3:b=36;break;case 4:b=35;break;case 5:b=45;break;case 6:b=46;break;case 14:b=38;break;case 15:b=40;break;case 16:b=33;break;case 17:b=34;break;case 18:b=9;break;case 19:b=27}if(b===n){c.buttonAction(f.parent,y.ActionScript),c.touchRender(),u=!0;break}}if(u)break}}}}}}var re=function(){this.variables={}};re.prototype.getVariable=function(t){return this.variables[t]},re.prototype.setVariable=function(t,e){this.variables[t]=e},re.prototype.getProperty=function(t){return this.variables[t]},re.prototype.setProperty=function(t,e){this.variables[t]=e};var oe=function(t){this.stage=t};oe.prototype={flash:{display:{MovieClip:Gt,Sprite:Xt,DisplayObjectContainer:Dt,InteractiveObject:Pt,DisplayObject:Yt,Graphics:Mt},events:{EventDispatcher:_t,MouseEvent:wt},text:{StaticText:Rt},media:{Sound:zt},system:{fscommand:function(){var t=arguments[0],e=arguments[1];switch(void 0===e&&(e=""),t){case"quit":case"fullscreen":case"allowscale":case"showmenu":case"exec":case"trapallkeys":break;default:if(t){var r=this,o=r.tagId?r.tagId:r.getName(),a=o+"_DoFSCommand(command, args);",n=new T("command","args",a);n(t,e)}}return!0}}}};var ae=function(){var t=this;t.id=P++,t.name="swf2js_"+t.id,t.intervalId=0,t.frameRate=0,t.fileSize=0,t.stopFlag=!0,t.optionWidth=0,t.optionHeight=0,t.callback=null,t.renderMode=U,t.tagId=null,t.FlashVars={},t.quality="medium",t.bgcolor=null,t.mouse=new Jt,t.context=null,t.canvas=null,t.preContext=null,t.hitContext=null,t.matrix=[1,0,0,1,0,0],t._matrix=[1,0,0,1,0,0],t._colorTransform=[1,1,1,1,0,0,0,0],t.characters=[],t.initActions=[],t.exportAssets=[],t.packages=[],t.registerClass=[],t.buttonHits=[],t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[],t.sounds=[],t.loadSounds=[],t.videos=[],t.actions=[],t.instances=[],t.placeObjects=[],t.fonts=[],t.isAction=!0,t._global=new re,t.touchObj=null,t.touchStatus="up",t.overObj=null,t.touchEndAction=null,t.imgUnLoadCount=0,t.scale=1,t.baseWidth=0,t.baseHeight=0,t.width=0,t.height=0,t.isHit=!1,t.isTouchEvent=!1,t.isLoad=!1,t.jpegTables=null,t.backgroundColor="transparent",t.version=8,t.loadStatus=0,t.isClipDepth=!1,t.clipDepth=0,t.clipMc=!1,t.dragMc=null,t.dragRules=null,t.scaleMode="showAll",t.align="",t.avm2=new oe(t),t.abc=new oe(t),t.symbols=[],t.abcFlag=!1,t.doneTags=[],t.newTags=[];var e=new Gt;e.setStage(t),t.setParent(e)};ae.prototype.getId=function(){return this.id},ae.prototype.setId=function(t){this.id=t},ae.prototype.getParent=function(){return this.parent},ae.prototype.setParent=function(t){this.parent=t},ae.prototype.getVersion=function(){return this.version},ae.prototype.setVersion=function(t){this.version=t},ae.prototype.getBackgroundColor=function(){return this.backgroundColor},ae.prototype.setBackgroundColor=function(t,e,r){this.backgroundColor="rgb("+t+","+e+","+r+")"},ae.prototype.getGlobal=function(){return this._global},ae.prototype.play=function(){var t=this;t.stopFlag=!1;var e;t.intervalId=x((e=t,function(){_((function(){e.isLoad&&!e.stopFlag&&e.nextFrame()}),0)}),t.getFrameRate())},ae.prototype.stop=function(){this.stopFlag=!0,k(this.intervalId)},ae.prototype.getName=function(){return this.name},ae.prototype.setName=function(t){this.name=t},ae.prototype.setOptions=function(t){if(void 0!==t){var e=this;switch(e.optionWidth=t.width||e.optionWidth,e.optionHeight=t.height||e.optionHeight,e.callback=t.callback||e.callback,e.tagId=t.tagId||e.tagId,e.renderMode=t.renderMode||e.renderMode,e.FlashVars=t.FlashVars||e.FlashVars,e.quality=t.quality||e.quality,e.bgcolor=t.bgcolor||e.bgcolor,e.quality){case"low":K=.5*z;break;case"high":K=z}}},ae.prototype.getBaseWidth=function(){return this.baseWidth},ae.prototype.setBaseWidth=function(t){this.baseWidth=t},ae.prototype.getBaseHeight=function(){return this.baseHeight},ae.prototype.setBaseHeight=function(t){this.baseHeight=t},ae.prototype.getWidth=function(){return this.width},ae.prototype.setWidth=function(t){t<0&&(t*=-1),this.width=t},ae.prototype.getHeight=function(){return this.height},ae.prototype.setHeight=function(t){t<0&&(t*=-1),this.height=t},ae.prototype.getScale=function(){return this.scale},ae.prototype.setScale=function(t){this.scale=t},ae.prototype.getMatrix=function(){return this.matrix},ae.prototype.setMatrix=function(t){this.matrix=t},ae.prototype.getCharacter=function(t){return this.characters[t]},ae.prototype.setCharacter=function(t,e){this.characters[t]=e},ae.prototype.getInstance=function(t){return this.instances[t]},ae.prototype.setInstance=function(t){this.instances[t.instanceId]=t},ae.prototype.getPlaceObject=function(t,e,r){var o=this.placeObjects;if(!(t in o))return null;var a=o[t];if(!(r in a))return null;var n=a[r];return e in n?n[e]:null},ae.prototype.setPlaceObject=function(t,e,r,o){var a=this.placeObjects;e in a||(a[e]=[]),o in a[e]||(a[e][o]=[]),a[e][o][r]=t},ae.prototype.copyPlaceObject=function(t,e,r){var o=this.getPlaceObject(t,e,r-1);this.setPlaceObject(o,t,e,r)},ae.prototype.removePlaceObject=function(t){delete this.placeObjects[t]},ae.prototype.getFrameRate=function(){return this.frameRate},ae.prototype.setFrameRate=function(t){this.frameRate=1e3/t|0},ae.prototype.loadEvent=function(){var t=this;switch(t.loadStatus){case 2:t.resize(),t.loadStatus++;break;case 3:if(!t.isLoad||!t.stopFlag||t.imgUnLoadCount>0)break;t.loadStatus++,t.loaded()}4!==t.loadStatus&&I((function(){t.loadEvent()}),0)},ae.prototype.parse=function(t,e){var r=this;r.isLoad=!1;var o=new ut,a=new ht(r,o);if(V?o.setData(new Uint8Array(t)):o.init(t),r.setSwfHeader(o,a)){var n=r.getParent();n._url=location.href;var i=a.parse(n);n.container=[];for(var s=1,c=n.getTotalFrames()+1;s<c;)n.container[s++]=[];n.instances=[],a.build(i,n);var l=e.split("?")[1];if(l)for(var p=l.split("&"),g=p.length;g--;){var u=p[g].split("=");u.length>1&&n.setVariable(u[0],u[1])}var f=r.FlashVars;for(var h in f)f.hasOwnProperty(h)&&n.setVariable(h,f[h])}r.isLoad=!0},ae.prototype.setSwfHeader=function(t,e){var r=this,o=t.data;if(255===o[0]&&216===o[1])return r.parseJPEG(o,e),!1;var a=t.getHeaderSignature(),n=t.getVersion();r.setVersion(n);var s=t.getUI32();switch(r.fileSize=s,a){case"FWS":break;case"CWS":t.deCompress(s,"ZLIB");break;case"ZWS":return M("not support LZMA"),!1}var c=e.rect(),l=t.getUI16()/256;return t.getUI16(),r.setBaseWidth(i((c.xMax-c.xMin)/20)),r.setBaseHeight(i((c.yMax-c.yMin)/20)),r.setFrameRate(l),r.loadStatus++,!0},ae.prototype.parseJPEG=function(t,r){var o=this,a=e.createElement("img");a.addEventListener("load",(function(){var t=this.width,e=this.height,r=gt.getCanvas();r.width=t,r.height=e;var a=r.getContext("2d");a.drawImage(this,0,0,t,e),o.setCharacter(1,a);var n=20*t,i=20*e;o.setBaseWidth(t),o.setBaseHeight(e);var s={ShapeRecords:[{FillStyle1:1,StateFillStyle0:0,StateFillStyle1:1,StateLineStyle:0,StateMoveTo:0,StateNewStyles:0,isChange:!0},{AnchorX:n,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:n,AnchorY:i,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:i,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},0],fillStyles:{fillStyleCount:1,fillStyles:[{bitmapId:1,bitmapMatrix:[20,0,0,20,0,0],fillStyleType:65}]},lineStyles:{lineStyleCount:0,lineStyles:[]}},c={xMin:0,xMax:n,yMin:0,yMax:i},l=lt.convert(s);o.setCharacter(2,{tagType:22,data:l,bounds:c});var p=o.getParent(),g=new Lt;g.setParent(p),g.setStage(o),g.setData(l),g.setTagType(22),g.setCharacterId(2),g.setBounds(c),g.setLevel(1),p.container[1]=[],p.container[1][1]=g.instanceId;var u=new ft;o.setPlaceObject(u,g.instanceId,1,1),o.init()}));for(var n=t.length,i=0;i<n;i++)S(t[i]);var s=r.parseJpegData(t);a.src="data:image/jpeg;base64,"+r.base64encode(s)},ae.prototype.resize=function(){var r=this,n=e.getElementById(r.getName());if(!n)return 0;var i=r.optionWidth,s=r.optionHeight,c=e.documentElement,l=a(c.clientWidth,t.innerWidth||0),p=a(c.clientHeight,t.innerHeight||0),g=n.parentNode;"BODY"!==g.tagName&&(l=g.offsetWidth,p=g.offsetHeight);var u=i>0?i:l,f=s>0?s:p,h=r.getBaseWidth(),d=r.getBaseHeight(),v=o(u/h,f/d),y=h*v,b=d*v;if(y!==r.getWidth()||b!==r.getHeight()){var m=n.style;m.width=y+"px",m.height=b+"px",m.top=0,m.left=u/2-y/2+"px",y*=z,b*=z,r.setScale(v),r.setWidth(y),r.setHeight(b);var S=r.context.canvas;S.width=y,S.height=b;var A=r.preContext.canvas;A.width=y,A.height=b;var I=r.hitContext.canvas;if(I.width=y,I.height=b,H&&G){var C=w.canvas;C.width=y,C.height=b}var x=r.getParent(),k=v*K/20;r.setMatrix(x.cloneArray([k,0,0,k,0,0]))}},ae.prototype.loaded=function(){var r=this;r.buttonHits=[],r.downEventHits=[],r.moveEventHits=[],r.upEventHits=[],r.keyDownEventHits=[],r.keyUpEventHits=[],r.actions=[],r.deleteNode();var o=e.getElementById(r.getName());if(o){var a=r.getParent();a.initFrame(),a.addActions(r),r.executeAction();var n=r.callback;"function"==typeof n&&n.call(t,a),r.render(),r.renderMain();var i=r.context.canvas;if(Z){var s=r.loadSounds,c=s.length;if(c){var l=function(){i.removeEventListener(Q,l);for(var t=c;t--;){if(t in s)s[t].load()}};i.addEventListener(Q,l)}}i.addEventListener(Q,(function(t){q=t,r.touchStart(t)})),i.addEventListener($,(function(t){q=t,r.touchMove(t)})),i.addEventListener(tt,(function(t){q=t,r.touchEnd(t)})),o.appendChild(i),r.play()}},ae.prototype.deleteNode=function(t){var r=e.getElementById(t||this.getName());if(r){var o=r.childNodes,a=o.length;if(a)for(;a--;)r.removeChild(o[a])}},ae.prototype.nextFrame=function(){var t=this;t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[];var e=t.getParent(),r=t.mouse.events,o=r.onMouseDown;o&&(t.downEventHits[t.downEventHits.length]={as:o,mc:e});var a=r.onMouseMove;a&&(t.moveEventHits[t.moveEventHits.length]={as:a,mc:e});var n=r.onMouseUp;n&&(t.upEventHits[t.upEventHits.length]={as:n,mc:e}),t.putFrame(),t.addActions(),t.executeAction(),t.render(),t.renderMain()},ae.prototype.putFrame=function(){var t=this;t.newTags=[];var e=t.doneTags,r=e.length;if(r){wt.type="enterFrame";for(var o=0;o<r;){e[o].putFrame(t,wt),o++}}},ae.prototype.addActions=function(){var t=this.newTags,e=t.length;if(e)for(var r=0;r<e;){t[r].addActions(this),r++}},ae.prototype.render=function(){var t=this;t.buttonHits=[],t.doneTags=[];var e=t.preContext;e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0);var r=t.getBackgroundColor();if(r&&"transparent"!==r)e.fillStyle=r,e.fillRect(0,0,t.getWidth()+1,t.getHeight()+1);else{var o=e.canvas;e.clearRect(0,0,o.width+1,o.height+1),t.context.clearRect(0,0,o.width+1,o.height+1)}t.getParent().render(e,t._matrix,t._colorTransform,t,!0)},ae.prototype.executeAction=function(){var t=this;if(t.isAction&&t.actions.length){t.isAction=!1;for(var e=0;e<t.actions.length;){var r=t.actions[e];e++;var o=r.mc,a=r.args||[];if(o.active){var n=r.as;if("function"==typeof n)n.apply(o,a);else{var i=n.length;if(!i)continue;for(var s=0;s<i;)if(s in n){var c=n[s];"function"==typeof c&&c.apply(o,a),s++}}}}}t.actions=[],t.isAction=!0},ae.prototype.buttonAction=function(t,e){var r=this;r.downEventHits=[],r.moveEventHits=[],r.upEventHits=[],r.keyDownEventHits=[],r.keyUpEventHits=[],e.execute(t),r.executeAction()},ae.prototype.renderMain=function(){var t=this.preContext.canvas,e=t.width,r=t.height;if(e>0&&r>0){var o=this.context;o.setTransform(1,0,0,1,0,0),o.drawImage(t,0,0,e,r)}},ae.prototype.reset=function(){var t=this;t.instanceId=0;var e=new Gt;e.reset(),e.setStage(t),t.parent=e,t.characters=[],t.instances=[],t.buttonHits=[],t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[],t.sounds=[],t.loadSounds=[],t.actions=[]},ae.prototype.init=function(){var r,o=this,a=o.tagId;if(o.getId()in O)if(a){if("loading"===e.readyState){var n=function(){t.removeEventListener("DOMContentLoaded",n),o.init()};return t.addEventListener("DOMContentLoaded",n),0}var i=e.getElementById(a);if(!i)return M("Not Found Tag ID:"+a),0;(r=e.getElementById(o.getName()))?o.deleteNode():((r=e.createElement("div")).id=o.getName(),i.appendChild(r))}else e.body.insertAdjacentHTML("beforeend","<div id='"+o.getName()+"'></div>");(r=e.getElementById(o.getName()))&&(o.initStyle(r),o.loading()),o.canvas||o.initCanvas(),o.loadStatus++,o.loadEvent()},ae.prototype.initStyle=function(e){var r;(r=e.style).position="relative",r.top="0",r.backgroundColor="transparent",r.overflow="hidden",r["-webkit-backface-visibility"]="hidden";var o,a,n=e.parentNode,i=this.optionWidth,s=this.optionHeight;"BODY"===n.tagName?(o=i>0?i:t.innerWidth,a=s>0?s:t.innerHeight):(o=i>0?i:n.offsetWidth,a=s>0?s:n.offsetHeight),r.width=o+"px",r.height=a+"px",r["-webkit-user-select"]="none"},ae.prototype.initCanvas=function(){var r,o=this,a=e.createElement("canvas");a.width=1,a.height=1,(r=a.style).zIndex=0,r.position="absolute",r.top=0,r.left=0,r.zoom=100/K+"%",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.MozTransformOrigin="0 0",r.MozTransform="scale("+1/K+")",H&&a.addEventListener("touchcancel",(function(){o.touchEnd(q)})),Z||(t.addEventListener("keydown",ee),t.addEventListener("keyup",te),t.addEventListener("keyup",(function(t){J=t,o.touchEnd(t)}))),o.context=a.getContext("2d"),o.canvas=a;var n=e.createElement("canvas");n.width=1,n.height=1,o.preContext=n.getContext("2d");var i=e.createElement("canvas");i.width=1,i.height=1,o.hitContext=i.getContext("2d")},ae.prototype.loading=function(){var t=e.getElementById(this.getName()),r=this.getName()+"_loading",o="<style>";o+="#"+r+" {\n",o+="position: absolute;\n",o+="top: 50%;\n",o+="left: 50%;\n",o+="margin: -24px 0 0 -24px;\n",o+="width: 50px;\n",o+="height: 50px;\n",o+="border-radius: 50px;\n",o+="border: 8px solid #dcdcdc;\n",o+="border-right-color: transparent;\n",o+="box-sizing: border-box;\n",o+="-webkit-animation: "+r+" 0.8s infinite linear;\n",o+="animation: "+r+" 0.8s infinite linear;\n",o+="} \n",o+="@-webkit-keyframes "+r+" {\n",o+="0% {-webkit-transform: rotate(0deg);}\n",o+="100% {-webkit-transform: rotate(360deg);}\n",o+="} \n",o+="@keyframes "+r+" {\n",o+="0% {transform: rotate(0deg);}\n",o+="100% {transform: rotate(360deg);}\n",o+="} \n",o+="</style>",t.innerHTML=o;var a=e.createElement("div");a.id=r,t.appendChild(a)},ae.prototype.reload=function(e,r){var o=this;return o.stop(),4===o.loadStatus&&o.deleteNode(),o.loadStatus=0,o.isLoad=!1,o.reset(),t.swf2js.load(e,{optionWidth:r.optionWidth||o.optionWidth,optionHeight:r.optionHeight||o.optionHeight,callback:r.callback||o.callback,tagId:r.tagId||o.tagId,renderMode:r.renderMode||o.renderMode,FlashVars:r.FlashVars||o.FlashVars,quality:r.quality||o.quality,bgcolor:r.bgcolor||o.bgcolor,stage:o})},ae.prototype.output=function(t,e,r,o){var a=this;if(!a.isLoad||a.stopFlag)return I((function(){a.output(t,e,r,o)}),500),0;a.stop(),e=e||1,r=r||a.getWidth(),o=o||a.getHeight();var n=a.getParent();n.reset(),n.gotoAndStop(e),r===a.getWidth()&&o===a.getHeight()||(a.optionWidth=r,a.optionHeight=o,a.resize()),n.addActions();var i=a.preContext.canvas;i.style.backgroundColor=a.backgroundColor,a.render();var s=new XMLHttpRequest;s.open("POST",t,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(4===s.readyState)switch(s.status){case 200:case 304:F.log("OUTPUT SUCCESS");break;default:M(s.statusText)}};var c=i.toDataURL();s.send("data="+encodeURIComponent(c))},ae.prototype.hitCheck=function(r){var o=this;o.isHit=!1;var a=o.buttonHits,n=a.length;if(!n)return 0;var i=e.getElementById(o.getName()).getBoundingClientRect(),s=t.pageXOffset+i.left,c=t.pageYOffset+i.top,l=0,p=0;if(Z){var g=r.changedTouches[0];l=g.pageX,p=g.pageY}else l=r.pageX,p=r.pageY;l-=s,p-=c;var u=o.getScale();l/=u,p/=u;var f=o.hitContext,h=f.canvas,d=h.width,v=h.height,y=l*u*K,b=p*u*K;if(o.abcFlag){var m=o.getParent();f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,d,v);var S=m.hitCheck(f,[1,0,0,1,0,0],o,y,b);return"object"==typeof S&&S}for(var A=n;A--;)if(A in a){var I=a[A];if(void 0!==I){var C=!1;if(l>=I.xMin&&l<=I.xMax&&p>=I.yMin&&p<=I.yMax){var x=I.matrix;if(x){var k=I.parent,T=I.button;f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,d,v),C=T?T.renderHitTest(f,x,o,y,b):k.renderHitTest(f,x,o,y,b)}else C=!0}if(C)return r.preventDefault(),o.isHit=!0,I}}return 0},ae.prototype.executeEventAction=function(t,e,r){var o=r||[];if(t){if("function"==typeof t)t.apply(e,o);else{var a=t.length;if(a)for(var n=0;n<a;){var i=t[n];"function"==typeof i&&i.apply(e,o),n++}}this.executeAction()}},ae.prototype.touchStart=function(t){var e=this;if("up"===e.touchStatus){e.touchStatus="down",e.isHit=!1,e.isTouchEvent=!0,e.touchEndAction=null;var r,o,a=e.downEventHits,n=a.length;if(n){t.preventDefault();for(var i=0;i<n;i++){var s=a[i];r=s.mc,(o=s.as)||(o=r.variables.onMouseDown),e.executeEventAction(o,s.mc)}e.downEventHits=[]}var c=e.hitCheck(t);e.isHit&&((r=c.parent).active&&(r.setButtonStatus("down"),r instanceof Nt?e.appendTextArea(r,c):e.executePress(r,c)),null===e.touchObj&&(e.touchObj=c))}},ae.prototype.executePress=function(t,e){var r,o,a,n,i,s=this,c=!1,l=new Ut;r=t.events,Z&&((n=r.rollOver)&&(l.type="rollOver",l.target=t,s.executeEventAction(n,t,[l]),c=!0),"function"==typeof(i=t.variables.onRollOver)&&(s.executeEventAction(i,t),c=!0)),(o=(r=t.events).press)&&(l.type="press",l.target=t,s.executeEventAction(o,t,[l]),c=!0),"function"==typeof(a=t.variables.onPress)&&(s.executeEventAction(a,t),c=!0);var p=e.button;if(p){r=p.events,Z&&((n=r.rollOver)&&(l.type="rollOver",l.target=p,s.executeEventAction(n,p,[l])),"function"==typeof(i=p.variables.onRollOver)&&s.executeEventAction(i,p)),p.setButtonStatus("down"),Z&&s.executeButtonAction(p,t,"CondIdleToOverUp");var g=p.getActions(),u=g.length;if(u)for(var f=s.touchObj,h=0;h<u;h++)if(h in g){var d=g[h];if(d.CondOverDownToOverUp&&null===f)s.touchEndAction=d.ActionScript;else{var v=d.CondKeyPress;13===e.CondKeyPress&&e.CondKeyPress!==v||(Z?(13===v||v>=48&&v<=57||d.CondOverUpToOverDown)&&s.buttonAction(t,d.ActionScript):d.CondOverUpToOverDown&&s.buttonAction(t,d.ActionScript))}}(o=r.press)&&(l.type="press",l.target=p,s.executeEventAction(o,p,[l])),"function"==typeof(a=p.variables.onPress)&&s.executeEventAction(a,p),p.getSprite().startSound(),p.addActions(s),s.executeAction(),c=!0}c&&s.touchRender()},ae.prototype.appendTextArea=function(t,r){t.inputActive=!0;var o,a=e.getElementById(t.getTagName());if(!a){a=t.input;var n,s=t.getProperty("variable");if(s)void 0===(n=t.getParent().getProperty(s))&&(n=t.getVariable("text"));void 0!==n&&(a.value=n);var c=t.getVariable("maxChars");if(c&&(a.maxLength=c),t.getVariable("border")){a.style.border="1px solid black";var l=t.getVariable("backgroundColor");a.style.backgroundColor="rgba("+l.R+","+l.G+","+l.B+","+l.A+")"}var p=this.getScale(),g=r.xMin,u=r.yMin,f=r.xMax-g,h=r.yMax-u;a.style.left=i(g*p)-3+"px",a.style.top=i(u*p)-3+"px",a.style.width=i(f*p)+6+"px",a.style.height=i(h*p)+6+"px";var d=e.getElementById(this.getName());if(d){d.appendChild(a),a.focus();I((o=a,function(){o.focus()}),10)}}},ae.prototype.touchMove=function(t){var e,r,o,a,n,i,s,c,l,p,g,u=this,f=u.overObj,h=u.moveEventHits,d=h.length,v=new Ut;if(d){t.preventDefault();for(var y=0;y<d;y++){var b=h[y];e=b.mc,(r=b.as)||(r=e.variables.onMouseMove),u.executeEventAction(r,e)}u.moveEventHits=[]}if(!Z||Z&&u.isTouchEvent){var m=null,S=u.touchObj;(S||"up"===u.touchStatus)&&(m=u.hitCheck(t));var A=!1;if(!Z){var I=u.canvas;u.isHit||S?I.style.cursor=m?"pointer":"auto":I.style.cursor="auto"}S?(o=S.button,(e=S.parent).active&&(u.overObj=m,m&&m.parent.instanceId===e.instanceId&&m.button===o?("up"===e.getButtonStatus()&&(e.setButtonStatus("down"),(a=e.events.dragOver)&&(v.type="dragOver",v.target=e,A=!0,u.executeEventAction(a,e,[v])),"function"==typeof(n=e.variables.onDragOver)&&(A=!0,u.executeEventAction(n,e))),o&&"up"===o.getButtonStatus()&&(o.setButtonStatus("down"),o.getSprite().startSound(),(a=o.events.dragOver)&&(v.type="dragOver",v.target=o,A=!0,u.executeEventAction(a,o,[v])),"function"==typeof(n=o.variables.onDragOver)&&(A=!0,u.executeEventAction(n,o)),o.addActions(u),u.executeAction())):("down"===e.getButtonStatus()&&((i=e.events.dragOut)&&(v.type="dragOut",v.target=e,A=!0,u.executeEventAction(i,e,[v])),"function"==typeof(s=e.variables.onDragOut)&&(A=!0,u.executeEventAction(s,e))),e.setButtonStatus("up"),o&&"down"===o.getButtonStatus()&&(o.setButtonStatus("up"),(i=o.events.dragOut)&&(v.type="dragOut",v.target=o,A=!0,u.executeEventAction(i,o,[v])),"function"==typeof(s=o.variables.onDragOut)&&(A=!0,u.executeEventAction(s,o)),o.addActions(u),u.executeAction())))):m?(f&&(o=f.button)&&o!==m.button&&(e=f.parent).active&&(o.setButtonStatus("up"),u.executeButtonAction(o,e,"CondOverUpToIdle")),o=m.button,e=m.parent,!Z&&e.active&&(f&&f.parent===e||((c=e.events.rollOver)&&(v.type="rollOver",v.target=e,A=!0,u.executeEventAction(c,e,[v])),"function"==typeof(l=e.variables.onRollOver)&&(A=!0,u.executeEventAction(l,e)))),o&&(o.setButtonStatus("over"),o.getSprite().startSound(),Z||f&&f.button===o||(A=!0,u.executeButtonAction(o,e,"CondIdleToOverUp"),(c=o.events.rollOver)&&(v.type="rollOver",v.target=o,A=!0,u.executeEventAction(c,o,[v])),"function"==typeof(l=o.variables.onRollOver)&&u.executeEventAction(l,o)),o.addActions(u),u.executeAction()),u.overObj=m):"up"===u.touchStatus&&(u.overObj=null),!S&&f&&(o=f.button,(e=f.parent).active&&(m&&m.parent===e||(e.setButtonStatus("up"),(p=e.events.rollOut)&&(v.type="rollOut",v.target=e,A=!0,u.executeEventAction(p,e,[v])),"function"==typeof(g=e.variables.onRollOut)&&(A=!0,u.executeEventAction(g,e))),!o||m&&m.button===o||(o.setButtonStatus("up"),u.executeButtonAction(o,e,"CondOverUpToIdle"),(p=o.events.rollOut)&&(v.type="rollOut",v.target=o,A=!0,u.executeEventAction(p,o,[v])),"function"==typeof(g=o.variables.onRollOut)&&(A=!0,u.executeEventAction(g,o)),o.addActions(u),u.executeAction()))),A&&u.touchRender()}var C=u.dragMc;C&&(t.preventDefault(),C.executeDrag(),u.isHit=!0)},ae.prototype.touchEnd=function(t){var e,r,o,a,n,i,s,c=this,l=new Ut,p=c.touchObj;p&&(e=p.button)&&e.setButtonStatus("up");var g=c.upEventHits,u=g.length;if(u){t.preventDefault();for(var f=0;f<u;f++){var h=g[f];r=h.mc,(o=h.as)||(o=r.variables.onMouseUp),c.executeEventAction(o,h.mc)}c.upEventHits=[]}var d=c.hitCheck(t);c.dragMc&&(d=p,c.isHit=!0);var v,y,b=!1;if(p){if((r=p.parent).setButtonStatus("up"),e=p.button,c.isHit){var m=c.touchEndAction;if(r.active&&(r===d.parent&&(null!==m&&(c.buttonAction(r,m),b=!0),(a=r.events.release)&&(l.type="release",l.target=r,c.executeEventAction(a,r,[l]),b=!0),"function"==typeof(n=r.variables.onRelease)&&(c.executeEventAction(n,r),b=!0)),e)){e===d.button&&((a=e.events.release)&&(l.type="release",l.target=e,c.executeEventAction(a,e,[l])),"function"==typeof(n=e.variables.onRelease)&&c.executeEventAction(n,e));var S="up";Z||d&&d.button===e&&(S="over"),e.setButtonStatus(S),e.getSprite("hit").startSound(),e.addActions(c),c.executeAction(),b=!0}}!r.active||d&&r===d.parent||((i=r.events.releaseOutside)&&(l.type="releaseOutside",l.target=r,c.executeEventAction(i,r,[l]),b=!0),"function"==typeof(s=r.variables.onReleaseOutside)&&(c.executeEventAction(s,r),b=!0)),!e||d&&e===d.button||(b=!0,(i=e.events.releaseOutside)&&(l.type="releaseOutside",l.target=e,c.executeEventAction(i,e,[l]),b=!0),"function"==typeof(s=e.variables.onReleaseOutside)&&c.executeEventAction(s,e),e.setButtonStatus("up"),e.addActions(c),c.executeAction())}if(c.isHit=!1,c.isTouchEvent=!1,c.touchObj=null,c.touchStatus="up",!Z){c.hitCheck(t);var A=c.canvas;c.isHit?A.style.cursor="pointer":A.style.cursor="auto"}d&&(r=d.parent,p&&r===p.parent||((v=r.events.rollOver)&&(b=!0,l.type="rollOver",l.target=r,c.executeEventAction(v,r,[l])),"function"==typeof(y=r.variables.onRollOver)&&(b=!0,c.executeEventAction(y,r))),(e=d.button)&&(p&&e===p.button||((v=e.events.rollOver)&&(b=!0,l.type="rollOver",l.target=e,c.executeEventAction(v,e,[l])),"function"==typeof(y=e.variables.onRollOver)&&(b=!0,c.executeEventAction(y,e)))));b&&(t.preventDefault(),c.touchRender()),J=null},ae.prototype.executeButtonAction=function(t,e,r){var o=t.getActions(),a=o.length;if(a)for(var n=0;n<a;n++)if(n in o){var i=o[n];i[r]&&this.buttonAction(e,i.ActionScript)}},ae.prototype.touchRender=function(){this.render(),this.renderMain()};var ne=function(){};ne.prototype.DropShadowFilter=St,ne.prototype.BlurFilter=mt,ne.prototype.GlowFilter=At,ne.prototype.BevelFilter=It,ne.prototype.GradientGlowFilter=Ct,ne.prototype.ConvolutionFilter=xt,ne.prototype.ColorMatrixFilter=kt,ne.prototype.GradientBevelFilter=Tt,ne.prototype.BitmapFilter=bt,ne.prototype.LoadVars=Vt,ne.prototype.load=function(t,e){if("develop"===t&&(t=location.search.substr(1).split("&")[0]),t){var r=e&&e.stage instanceof ae?e.stage:new ae;r.setOptions(e),O[r.getId()]=r,r.init();var o=new XMLHttpRequest;o.open("GET",t,!0),V?o.responseType="arraybuffer":o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(){if(4===o.readyState)switch(o.status){case 200:case 304:var e=V?o.response:o.responseText;r.parse(e,t),gt.reset();break;default:M(o.statusText)}},o.send(null)}else M("please set swf url")},ne.prototype.reload=function(t,e){if(!P)return this.load(t,e);var r=O[0];for(var o in O)if(O.hasOwnProperty(o)){var a=O[o];a.stop(),o&&(a.deleteNode(a.tagId),a=void 0)}P=1,D=[],(O=[])[0]=r,r.reload(t,e)},ne.prototype.createRootMovieClip=function(r,o,a,n){var i=new ae;if(r=r||240,o=o||240,a=a||60,i.setBaseWidth(r),i.setBaseHeight(o),i.setFrameRate(a),i.setOptions(n),O[i.getId()]=i,i.init(),i.isLoad=!0,"loading"===e.readyState){var s=function(){t.removeEventListener("DOMContentLoaded",s,!1),i.resize(),i.loaded()};t.addEventListener("DOMContentLoaded",s,!1)}return i.getParent()},t.swf2js=new ne}(window);
