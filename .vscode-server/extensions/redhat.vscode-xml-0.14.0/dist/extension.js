module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=43)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("vscode")},function(e,t,n){var i,r,o=n(4),s=n(85),a=n(86),c=n(87),u=n(12);function l(e,t){Object.defineProperty(e,i,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(i=Symbol.for("graceful-fs.queue"),r=Symbol.for("graceful-fs.previous")):(i="___graceful-fs.queue",r="___graceful-fs.previous");var d=function(){};if(u.debuglog?d=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[i]){var h=global[i]||[];l(o,h),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,r,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),m()}return Object.defineProperty(t,r,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(o[i]),n(15).equal(o[i].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,i){"function"==typeof n&&(i=n,n=null);return function e(n,i,r){return t(n,i,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof r&&r.apply(this,arguments),m()):p([e,[n,i,r]])}))}(e,n,i)};var n=e.writeFile;e.writeFile=function(e,t,i,r){"function"==typeof i&&(r=i,i=null);return function e(t,i,r,o){return n(t,i,r,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),m()):p([e,[t,i,r,o]])}))}(e,t,i,r)};var i=e.appendFile;i&&(e.appendFile=function(e,t,n,r){"function"==typeof n&&(r=n,n=null);return function e(t,n,r,o){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),m()):p([e,[t,n,r,o]])}))}(e,t,n,r)});var r=e.readdir;function o(t){return r.apply(e,t)}if(e.readdir=function(e,t,n){var i=[e];"function"!=typeof t?i.push(t):n=t;return i.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),m()):p([o,[i]])})),o(i)},"v0.8"===process.version.substr(0,4)){var c=a(e);g=c.ReadStream,v=c.WriteStream}var u=e.ReadStream;u&&(g.prototype=Object.create(u.prototype),g.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var l=e.WriteStream;l&&(v.prototype=Object.create(l.prototype),v.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return v},set:function(e){v=e},enumerable:!0,configurable:!0});var d=g;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var h=v;function g(e,t){return this instanceof g?(u.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function v(e,t){return this instanceof v?(l.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var y=e.open;function w(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,r){return y(t,n,i,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof r&&r.apply(this,arguments),m()):p([e,[t,n,i,r]])}))}(e,t,n,i)}return e.open=w,e}function p(e){d("ENQUEUE",e[0].name,e[1]),o[i].push(e)}function m(){var e=o[i].shift();e&&(d("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}global[i]||l(global,o[i]),e.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((t,n)=>{arguments[arguments.length]=(e,i)=>{if(e)return n(e);t(i)},arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then(e=>t(null,e),t)}),"name",{value:e.name})}},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);t.ErrorCodes=r.ErrorCodes,t.ResponseError=r.ResponseError,t.CancellationToken=r.CancellationToken,t.CancellationTokenSource=r.CancellationTokenSource,t.Disposable=r.Disposable,t.Event=r.Event,t.Emitter=r.Emitter,t.Trace=r.Trace,t.TraceFormat=r.TraceFormat,t.SetTraceNotification=r.SetTraceNotification,t.LogTraceNotification=r.LogTraceNotification,t.RequestType=r.RequestType,t.RequestType0=r.RequestType0,t.NotificationType=r.NotificationType,t.NotificationType0=r.NotificationType0,t.MessageReader=r.MessageReader,t.MessageWriter=r.MessageWriter,t.ConnectionStrategy=r.ConnectionStrategy,t.StreamMessageReader=r.StreamMessageReader,t.StreamMessageWriter=r.StreamMessageWriter,t.IPCMessageReader=r.IPCMessageReader,t.IPCMessageWriter=r.IPCMessageWriter,t.createClientPipeTransport=r.createClientPipeTransport,t.createServerPipeTransport=r.createServerPipeTransport,t.generateRandomPipeName=r.generateRandomPipeName,t.createClientSocketTransport=r.createClientSocketTransport,t.createServerSocketTransport=r.createServerSocketTransport,i(n(52)),i(n(53)),t.createProtocolConnection=function(e,t,n,i){return r.createMessageConnection(e,t,n,i)}},function(e,t,n){"use strict";const i=(0,n(3).fromCallback)(n(89)),r=n(90);e.exports={mkdirs:i,mkdirsSync:r,mkdirp:i,mkdirpSync:r,ensureDir:i,ensureDirSync:r}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),o=n(46);t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n(20);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n(21);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=n(17);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const u=n(47);t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const l=n(48);var d,h,f,p,m,g,v;i(n(49)),i(n(51)),function(e){e.type=new o.NotificationType("$/cancelRequest")}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(p=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class y extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,y.prototype)}}function w(e,t,n,i){let s=0,a=0,w=0;let _,C,S=void 0,b=Object.create(null),E=void 0,x=Object.create(null),R=new l.LinkedMap,k=Object.create(null),T=Object.create(null),D=h.Off,O=f.Text,P=v.New,N=new c.Emitter,F=new c.Emitter,M=new c.Emitter,L=new c.Emitter;function q(e){return"req-"+e.toString()}function I(e,t){var n;o.isRequestMessage(t)?e.set(q(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++w).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}function A(e){}function j(){return P===v.Listening}function K(){return P===v.Closed}function W(){return P===v.Disposed}function U(){P!==v.New&&P!==v.Listening||(P=v.Closed,F.fire(void 0))}function H(){_||0===R.size||(_=setImmediate(()=>{_=void 0,function(){if(0===R.size)return;let e=R.shift();try{o.isRequestMessage(e)?function(e){if(W())return;function n(n,i,r){let s={jsonrpc:"2.0",id:e.id};n instanceof o.ResponseError?s.error=n.toJson():s.result=void 0===n?null:n,z(s,i,r),t.write(s)}function i(n,i,r){let o={jsonrpc:"2.0",id:e.id,error:n.toJson()};z(o,i,r),t.write(o)}!function(e){if(D===h.Off||!C)return;if(O===f.Text){let t=void 0;D===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),C.log(`Received request '${e.method} - (${e.id})'.`,t)}else G("receive-request",e)}(e);let s,a,c=b[e.method];c&&(s=c.type,a=c.handler);let l=Date.now();if(a||S){let c=new u.CancellationTokenSource,d=String(e.id);T[d]=c;try{let u;u=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(c.token):S(e.method,c.token):r.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,c.token):S(e.method,...e.params,c.token):a?a(e.params,c.token):S(e.method,e.params,c.token);let h=u;u?h.then?h.then(t=>{delete T[d],n(t,e.method,l)},t=>{delete T[d],t instanceof o.ResponseError?i(t,e.method,l):t&&r.string(t.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}):(delete T[d],n(u,e.method,l)):(delete T[d],function(n,i,r){void 0===n&&(n=null);let o={jsonrpc:"2.0",id:e.id,result:n};z(o,i,r),t.write(o)}(u,e.method,l))}catch(t){delete T[d],t instanceof o.ResponseError?n(t,e.method,l):t&&r.string(t.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else i(new o.ResponseError(o.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,l)}(e):o.isNotificationMessage(e)?function(e){if(W())return;let t,i=void 0;if(e.method===d.type.method)t=e=>{let t=e.id,n=T[String(t)];n&&n.cancel()};else{let n=x[e.method];n&&(t=n.handler,i=n.type)}if(t||E)try{!function(e){if(D===h.Off||!C||e.method===m.type.method)return;if(O===f.Text){let t=void 0;D===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),C.log(`Received notification '${e.method}'.`,t)}else G("receive-notification",e)}(e),void 0===e.params||void 0!==i&&0===i.numberOfParams?t?t():E(e.method):r.array(e.params)&&(void 0===i||i.numberOfParams>1)?t?t(...e.params):E(e.method,...e.params):t?t(e.params):E(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else M.fire(e)}(e):o.isResponseMessage(e)?function(e){if(W())return;if(null===e.id)e.error?n.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),i=k[t];if(function(e,t){if(D===h.Off||!C)return;if(O===f.Text){let n=void 0;if(D===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let i=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";C.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${i}`,n)}else C.log(`Received response ${e.id} without active response promise.`,n)}else G("receive-response",e)}(e,i),i){delete k[t];try{if(e.error){let t=e.error;i.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");i.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${i.method}' failed with message: ${e.message}`):n.error(`Response handler '${i.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));let t=e;if(r.string(t.id)||r.number(t.id)){let e=String(t.id),n=k[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{H()}}()}))}e.onClose(U),e.onError((function(e){N.fire([e,void 0,void 0])})),t.onClose(U),t.onError((function(e){N.fire(e)}));let $=e=>{try{if(o.isNotificationMessage(e)&&e.method===d.type.method){let n=q(e.params.id),r=R.get(n);if(o.isRequestMessage(r)){let o=i&&i.cancelUndispatched?i.cancelUndispatched(r,A):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return R.delete(n),o.id=r.id,z(o,e.method,Date.now()),void t.write(o)}}I(R,e)}finally{H()}};function z(e,t,n){if(D!==h.Off&&C)if(O===f.Text){let i=void 0;D===h.Verbose&&(e.error&&e.error.data?i=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?i=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(i="No result returned.\n\n")),C.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,i)}else G("send-response",e)}function G(e,t){if(!C||D===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};C.log(n)}function V(){if(K())throw new y(g.Closed,"Connection is closed.");if(W())throw new y(g.Disposed,"Connection is disposed.")}function J(e){return void 0===e?null:e}function B(e,t){let n,i=e.numberOfParams;switch(i){case 0:n=null;break;case 1:n=J(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<i;e++)n.push(J(t[e]));if(t.length<i)for(let e=t.length;e<i;e++)n.push(null)}return n}let X={sendNotification:(e,...n)=>{let i,o;if(V(),r.string(e))switch(i=e,n.length){case 0:o=null;break;case 1:o=n[0];break;default:o=n}else i=e.method,o=B(e,n);let s={jsonrpc:"2.0",method:i,params:o};!function(e){if(D!==h.Off&&C)if(O===f.Text){let t=void 0;D===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),C.log(`Sending notification '${e.method}'.`,t)}else G("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{V(),r.func(e)?E=e:t&&(r.string(e)?x[e]={type:void 0,handler:t}:x[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let i,a;V(),function(){if(!j())throw new Error("Call listen() first.")}();let c=void 0;if(r.string(e))switch(i=e,n.length){case 0:a=null;break;case 1:u.CancellationToken.is(n[0])?(a=null,c=n[0]):a=J(n[0]);break;default:const e=n.length-1;u.CancellationToken.is(n[e])?(c=n[e],a=2===n.length?J(n[0]):n.slice(0,e).map(e=>J(e))):a=n.map(e=>J(e))}else{i=e.method,a=B(e,n);let t=e.numberOfParams;c=u.CancellationToken.is(n[t])?n[t]:void 0}let l=s++,p=new Promise((e,n)=>{let r={jsonrpc:"2.0",id:l,method:i,params:a},s={method:i,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(D!==h.Off&&C)if(O===f.Text){let t=void 0;D===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),C.log(`Sending request '${e.method} - (${e.id})'.`,t)}else G("send-request",e)}(r);try{t.write(r)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(k[String(l)]=s)});return c&&c.onCancellationRequested(()=>{X.sendNotification(d.type,{id:l})}),p},onRequest:(e,t)=>{V(),r.func(e)?S=e:t&&(r.string(e)?b[e]={type:void 0,handler:t}:b[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let i=!1,o=f.Text;void 0!==n&&(r.boolean(n)?i=n:(i=n.sendNotification||!1,o=n.traceFormat||f.Text)),D=e,O=o,C=D===h.Off?void 0:t,!i||K()||W()||X.sendNotification(p.type,{value:h.toString(e)})},onError:N.event,onClose:F.event,onUnhandledNotification:M.event,onDispose:L.event,dispose:()=>{if(W())return;P=v.Disposed,L.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(k).forEach(e=>{k[e].reject(n)}),k=Object.create(null),T=Object.create(null),R=new l.LinkedMap,r.func(t.dispose)&&t.dispose(),r.func(e.dispose)&&e.dispose()},listen:()=>{V(),function(){if(j())throw new y(g.AlreadyListening,"Connection is already listening")}(),P=v.Listening,e.listen($)},inspect:()=>{console.log("inspect")}};return X.onNotification(m.type,e=>{D!==h.Off&&C&&C.log(e.message,D===h.Verbose?e.verbose:void 0)}),X}t.ConnectionError=y,function(e){e.is=function(e){let t=e;return t&&r.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(v||(v={})),t.createMessageConnection=function(e,n,i,r){var o;return i||(i=t.NullLogger),w(void 0!==(o=e).listen&&void 0===o.read?e:new s.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),i,r)}},function(e,t,n){"use strict";function i(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=i,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>i(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&r(e.then)}},function(e,t,n){"use strict";const i=n(3).fromPromise,r=n(36);e.exports={pathExists:i((function(e){return r.access(e).then(()=>!0).catch(()=>!1)})),pathExistsSync:r.existsSync}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(5),o=n(62),s=n(63),a=n(8),c=n(64),u=n(11);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(5));class l{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}}var d,h,f,p,m;!function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(d=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(h=t.CloseAction||(t.CloseAction={}));class g{constructor(e){this.name=e,this.restarts=[]}error(e,t,n){return n&&n<=3?d.Continue:d.Shutdown}closed(){if(this.restarts.push(Date.now()),this.restarts.length<5)return h.Restart;return this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(i.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`),h.DoNotRestart):(this.restarts.shift(),h.Restart)}}!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(f=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(p=t.State||(t.State={})),function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.StartFailed=2]="StartFailed",e[e.Running=3]="Running",e[e.Stopping=4]="Stopping",e[e.Stopped=5]="Stopped"}(m||(m={}));const v=[r.SymbolKind.File,r.SymbolKind.Module,r.SymbolKind.Namespace,r.SymbolKind.Package,r.SymbolKind.Class,r.SymbolKind.Method,r.SymbolKind.Property,r.SymbolKind.Field,r.SymbolKind.Constructor,r.SymbolKind.Enum,r.SymbolKind.Interface,r.SymbolKind.Function,r.SymbolKind.Variable,r.SymbolKind.Constant,r.SymbolKind.String,r.SymbolKind.Number,r.SymbolKind.Boolean,r.SymbolKind.Array,r.SymbolKind.Object,r.SymbolKind.Key,r.SymbolKind.Null,r.SymbolKind.EnumMember,r.SymbolKind.Struct,r.SymbolKind.Event,r.SymbolKind.Operator,r.SymbolKind.TypeParameter],y=[r.CompletionItemKind.Text,r.CompletionItemKind.Method,r.CompletionItemKind.Function,r.CompletionItemKind.Constructor,r.CompletionItemKind.Field,r.CompletionItemKind.Variable,r.CompletionItemKind.Class,r.CompletionItemKind.Interface,r.CompletionItemKind.Module,r.CompletionItemKind.Property,r.CompletionItemKind.Unit,r.CompletionItemKind.Value,r.CompletionItemKind.Enum,r.CompletionItemKind.Keyword,r.CompletionItemKind.Snippet,r.CompletionItemKind.Color,r.CompletionItemKind.File,r.CompletionItemKind.Reference,r.CompletionItemKind.Folder,r.CompletionItemKind.EnumMember,r.CompletionItemKind.Constant,r.CompletionItemKind.Struct,r.CompletionItemKind.Event,r.CompletionItemKind.Operator,r.CompletionItemKind.TypeParameter];function w(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var _;!function(e){e.is=function(e){let t=e;return t&&a.func(t.register)&&a.func(t.unregister)&&a.func(t.dispose)&&void 0!==t.messages}}(_||(_={}));class C{constructor(e,t,n,i,r,o){this._client=e,this._event=t,this._type=n,this._middleware=i,this._createParams=r,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,t){for(const n of e)if(i.languages.match(n,t))return!0;return!1}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,e=>this._client.sendNotification(this._type,this._createParams(e))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class S extends C{constructor(e,t){super(e,i.workspace.onDidOpenTextDocument,r.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t),C.textDocumentFilter),this._syncedDocuments=t}get messages(){return r.DidOpenTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){if(super.register(e,t),!t.registerOptions.documentSelector)return;let n=t.registerOptions.documentSelector;i.workspace.textDocuments.forEach(e=>{let t=e.uri.toString();if(!this._syncedDocuments.has(t)&&i.languages.match(n,e)){let n=this._client.clientOptions.middleware,i=e=>{this._client.sendNotification(this._type,this._createParams(e))};n.didOpen?n.didOpen(e,i):i(e),this._syncedDocuments.set(t,e)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class b extends C{constructor(e,t){super(e,i.workspace.onDidCloseTextDocument,r.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t),C.textDocumentFilter),this._syncedDocuments=t}get messages(){return r.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(e=>{if(i.languages.match(t,e)&&!this._selectorFilter(n,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,n):n(e)}})}}class E{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get messages(){return r.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==r.TextDocumentSyncKind.None&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(t.id,{documentSelector:t.registerOptions.documentSelector,syncKind:t.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(i.languages.match(t.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(t.syncKind===r.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,()=>this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t)):this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===r.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(r.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))})):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new c.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(r.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))},-1))};n.didChange?n.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}}class x extends C{constructor(e){super(e,i.workspace.onWillSaveTextDocument,r.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),(e,t)=>C.textDocumentFilter(e,t.document))}get messages(){return r.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}}class R{constructor(e){this._client=e,this._selectors=new Map}get messages(){return r.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){if(C.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,n=e=>this._client.sendRequest(r.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then(e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class k extends C{constructor(e){super(e,i.workspace.onDidSaveTextDocument,r.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),C.textDocumentFilter)}get messages(){return r.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.save&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{includeText:!!n.save.includeText})})}register(e,t){this._includeText=!!t.registerOptions.includeText,super.register(e,t)}}class T{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get messages(){return r.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){w(w(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e,t){if(!Array.isArray(t.registerOptions.watchers))return;let n=[];for(let e of t.registerOptions.watchers){if(!a.string(e.globPattern))continue;let t=!0,o=!0,s=!0;void 0!==e.kind&&null!==e.kind&&(t=0!=(e.kind&r.WatchKind.Create),o=0!=(e.kind&r.WatchKind.Change),s=0!=(e.kind&r.WatchKind.Delete));let c=i.workspace.createFileSystemWatcher(e.globPattern,!t,!o,!s);this.hookListeners(c,t,o,s),n.push(c)}this._watchers.set(t.id,n)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Created}),null,o),n&&e.onDidChange(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Changed}),null,o),i&&e.onDidDelete(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}}class D{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wrong feature. Requested ${e.method} but reached feature ${this.messages.method}`);if(!t.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach(e=>{e.dispose()}),this._providers.clear()}}t.TextDocumentFeature=D;class O extends D{constructor(e){super(e,r.CompletionRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0},t.completionItemKind={valueSet:y}}initialize(e,t){e.completionProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.completionProvider)})}registerLanguageProvider(e){let t=e.triggerCharacters||[],n=this._client,o=(e,t,i,o)=>n.sendRequest(r.CompletionRequest.type,n.code2ProtocolConverter.asCompletionParams(e,t,i),o).then(n.protocol2CodeConverter.asCompletionResult,e=>(n.logFailedRequest(r.CompletionRequest.type,e),Promise.resolve([]))),s=(e,t)=>n.sendRequest(r.CompletionResolveRequest.type,n.code2ProtocolConverter.asCompletionItem(e),t).then(n.protocol2CodeConverter.asCompletionItem,t=>(n.logFailedRequest(r.CompletionResolveRequest.type,t),Promise.resolve(e))),a=this._client.clientOptions.middleware;return i.languages.registerCompletionItemProvider(e.documentSelector,{provideCompletionItems:(e,t,n,i)=>a.provideCompletionItem?a.provideCompletionItem(e,t,i,n,o):o(e,t,i,n),resolveCompletionItem:e.resolveProvider?(e,t)=>a.resolveCompletionItem?a.resolveCompletionItem(e,t,s):s(e,t):void 0},...t)}}class P extends D{constructor(e){super(e,r.HoverRequest.type)}fillClientCapabilities(e){const t=w(w(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[r.MarkupKind.Markdown,r.MarkupKind.PlainText]}initialize(e,t){e.hoverProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.HoverRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asHover,e=>(t.logFailedRequest(r.HoverRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return i.languages.registerHoverProvider(e.documentSelector,{provideHover:(e,t,i)=>o.provideHover?o.provideHover(e,t,i,n):n(e,t,i)})}}class N extends D{constructor(e){super(e,r.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0}}initialize(e,t){e.signatureHelpProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.signatureHelpProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.SignatureHelpRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asSignatureHelp,e=>(t.logFailedRequest(r.SignatureHelpRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware,s=e.triggerCharacters||[];return i.languages.registerSignatureHelpProvider(e.documentSelector,{provideSignatureHelp:(e,t,i)=>o.provideSignatureHelp?o.provideSignatureHelp(e,t,i,n):n(e,t,i)},...s)}}class F extends D{constructor(e){super(e,r.DefinitionRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){e.definitionProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.DefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(r.DefinitionRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return i.languages.registerDefinitionProvider(e.documentSelector,{provideDefinition:(e,t,i)=>o.provideDefinition?o.provideDefinition(e,t,i,n):n(e,t,i)})}}class M extends D{constructor(e){super(e,r.ReferencesRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){e.referencesProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>t.sendRequest(r.ReferencesRequest.type,t.code2ProtocolConverter.asReferenceParams(e,n,i),o).then(t.protocol2CodeConverter.asReferences,e=>(t.logFailedRequest(r.ReferencesRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return i.languages.registerReferenceProvider(e.documentSelector,{provideReferences:(e,t,i,r)=>o.provideReferences?o.provideReferences(e,t,i,r,n):n(e,t,i,r)})}}class L extends D{constructor(e){super(e,r.DocumentHighlightRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){e.documentHighlightProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.DocumentHighlightRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDocumentHighlights,e=>(t.logFailedRequest(r.DocumentHighlightRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return i.languages.registerDocumentHighlightProvider(e.documentSelector,{provideDocumentHighlights:(e,t,i)=>o.provideDocumentHighlights?o.provideDocumentHighlights(e,t,i,n):n(e,t,i)})}}class q extends D{constructor(e){super(e,r.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:v},t.hierarchicalDocumentSymbolSupport=!0}initialize(e,t){e.documentSymbolProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.DocumentSymbolRequest.type,t.code2ProtocolConverter.asDocumentSymbolParams(e),n).then(e=>{if(null!==e){if(0===e.length)return[];{let n=e[0];return r.DocumentSymbol.is(n)?t.protocol2CodeConverter.asDocumentSymbols(e):t.protocol2CodeConverter.asSymbolInformations(e)}}},e=>(t.logFailedRequest(r.DocumentSymbolRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return i.languages.registerDocumentSymbolProvider(e.documentSelector,{provideDocumentSymbols:(e,t)=>o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,n):n(e,t)})}}class I extends class{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wron feature. Requested ${e.method} but reached feature ${this.messages.method}`);let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach(e=>{e.dispose()}),this._providers.clear()}}{constructor(e){super(e,r.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=w(w(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:v}}initialize(e){e.workspaceSymbolProvider&&this.register(this.messages,{id:u.generateUuid(),registerOptions:void 0})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.WorkspaceSymbolRequest.type,{query:e},n).then(t.protocol2CodeConverter.asSymbolInformations,e=>(t.logFailedRequest(r.WorkspaceSymbolRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return i.languages.registerWorkspaceSymbolProvider({provideWorkspaceSymbols:(e,t)=>o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,n):n(e,t)})}}class A extends D{constructor(e){super(e,r.CodeActionRequest.type)}fillClientCapabilities(e){const t=w(w(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.codeActionLiteralSupport={codeActionKind:{valueSet:["",r.CodeActionKind.QuickFix,r.CodeActionKind.Refactor,r.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorRewrite,r.CodeActionKind.Source,r.CodeActionKind.SourceOrganizeImports]}}}initialize(e,t){if(!e.codeActionProvider||!t)return;let n=void 0;a.boolean(e.codeActionProvider)||(n=e.codeActionProvider.codeActionKinds),this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t,codeActionKinds:n}})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),context:t.code2ProtocolConverter.asCodeActionContext(i)};return t.sendRequest(r.CodeActionRequest.type,s,o).then(e=>{if(null===e)return;let n=[];for(let i of e)r.Command.is(i)?n.push(t.protocol2CodeConverter.asCommand(i)):n.push(t.protocol2CodeConverter.asCodeAction(i));return n},e=>(t.logFailedRequest(r.CodeActionRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return i.languages.registerCodeActionsProvider(e.documentSelector,{provideCodeActions:(e,t,i,r)=>o.provideCodeActions?o.provideCodeActions(e,t,i,r,n):n(e,t,i,r)},e.codeActionKinds?{providedCodeActionKinds:t.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0)}}class j extends D{constructor(e){super(e,r.CodeLensRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"codeLens").dynamicRegistration=!0}initialize(e,t){e.codeLensProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.codeLensProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.CodeLensRequest.type,t.code2ProtocolConverter.asCodeLensParams(e),n).then(t.protocol2CodeConverter.asCodeLenses,e=>(t.logFailedRequest(r.CodeLensRequest.type,e),Promise.resolve([]))),o=(e,n)=>t.sendRequest(r.CodeLensResolveRequest.type,t.code2ProtocolConverter.asCodeLens(e),n).then(t.protocol2CodeConverter.asCodeLens,n=>(t.logFailedRequest(r.CodeLensResolveRequest.type,n),e)),s=t.clientOptions.middleware;return i.languages.registerCodeLensProvider(e.documentSelector,{provideCodeLenses:(e,t)=>s.provideCodeLenses?s.provideCodeLenses(e,t,n):n(e,t),resolveCodeLens:e.resolveProvider?(e,t)=>s.resolveCodeLens?s.resolveCodeLens(e,t,o):o(e,t):void 0})}}class K extends D{constructor(e){super(e,r.DocumentFormattingRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){e.documentFormattingProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),options:t.code2ProtocolConverter.asFormattingOptions(n)};return t.sendRequest(r.DocumentFormattingRequest.type,o,i).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(r.DocumentFormattingRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return i.languages.registerDocumentFormattingEditProvider(e.documentSelector,{provideDocumentFormattingEdits:(e,t,i)=>o.provideDocumentFormattingEdits?o.provideDocumentFormattingEdits(e,t,i,n):n(e,t,i)})}}class W extends D{constructor(e){super(e,r.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentRangeFormattingProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),options:t.code2ProtocolConverter.asFormattingOptions(i)};return t.sendRequest(r.DocumentRangeFormattingRequest.type,s,o).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(r.DocumentRangeFormattingRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return i.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,{provideDocumentRangeFormattingEdits:(e,t,i,r)=>o.provideDocumentRangeFormattingEdits?o.provideDocumentRangeFormattingEdits(e,t,i,r,n):n(e,t,i,r)})}}class U extends D{constructor(e){super(e,r.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentOnTypeFormattingProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentOnTypeFormattingProvider)})}registerLanguageProvider(e){let t=this._client,n=e.moreTriggerCharacter||[],o=(e,n,i,o,s)=>{let a={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),ch:i,options:t.code2ProtocolConverter.asFormattingOptions(o)};return t.sendRequest(r.DocumentOnTypeFormattingRequest.type,a,s).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(r.DocumentOnTypeFormattingRequest.type,e),Promise.resolve([])))},s=t.clientOptions.middleware;return i.languages.registerOnTypeFormattingEditProvider(e.documentSelector,{provideOnTypeFormattingEdits:(e,t,n,i,r)=>s.provideOnTypeFormattingEdits?s.provideOnTypeFormattingEdits(e,t,n,i,r,o):o(e,t,n,i,r)},e.firstTriggerCharacter,...n)}}class H extends D{constructor(e){super(e,r.RenameRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0}initialize(e,t){if(!e.renameProvider||!t)return;let n=Object.assign({},{documentSelector:t});a.boolean(e.renameProvider)?n.prepareProvider=!1:n.prepareProvider=e.renameProvider.prepareProvider,this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),newName:i};return t.sendRequest(r.RenameRequest.type,s,o).then(t.protocol2CodeConverter.asWorkspaceEdit,e=>(t.logFailedRequest(r.RenameRequest.type,e),Promise.reject(new Error(e.message))))},o=(e,n,i)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n)};return t.sendRequest(r.PrepareRenameRequest.type,o,i).then(e=>r.Range.is(e)?t.protocol2CodeConverter.asRange(e):e&&e.range?{range:t.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:null,e=>(t.logFailedRequest(r.PrepareRenameRequest.type,e),Promise.reject(new Error(e.message))))},s=t.clientOptions.middleware;return i.languages.registerRenameProvider(e.documentSelector,{provideRenameEdits:(e,t,i,r)=>s.provideRenameEdits?s.provideRenameEdits(e,t,i,r,n):n(e,t,i,r),prepareRename:e.prepareProvider?(e,t,n)=>s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n):void 0})}}class $ extends D{constructor(e){super(e,r.DocumentLinkRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"documentLink").dynamicRegistration=!0}initialize(e,t){e.documentLinkProvider&&t&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentLinkProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.DocumentLinkRequest.type,t.code2ProtocolConverter.asDocumentLinkParams(e),n).then(t.protocol2CodeConverter.asDocumentLinks,e=>{t.logFailedRequest(r.DocumentLinkRequest.type,e),Promise.resolve(new Error(e.message))}),o=(e,n)=>t.sendRequest(r.DocumentLinkResolveRequest.type,t.code2ProtocolConverter.asDocumentLink(e),n).then(t.protocol2CodeConverter.asDocumentLink,e=>{t.logFailedRequest(r.DocumentLinkResolveRequest.type,e),Promise.resolve(new Error(e.message))}),s=t.clientOptions.middleware;return i.languages.registerDocumentLinkProvider(e.documentSelector,{provideDocumentLinks:(e,t)=>s.provideDocumentLinks?s.provideDocumentLinks(e,t,n):n(e,t),resolveDocumentLink:e.resolveProvider?(e,t)=>s.resolveDocumentLink?s.resolveDocumentLink(e,t,o):o(e,t):void 0})}}class z{constructor(e){this._client=e,this._listeners=new Map}get messages(){return r.DidChangeConfigurationNotification.type}fillClientCapabilities(e){w(w(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{section:e}})}register(e,t){let n=i.workspace.onDidChangeConfiguration(e=>{this.onDidChangeConfiguration(t.registerOptions.section,e)});this._listeners.set(t.id,n),void 0!==t.registerOptions.section&&this.onDidChangeConfiguration(t.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=a.string(e)?[e]:e,void 0!==n&&void 0!==t){if(!n.some(e=>t.affectsConfiguration(e)))return}let i=e=>{void 0!==e?this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}):this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:null})},o=this.getMiddleware();o?o(n,i):i(n)}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let i=n[t[e]];i||(i=Object.create(null),n[t[e]]=i),n=i}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(c=a>=0?i.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):i.workspace.getConfiguration(s,n),c){let n=e[o].split(".");t(r,n)[n[n.length-1]]=c}}return r}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class G{constructor(e){this._client=e,this._commands=new Map}get messages(){return r.ExecuteCommandRequest.type}fillClientCapabilities(e){w(w(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e,t){let n=this._client;if(t.registerOptions.commands){let e=[];for(const o of t.registerOptions.commands)e.push(i.commands.registerCommand(o,(...e)=>{let t={command:o,arguments:e};return n.sendRequest(r.ExecuteCommandRequest.type,t).then(void 0,e=>{n.logFailedRequest(r.ExecuteCommandRequest.type,e)})}));this._commands.set(t.id,e)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(e=>e.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(e=>e.dispose())}),this._commands.clear()}}!function(e){e.is=function(e){return e&&r.MessageReader.is(e.reader)&&r.MessageWriter.is(e.writer)}}(t.MessageTransports||(t.MessageTransports={}));class V{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}t.BaseLanguageClient=class{constructor(e,t,n){this._traceFormat=r.TraceFormat.Text,this._features=[],this._method2Message=new Map,this._dynamicFeatures=new Map,this._id=e,this._name=t,n=n||{},this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||f.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,errorHandler:n.errorHandler||new g(this._name),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this.state=m.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new V(e,t)}),this._onStop=void 0,this._telemetryEmitter=new r.Emitter,this._stateChangeEmitter=new r.Emitter,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){return this.state===m.Running?p.Running:this.state===m.Starting?p.Starting:p.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onRequest(e,t)}catch(t){throw this.error(`Registering request handler ${a.string(e)?e:e.method} failed.`,t),t}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onNotification(e,t)}catch(t){throw this.error(`Registering notification handler ${a.string(e)?e:e.method} failed.`,t),t}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=i.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(){return new g(this._name)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof r.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=f.Info&&this.outputChannel.show(!0)}warn(e,t){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=f.Warn&&this.outputChannel.show(!0)}error(e,t){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=f.Error&&this.outputChannel.show(!0)}logTrace(e,t){this.outputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.outputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.outputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.outputChannel.appendLine(""+JSON.stringify(e))}needsStart(){return this.state===m.Initial||this.state===m.Stopping||this.state===m.Stopped}needsStop(){return this.state===m.Starting||this.state===m.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===m.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new V(e,t)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?i.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):i.languages.createDiagnosticCollection()),this.state=m.Starting,this.resolveConnection().then(e=>(e.onLogMessage(e=>{switch(e.type){case r.MessageType.Error:this.error(e.message);break;case r.MessageType.Warning:this.warn(e.message);break;case r.MessageType.Info:this.info(e.message);break;default:this.outputChannel.appendLine(e.message)}}),e.onShowMessage(e=>{switch(e.type){case r.MessageType.Error:i.window.showErrorMessage(e.message);break;case r.MessageType.Warning:i.window.showWarningMessage(e.message);break;case r.MessageType.Info:i.window.showInformationMessage(e.message);break;default:i.window.showInformationMessage(e.message)}}),e.onRequest(r.ShowMessageRequest.type,e=>{let t;switch(e.type){case r.MessageType.Error:t=i.window.showErrorMessage;break;case r.MessageType.Warning:t=i.window.showWarningMessage;break;case r.MessageType.Info:t=i.window.showInformationMessage;break;default:t=i.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)}),e.onTelemetry(e=>{this._telemetryEmitter.fire(e)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=m.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),i.window.showErrorMessage("Couldn't start client "+this._name)}),new i.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),o={processId:process.pid,rootPath:n||null,rootUri:n?this._c2p.asUri(i.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:r.Trace.toString(this._trace),workspaceFolders:null};return this.fillInitializeParams(o),e.initialize(o).then(t=>{this._resolvedConnection=e,this._initializeResult=t,this.state=m.Running;let n=void 0;return a.number(t.capabilities.textDocumentSync)?n=t.capabilities.textDocumentSync===r.TextDocumentSyncKind.None?{openClose:!1,change:r.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==t.capabilities.textDocumentSync&&null!==t.capabilities.textDocumentSync&&(n=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:n}),e.onDiagnostics(e=>this.handleDiagnostics(e)),e.onRequest(r.RegistrationRequest.type,e=>this.handleRegistrationRequest(e)),e.onRequest("client/registerFeature",e=>this.handleRegistrationRequest(e)),e.onRequest(r.UnregistrationRequest.type,e=>this.handleUnregistrationRequest(e)),e.onRequest("client/unregisterFeature",e=>this.handleUnregistrationRequest(e)),e.onRequest(r.ApplyWorkspaceEditRequest.type,e=>this.handleApplyWorkspaceEdit(e)),e.sendNotification(r.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t}).then(void 0,t=>{this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof r.ResponseError&&t.data&&t.data.retry?i.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then(n=>{n&&"retry"===n.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))}):(t&&t.message&&i.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t))})}_clientGetRootPath(){let e=i.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===m.Stopping&&this._onStop?this._onStop:(this.state=m.Stopping,this.cleanUp(),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.dispose(),this.state=m.Stopped,this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=m.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach(e=>e.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(e=>e.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let e of this._dynamicFeatures.values())e.dispose();e&&this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}notifyFileEvent(e){this._fileEvents.push(e),this._fileEventDelayer.trigger(()=>{this.onReady().then(()=>{this.resolveConnection().then(e=>{this.isConnectionActive()&&e.didChangeWatchedFiles({changes:this._fileEvents}),this._fileEvents=[]})},e=>{this.error("Notify file events failed.",e)})})}forceDocumentSync(){this._dynamicFeatures.get(r.DidChangeTextDocumentNotification.type.method).forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware.handleDiagnostics;i?i(t,n,(e,t)=>this.setDiagnostics(e,t)):this.setDiagnostics(t,n)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,n)=>{this.handleConnectionError(e,t,n)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(n=>function(e,t,n,i){let o=new l,s=r.createProtocolConnection(e,t,o);return s.onError(e=>{n(e[0],e[1],e[2])}),s.onClose(i),{listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(a.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(a.string(e)?e:e.method,t),sendNotification:(e,t)=>s.sendNotification(a.string(e)?e:e.method,t),onNotification:(e,t)=>s.onNotification(a.string(e)?e:e.method,t),trace:(e,t,n)=>{const i={sendNotification:!1,traceFormat:r.TraceFormat.Text};void 0===n?s.trace(e,t,i):(a.boolean(n),s.trace(e,t,n))},initialize:e=>s.sendRequest(r.InitializeRequest.type,e),shutdown:()=>s.sendRequest(r.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(r.ExitNotification.type),onLogMessage:e=>s.onNotification(r.LogMessageNotification.type,e),onShowMessage:e=>s.onNotification(r.ShowMessageNotification.type,e),onTelemetry:e=>s.onNotification(r.TelemetryEventNotification.type,e),didChangeConfiguration:e=>s.sendNotification(r.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>s.sendNotification(r.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>s.sendNotification(r.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>s.sendNotification(r.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>s.sendNotification(r.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>s.sendNotification(r.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>s.onNotification(r.PublishDiagnosticsNotification.type,e),dispose:()=>s.dispose()}}(n.reader,n.writer,e,t))}handleConnectionClosed(){if(this.state===m.Stopping||this.state===m.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(e){}let e=h.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===h.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state=m.Stopped,this.cleanUp(!1,!0)):e===h.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=m.Initial,this.start())}handleConnectionError(e,t,n){this._clientOptions.errorHandler.error(e,t,n)===d.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){i.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,t=!1){let n=i.workspace.getConfiguration(this._id),o=r.Trace.Off,s=r.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=r.Trace.fromString(e):(o=r.Trace.fromString(n.get("trace.server.verbosity","off")),s=r.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(r.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),_.is(e)){let t=e.messages;if(Array.isArray(t))for(let n of t)this._method2Message.set(n.method,n),this._dynamicFeatures.set(n.method,e);else this._method2Message.set(t.method,t),this._dynamicFeatures.set(t.method,e)}}registerBuiltinFeatures(){this.registerFeature(new z(this)),this.registerFeature(new S(this,this._syncedDocuments)),this.registerFeature(new E(this)),this.registerFeature(new x(this)),this.registerFeature(new R(this)),this.registerFeature(new k(this)),this.registerFeature(new b(this,this._syncedDocuments)),this.registerFeature(new T(this,e=>this.notifyFileEvent(e))),this.registerFeature(new O(this)),this.registerFeature(new P(this)),this.registerFeature(new N(this)),this.registerFeature(new F(this)),this.registerFeature(new M(this)),this.registerFeature(new L(this)),this.registerFeature(new q(this)),this.registerFeature(new I(this)),this.registerFeature(new A(this)),this.registerFeature(new j(this)),this.registerFeature(new K(this)),this.registerFeature(new W(this)),this.registerFeature(new U(this)),this.registerFeature(new H(this)),this.registerFeature(new $(this)),this.registerFeature(new G(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};w(e,"workspace").applyEdit=!0;let t=w(w(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[r.ResourceOperationKind.Create,r.ResourceOperationKind.Rename,r.ResourceOperationKind.Delete],t.failureHandling=r.FailureHandlingKind.TextOnlyTransactional,w(w(e,"textDocument"),"publishDiagnostics").relatedInformation=!0;for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let e of this._features)e.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise((t,n)=>{for(let t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const i=t.registerOptions||{};i.documentSelector=i.documentSelector||this._clientOptions.documentSelector;const r={id:t.id,registerOptions:i};e.register(this._method2Message.get(t.method),r)}t()})}handleUnregistrationRequest(e){return new Promise((t,n)=>{for(let t of e.unregisterations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}t()})}handleApplyWorkspaceEdit(e){let t=e.edit,n=new Map;i.workspace.textDocuments.forEach(e=>n.set(e.uri.toString(),e));let o=!1;if(t.documentChanges)for(const e of t.documentChanges)if(r.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){let t=n.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){o=!0;break}}return o?Promise.resolve({applied:!1}):i.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(e=>({applied:e}))}logFailedRequest(e,t){t instanceof r.ResponseError&&t.code===r.ErrorCodes.RequestCancelled||this.error(`Request ${e.method} failed.`,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends i{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function o(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new i("00000000-0000-0000-0000-000000000000"),t.v4=o;const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return s.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new i(e)},t.generateUuid=function(){return o().asHex()}},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";function i(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=i,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every(e=>i(e))}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,i=0,r=this._callbacks.length;i<r;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0),r=0,o=n.length;r<o;r++)try{t.push(n[r].apply(i[r],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let o;return this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}r._noop=function(){},t.Emitter=r},function(e,t,n){"use strict";const i=n(2),r=n(0),o=process.versions.node.split("."),s=Number.parseInt(o[0],10),a=Number.parseInt(o[1],10),c=Number.parseInt(o[2],10);function u(){if(s>10)return!0;if(10===s){if(a>5)return!0;if(5===a&&c>=0)return!0}return!1}function l(e,t){const n=r.resolve(e).split(r.sep).filter(e=>e),i=r.resolve(t).split(r.sep).filter(e=>e);return n.reduce((e,t,n)=>e&&i[n]===t,!0)}function d(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,r){!function(e,t,n){u()?i.stat(e,{bigint:!0},(e,r)=>{if(e)return n(e);i.stat(t,{bigint:!0},(e,t)=>e?"ENOENT"===e.code?n(null,{srcStat:r,destStat:null}):n(e):n(null,{srcStat:r,destStat:t}))}):i.stat(e,(e,r)=>{if(e)return n(e);i.stat(t,(e,t)=>e?"ENOENT"===e.code?n(null,{srcStat:r,destStat:null}):n(e):n(null,{srcStat:r,destStat:t}))})}(e,t,(i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;return a&&a.ino&&a.dev&&a.ino===s.ino&&a.dev===s.dev?r(new Error("Source and destination must not be the same.")):s.isDirectory()&&l(e,t)?r(new Error(d(e,t,n))):r(null,{srcStat:s,destStat:a})})},checkPathsSync:function(e,t,n){const{srcStat:r,destStat:o}=function(e,t){let n,r;n=u()?i.statSync(e,{bigint:!0}):i.statSync(e);try{r=u()?i.statSync(t,{bigint:!0}):i.statSync(t)}catch(e){if("ENOENT"===e.code)return{srcStat:n,destStat:null};throw e}return{srcStat:n,destStat:r}}(e,t);if(o&&o.ino&&o.dev&&o.ino===r.ino&&o.dev===r.dev)throw new Error("Source and destination must not be the same.");if(r.isDirectory()&&l(e,t))throw new Error(d(e,t,n));return{srcStat:r,destStat:o}},checkParentPaths:function e(t,n,o,s,a){const c=r.resolve(r.dirname(t)),l=r.resolve(r.dirname(o));if(l===c||l===r.parse(l).root)return a();u()?i.stat(l,{bigint:!0},(i,r)=>i?"ENOENT"===i.code?a():a(i):r.ino&&r.dev&&r.ino===n.ino&&r.dev===n.dev?a(new Error(d(t,o,s))):e(t,n,l,s,a)):i.stat(l,(i,r)=>i?"ENOENT"===i.code?a():a(i):r.ino&&r.dev&&r.ino===n.ino&&r.dev===n.dev?a(new Error(d(t,o,s))):e(t,n,l,s,a))},checkParentPathsSync:function e(t,n,o,s){const a=r.resolve(r.dirname(t)),c=r.resolve(r.dirname(o));if(c===a||c===r.parse(c).root)return;let l;try{l=u()?i.statSync(c,{bigint:!0}):i.statSync(c)}catch(e){if("ENOENT"===e.code)return;throw e}if(l.ino&&l.dev&&l.ino===n.ino&&l.dev===n.dev)throw new Error(d(t,o,s));return e(t,n,c,s)},isSrcSubdir:l}},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(94);e.exports={remove:i(r),removeSync:r.sync}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(17),r=n(14);let o=Buffer.from("\r","ascii")[0],s=Buffer.from("\n","ascii")[0];class a{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(8192)}append(e){var t=e;if("string"==typeof e){var n=e,i=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(i)).write(n,0,i,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var r=8192*(Math.ceil((this.index+t.length)/8192)+1);0===this.index?(this.buffer=Buffer.allocUnsafe(r),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],r)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==o||this.buffer[t+1]!==s||this.buffer[t+2]!==o||this.buffer[t+3]!==s);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let i=t.substr(0,n),r=t.substr(n+1).trim();e[i]=r});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&r.func(t.listen)&&r.func(t.dispose)&&r.func(t.onError)&&r.func(t.onClose)&&r.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class c{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader recevied error. Reason: "+(r.string(e.message)?e.message:"unknown"))}}t.AbstractMessageReader=c;class u extends c{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new a(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=u;t.IPCMessageReader=class extends c{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends u{constructor(e,t="utf-8"){super(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(17),r=n(14);!function(e){e.is=function(e){let t=e;return t&&r.func(t.dispose)&&r.func(t.onClose)&&r.func(t.onError)&&r.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class o{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer recevied error. Reason: "+(r.string(e.message)?e.message:"unknown"))}}t.AbstractMessageWriter=o;t.StreamMessageWriter=class extends o{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),n=["Content-Length: ",Buffer.byteLength(t,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(n.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.IPCMessageWriter=class extends o{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends o{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=["Content-Length: ",Buffer.byteLength(t,this.encoding).toString(),"\r\n","\r\n"];try{this.sending=!0,this.socket.write(n.join(""),"ascii",n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(n){this.handleError(n,e)}})}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AUTO_CLOSE_TAGS="xml.completion.autoCloseTags",e.SHOW_REFERENCES="xml.show.references",e.EDITOR_SHOW_REFERENCES="editor.action.showReferences",e.RELOAD_WINDOW="workbench.action.reloadWindow",e.OPEN_SETTINGS="xml.open.settings",e.MARKDOWN_API_RENDER="markdown.api.render",e.OPEN_DOCS="xml.open.docs",e.OPEN_DOCS_HOME="xml.open.docs.home",e.EXECUTE_WORKSPACE_COMMAND="xml.workspace.executeCommand",e.VALIDATE_CURRENT_FILE="xml.validation.current.file",e.VALIDATE_ALL_FILES="xml.validation.all.files"}(t.Commands||(t.Commands={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(0);let o,s=!1,a=!1,c=l(),u=d();function l(){return h("xml")}function d(){return h("java")}function h(e){return i.workspace.getConfiguration(e)}function f(e,t,n){return e.get(n)!=t.get(n)}function p(e){return i.window.showWarningMessage(e,"Restart Now","Ignore").then(e=>{"Restart Now"===e&&i.commands.executeCommand("workbench.action.reloadWindow")}),"Ignore"}t.IS_WORKSPACE_JDK_ALLOWED="java.ls.isJdkAllowed",t.IS_WORKSPACE_JDK_XML_ALLOWED="java.ls.isJdkXmlAllowed",t.IS_WORKSPACE_VMARGS_XML_ALLOWED="java.ls.isVmargsXmlAllowed",t.xmlServerVmargs="xml.server.vmargs",t.getXMLConfiguration=l,t.getJavaConfiguration=d,t.getXConfiguration=h,t.onConfigurationChange=function(){a||function(){let e=i.workspace.getConfiguration("xml.server").get("vmargs");if(null!=o){if(o!=e){"Ignore"==p("XML Language Server configuration changed, please restart VS Code.")&&(a=!0)}}else o=e}(),s||function(){let e=i.workspace.getConfiguration(),t=e.get("xml.completion.autoCloseTags"),n=e.get("[xml]")["editor.autoClosingBrackets"];t&&"never"!=n&&i.window.showWarningMessage("The [xml].editor.autoClosingBrackets setting conflicts with xml.completion.autoCloseTags. It's recommended to disable it.","Disable","Ignore").then(e=>{if("Disable"==e){let e=function(e,t){let n,r,o=i.workspace.getConfiguration(e).inspect(t);null==o.workspaceFolderValue?null==o.workspaceValue?null==o.globalValue?(n="default",r=!0):(n="global",r=!0):(n="workspace",r=!1):(n="folder",r=void 0);return{scope:n,configurationTarget:r}}("","[xml]");i.workspace.getConfiguration().update("[xml]",{"editor.autoClosingBrackets":"never"},e.configurationTarget).then(()=>console.log("[xml].editor.autoClosingBrackets globally set to never"),e=>console.log(e))}else"Ignore"==e&&(s=!0)})}()},t.subscribeJDKChangeConfiguration=function(){return i.workspace.onDidChangeConfiguration(e=>{if(e.affectsConfiguration("xml")){const e=l();return f(c,e,"java.home")&&p("`xml.java.home` path has changed. Please restart VS Code."),void(c=e)}if(null!=c.get("java.home"));else if(e.affectsConfiguration("java")){const e=d(),t=i.extensions.getExtension("redhat.java");!(null!=t&&t.isActive)&&f(u,e,"home")&&p("`java.home` path has changed. Please restart VS Code."),u=e}})},t.getKey=function(e,t,n){const o=r.resolve(t+"/jdt_ws");return void 0!==i.workspace.name?`${e}::${o}::${n}`:`${e}::${n}`},t.getJavaagentFlag=function(e){const t=e.split(" ");let n=null;for(const e of t)if(e.startsWith("-javaagent:")){n=e.substring("-javaagent:".length);break}return n}},function(e,t,n){e.exports=w;var i=n(4),r=n(32),o=n(25),s=(o.Minimatch,n(78)),a=n(80).EventEmitter,c=n(0),u=n(15),l=n(26),d=n(81),h=n(33),f=(h.alphasort,h.alphasorti,h.setopts),p=h.ownProp,m=n(82),g=(n(12),h.childrenIgnored),v=h.isIgnored,y=n(35);function w(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new C(e,t,n)}w.sync=d;var _=w.GlobSync=d.GlobSync;function C(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new _(e,t)}if(!(this instanceof C))return new C(e,t,n);f(this,e,t),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof n&&(n=y(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var r=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return s();for(var o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--r._processing,r._processing<=0&&r._finish()}}w.glob=w,w.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}({},t);n.noprocess=!0;var i=new C(e,n).minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var r=0;r<i[0].length;r++)if("string"!=typeof i[0][r])return!0;return!1},w.Glob=C,s(C,a),C.prototype._finish=function(){if(u(this instanceof C),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},C.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,i)}function i(){0==--e&&t._finish()}},C.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var i=Object.keys(n),o=this,s=i.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);i.forEach((function(n,i){n=o._makeAbs(n),r.realpath(n,o.realpathCache,(function(i,r){i?"stat"===i.syscall?a[n]=!0:o.emit("error",i):a[r]=!0,0==--s&&(o.matches[e]=a,t())}))}))},C.prototype._mark=function(e){return h.mark(this,e)},C.prototype._makeAbs=function(e){return h.makeAbs(this,e)},C.prototype.abort=function(){this.aborted=!0,this.emit("abort")},C.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},C.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<i.length;t++){var r=i[t];this._processing--,this._process(r[0],r[1],r[2],r[3])}}}},C.prototype._process=function(e,t,n,i){if(u(this instanceof C),u("function"==typeof i),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,i]);else{for(var r,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,i);case 0:r=null;break;default:r=e.slice(0,s).join("/")}var a,c=e.slice(s);null===r?a=".":l(r)||l(e.join("/"))?(r&&l(r)||(r="/"+r),a=r):a=r;var d=this._makeAbs(a);if(g(this,a))return i();c[0]===o.GLOBSTAR?this._processGlobStar(r,a,d,c,t,n,i):this._processReaddir(r,a,d,c,t,n,i)}},C.prototype._processReaddir=function(e,t,n,i,r,o,s){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(e,t,n,i,r,o,u,s)}))},C.prototype._processReaddir2=function(e,t,n,i,r,o,s,a){if(!s)return a();for(var u=i[0],l=!!this.minimatch.negate,d=u._glob,h=this.dot||"."===d.charAt(0),f=[],p=0;p<s.length;p++){if("."!==(g=s[p]).charAt(0)||h)(l&&!e?!g.match(u):g.match(u))&&f.push(g)}var m=f.length;if(0===m)return a();if(1===i.length&&!this.mark&&!this.stat){this.matches[r]||(this.matches[r]=Object.create(null));for(p=0;p<m;p++){var g=f[p];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(r,g)}return a()}i.shift();for(p=0;p<m;p++){g=f[p];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(i),r,o,a)}a()},C.prototype._emitMatch=function(e,t){if(!this.aborted&&!v(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var i=this.cache[n];if("DIR"===i||Array.isArray(i))return}this.matches[e][t]=!0;var r=this.statCache[n];r&&this.emit("stat",t,r),this.emit("match",t)}}},C.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,r=m("lstat\0"+e,(function(i,r){if(i&&"ENOENT"===i.code)return t();var o=r&&r.isSymbolicLink();n.symlinks[e]=o,o||!r||r.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));r&&i.lstat(e,r)}},C.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,n);if(p(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}i.readdir(e,function(e,t,n){return function(i,r){i?e._readdirError(t,i,n):e._readdirEntries(t,r,n)}}(this,e,n))}},C.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var r=t[i];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,n(null,t)}},C.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(e);if(this.cache[i]="FILE",i===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);r.path=this.cwd,r.code=t.code,this.emit("error",r),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},C.prototype._processGlobStar=function(e,t,n,i,r,o,s){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(e,t,n,i,r,o,u,s)}))},C.prototype._processGlobStar2=function(e,t,n,i,r,o,s,a){if(!s)return a();var c=i.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,r,!1,a);var d=this.symlinks[n],h=s.length;if(d&&o)return a();for(var f=0;f<h;f++){if("."!==s[f].charAt(0)||this.dot){var p=u.concat(s[f],c);this._process(p,r,!0,a);var m=u.concat(s[f],i);this._process(m,r,!0,a)}}a()},C.prototype._processSimple=function(e,t,n){var i=this;this._stat(e,(function(r,o){i._processSimple2(e,t,r,o,n)}))},C.prototype._processSimple2=function(e,t,n,i,r){if(this.matches[t]||(this.matches[t]=Object.create(null)),!i)return r();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),r()},C.prototype._stat=function(e,t){var n=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!r||"DIR"===o)return t(null,o);if(r&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return r&&"FILE"===a?t():t(null,a,s)}var c=this,u=m("stat\0"+n,(function(r,o){if(o&&o.isSymbolicLink())return i.stat(n,(function(i,r){i?c._stat2(e,n,null,o,t):c._stat2(e,n,i,r,t)}));c._stat2(e,n,r,o,t)}));u&&i.lstat(n,u)},C.prototype._stat2=function(e,t,n,i,r){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,r();var o="/"===e.slice(-1);if(this.statCache[t]=i,"/"===t.slice(-1)&&i&&!i.isDirectory())return r(null,!1,i);var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?r():r(null,s,i)}},function(e,t,n){e.exports=l,l.Minimatch=d;var i={sep:"/"};try{i=n(0)}catch(e){}var r=l.GLOBSTAR=d.GLOBSTAR={},o=n(75),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function l(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new d(t,n).match(e))}function d(e,t){if(!(this instanceof d))return new d(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==i.sep&&(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof d?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(n,i,r){return l(n,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,n=function(n,i,r){return t.minimatch(n,i,u(e,r))};return n.Minimatch=function(n,i){return new t.Minimatch(n,u(e,i))},n},d.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,i=0;if(n.nonegate)return;for(var r=0,o=e.length;r<o&&"!"===e.charAt(r);r++)t=!t,i++;i&&(this.pattern=e.substr(i));this.negate=t},l.braceExpand=function(e,t){return h(e,t)},d.prototype.braceExpand=h,d.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return r;if(""===e)return"";var i,o="",c=!!n.nocase,u=!1,l=[],d=[],h=!1,p=-1,m=-1,g="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function y(){if(i){switch(i){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+i}v.debug("clearStateChar %j %j",i,o),i=!1}}for(var w,_=0,C=e.length;_<C&&(w=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,o,w),u&&a[w])o+="\\"+w,u=!1;else switch(w){case"/":return!1;case"\\":y(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,o,w),h){this.debug("  in class"),"!"===w&&_===m+1&&(w="^"),o+=w;continue}v.debug("call clearStateChar %j",i),y(),i=w,n.noext&&y();continue;case"(":if(h){o+="(";continue}if(!i){o+="\\(";continue}l.push({type:i,start:_-1,reStart:o.length,open:s[i].open,close:s[i].close}),o+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,o),i=!1;continue;case")":if(h||!l.length){o+="\\)";continue}y(),c=!0;var S=l.pop();o+=S.close,"!"===S.type&&d.push(S),S.reEnd=o.length;continue;case"|":if(h||!l.length||u){o+="\\|",u=!1;continue}y(),o+="|";continue;case"[":if(y(),h){o+="\\"+w;continue}h=!0,m=_,p=o.length,o+=w;continue;case"]":if(_===m+1||!h){o+="\\"+w,u=!1;continue}if(h){var b=e.substring(m+1,_);try{RegExp("["+b+"]")}catch(e){var E=this.parse(b,f);o=o.substr(0,p)+"\\["+E[0]+"\\]",c=c||E[1],h=!1;continue}}c=!0,h=!1,o+=w;continue;default:y(),u?u=!1:!a[w]||"^"===w&&h||(o+="\\"),o+=w}h&&(b=e.substr(m+1),E=this.parse(b,f),o=o.substr(0,p)+"\\["+E[0],c=c||E[1]);for(S=l.pop();S;S=l.pop()){var x=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",x,x,S,o);var R="*"===S.type?"[^/]*?":"?"===S.type?"[^/]":"\\"+S.type;c=!0,o=o.slice(0,S.reStart)+R+"\\("+x}y(),u&&(o+="\\\\");var k=!1;switch(o.charAt(0)){case".":case"[":case"(":k=!0}for(var T=d.length-1;T>-1;T--){var D=d[T],O=o.slice(0,D.reStart),P=o.slice(D.reStart,D.reEnd-8),N=o.slice(D.reEnd-8,D.reEnd),F=o.slice(D.reEnd);N+=F;var M=O.split("(").length-1,L=F;for(_=0;_<M;_++)L=L.replace(/\)[+*?]?/,"");var q="";""===(F=L)&&t!==f&&(q="$"),o=O+P+F+q+N}""!==o&&c&&(o="(?=.)"+o);k&&(o=g+o);if(t===f)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var I=n.nocase?"i":"";try{var A=new RegExp("^"+o+"$",I)}catch(e){return new RegExp("$.")}return A._glob=e,A._src=o,A};var f={};l.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===r?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var i=new d(t,n=n||{});return e=e.filter((function(e){return i.match(e)})),i.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var r,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(r=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],u=e;if(n.matchBase&&1===a.length&&(u=[r]),this.matchOne(u,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===r){this.debug("GLOBSTAR",[t,l,d]);var h=o,f=s+1;if(f===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!i.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,f,p),this.matchOne(e.slice(h),t.slice(f),n))return this.debug("globstar found match!",h,a,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,f),h!==a))}if("string"==typeof l?(u=i.nocase?d.toLowerCase()===l.toLowerCase():d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";function i(e){return"/"===e.charAt(0)}function r(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",i=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||i)}e.exports="win32"===process.platform?r:i,e.exports.posix=i,e.exports.win32=r},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(102);e.exports={readJson:i(r.readFile),readJsonSync:r.readFileSync,writeJson:i(r.writeFile),writeJsonSync:r.writeFileSync}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1);class r extends i.CompletionItem{constructor(e){super(e)}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1);class r extends i.CodeLens{constructor(e){super(e)}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1);class r extends i.DocumentLink{constructor(e,t){super(e,t)}}t.default=r},function(e,t,n){e.exports=l,l.realpath=l,l.sync=d,l.realpathSync=d,l.monkeypatch=function(){i.realpath=l,i.realpathSync=d},l.unmonkeypatch=function(){i.realpath=r,i.realpathSync=o};var i=n(4),r=i.realpath,o=i.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(74);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return r(e,t,n);"function"==typeof t&&(n=t,t=null),r(e,t,(function(i,r){u(i)?c.realpath(e,t,n):n(i,r)}))}function d(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();i(n,"cwd")?(e.cwd=r.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||r.resolve(e.cwd,"/"),e.root=r.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=i,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),i=0,r=e.matches.length;i<r;i++){var o=e.matches[i];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[i];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(i=0;i<n.length;i++)n[i]=e._mark(n[i]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),i=e.cache[t]||e.cache[d(e,t)];return n&&i&&(n="DIR"!==i&&!Array.isArray(i)),n})))}e.ignore.length&&(n=n.filter((function(t){return!h(e,t)})));e.found=n},t.mark=function(e,t){var n=d(e,t),i=e.cache[n],r=t;if(i){var o="DIR"===i||Array.isArray(i),s="/"===t.slice(-1);if(o&&!s?r+="/":!o&&s&&(r=r.slice(0,-1)),r!==t){var a=d(e,r);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return r},t.isIgnored=h,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var r=n(0),o=n(25),s=n(26),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?r.join(e.root,t):s(t)||""===t?t:e.changedCwd?r.resolve(e.cwd,t):r.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function h(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){i[e]=t[e]})),i;function i(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var i=t.apply(this,e),r=e[e.length-1];return"function"==typeof i&&i!==r&&Object.keys(r).forEach((function(e){i[e]=r[e]})),i}}},function(e,t,n){var i=n(34);function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=i(r),e.exports.strict=i(o),r.proto=r((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(2),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof r[e]);Object.keys(r).forEach(e=>{"promises"!==e&&(t[e]=r[e])}),o.forEach(e=>{t[e]=i(r[e])}),t.exists=function(e,t){return"function"==typeof t?r.exists(e,t):new Promise(t=>r.exists(e,t))},t.read=function(e,t,n,i,o,s){return"function"==typeof s?r.read(e,t,n,i,o,s):new Promise((s,a)=>{r.read(e,t,n,i,o,(e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})})})},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?r.write(e,t,...n):new Promise((i,o)=>{r.write(e,t,...n,(e,t,n)=>{if(e)return o(e);i({bytesWritten:t,buffer:n})})})},"function"==typeof r.realpath.native&&(t.realpath.native=i(r.realpath.native))},function(e,t){e.exports=require("constants")},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";e.exports={copySync:n(88)}},function(e,t,n){"use strict";const i=n(0);function r(e){return(e=i.normalize(i.resolve(e)).split(i.sep)).length>0?e[0]:null}const o=/[<>:"|?*]/;e.exports={getRootPath:r,invalidWin32Path:function(e){const t=r(e);return e=e.replace(t,""),o.test(e)}}},function(e,t,n){"use strict";const i=n(2),r=n(16),o=n(0);e.exports={hasMillisRes:function(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(r.tmpdir(),t);const n=new Date(1435410243862);i.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",r=>{if(r)return e(r);i.open(t,"r+",(r,o)=>{if(r)return e(r);i.futimes(o,n,n,n=>{if(n)return e(n);i.close(o,n=>{if(n)return e(n);i.stat(t,(t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(r.tmpdir(),e);const t=new Date(1435410243862);i.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=i.openSync(e,"r+");return i.futimesSync(n,t,t),i.closeSync(n),i.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,r){i.open(e,"r+",(e,o)=>{if(e)return r(e);i.futimes(o,t,n,e=>{i.close(o,t=>{r&&r(e||t)})})})},utimesMillisSync:function(e,t,n){const r=i.openSync(e,"r+");return i.futimesSync(r,t,n),i.closeSync(r)}}},function(e,t,n){"use strict";const i=n(3).fromCallback;e.exports={copy:i(n(92))}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(0),s=n(1),a=n(44),c=n(22),u=n(73),l=n(83),d=n(114),h=n(115),f=n(23),p=n(121),m=n(122);var g,v,y,w;let _;function C(){return{indentationRules:{increaseIndentPattern:/<(?!\?|[^>]*\/>)([-_\.A-Za-z0-9]+)(?=\s|>)\b[^>]*>(?!.*<\/\1>)|<!--(?!.*-->)|\{[^}"']*$/,decreaseIndentPattern:/^\s*(<\/[-_\.A-Za-z0-9]+\b[^>]*>|-->|\})/},onEnterRules:[{beforeText:new RegExp("<([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:s.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:s.IndentAction.Indent}}]}}!function(e){e.type=new a.RequestType("xml/executeClientCommand")}(g||(g={})),function(e){e.type=new a.RequestType("xml/closeTag")}(v||(v={})),function(e){e.type=new a.NotificationType("xml/symbolsLimitExceeded")}(y||(y={})),function(e){e.type=new a.NotificationType("xml/actionableNotification")}(w||(w={})),t.activate=function(e){e.subscriptions.push(l.markdownPreviewProvider),e.subscriptions.push(s.commands.registerCommand(c.Commands.OPEN_DOCS_HOME,()=>i(this,void 0,void 0,(function*(){l.markdownPreviewProvider.show(e.asAbsolutePath(o.join("docs","README.md")),"XML Documentation","",e)})))),e.subscriptions.push(s.commands.registerCommand(c.Commands.OPEN_DOCS,t=>i(this,void 0,void 0,(function*(){const n=t.page.endsWith(".md")?t.page.substr(0,t.page.length-3):t.page,i=n+".md",r=t.section||"",s="XML "+n;l.markdownPreviewProvider.show(e.asAbsolutePath(o.join("docs",i)),s,r,e)}))));let t=e.storagePath;const n={xmlCatalogs:[],xmlFileAssociations:[]};t||(t=r.homedir()+"/.lemminx");let y=o.resolve(t+"/lemminx.log");return h.resolveRequirements(e).catch(e=>{throw s.window.showErrorMessage(e.message,e.label).then(t=>{e.label&&e.label===t&&e.openUrl&&s.commands.executeCommand("vscode.open",e.openUrl)}),e}).then(t=>{let r={documentSelector:[{scheme:"file",language:"xml"},{scheme:"file",language:"xsl"},{scheme:"untitled",language:"xml"},{scheme:"untitled",language:"xsl"}],revealOutputChannelOn:a.RevealOutputChannelOn.Never,initializationOptions:{settings:S(t.java_home),extendedClientCapabilities:{codeLens:{codeLensKind:{valueSet:["references"]}},actionableNotificationSupport:!0,openSettingsCommandSupport:!0}},synchronize:{configurationSection:["xml","[xml]","files.trimFinalNewlines","files.trimTrailingWhitespace","files.insertFinalNewline"]},middleware:{workspace:{didChangeConfiguration:()=>{_.sendNotification(a.DidChangeConfigurationNotification.type,{settings:S(t.java_home)}),f.onConfigurationChange()}}}},o=u.prepareExecutable(t,d.collectXmlJavaExtensions(s.extensions.all,f.getXMLConfiguration().get("extension.jars",[])),e);_=new a.LanguageClient("xml","XML Support",o,r);let l=e.subscriptions,h=_.start();return l.push(h),s.languages.setLanguageConfiguration("xml",C()),s.languages.setLanguageConfiguration("xsl",C()),_.onReady().then(()=>{h=f.subscribeJDKChangeConfiguration(),l.push(h),e.subscriptions.push(s.commands.registerCommand(c.Commands.SHOW_REFERENCES,(e,t)=>{const n=s.Uri.parse(e);s.workspace.openTextDocument(n).then(e=>{let i=_.code2ProtocolConverter.asTextDocumentPositionParams(e,t);_.sendRequest(a.ReferencesRequest.type,i).then(e=>{s.commands.executeCommand(c.Commands.EDITOR_SHOW_REFERENCES,n,_.protocol2CodeConverter.asPosition(t),e.map(_.protocol2CodeConverter.asLocation))})})})),function(e){e.onNotification(w.type,e=>{let t=null;switch(e.severity){case a.MessageType.Info:t=s.window.showInformationMessage;break;case a.MessageType.Warning:t=s.window.showWarningMessage;break;case a.MessageType.Error:t=s.window.showErrorMessage}if(!t)return;const n=e.commands.map(e=>e.title);t(e.message,...n).then(t=>{for(const n of e.commands)if(n.title===t){const e=n.arguments?n.arguments:[];s.commands.executeCommand(n.command,...e);break}})})}(_),_.onRequest(g.type,e=>i(this,void 0,void 0,(function*(){return yield s.commands.executeCommand(e.command,...e.arguments)}))),e.subscriptions.push(s.commands.registerCommand(c.Commands.VALIDATE_CURRENT_FILE,e=>i(this,void 0,void 0,(function*(){const e=s.window.activeTextEditor.document.uri,t=a.TextDocumentIdentifier.create(e.toString());s.commands.executeCommand(c.Commands.EXECUTE_WORKSPACE_COMMAND,c.Commands.VALIDATE_CURRENT_FILE,t).then(()=>{s.window.showInformationMessage("The current XML file was successfully validated.")},e=>{s.window.showErrorMessage("Error during XML validation "+e.message)})})))),e.subscriptions.push(s.commands.registerCommand(c.Commands.VALIDATE_ALL_FILES,()=>i(this,void 0,void 0,(function*(){s.commands.executeCommand(c.Commands.EXECUTE_WORKSPACE_COMMAND,c.Commands.VALIDATE_ALL_FILES).then(()=>{s.window.showInformationMessage("All open XML files were successfully validated.")},e=>{s.window.showErrorMessage("Error during XML validation: "+e.message)})})))),e.subscriptions.push(s.commands.registerCommand(c.Commands.EXECUTE_WORKSPACE_COMMAND,(e,...t)=>{let n,i=t;t&&t.length&&a.CancellationToken.is(t[t.length-1])&&(n=t[t.length-1],i=t.slice(0,t.length-1));const r={command:e,arguments:i};return n?_.sendRequest(a.ExecuteCommandRequest.type,r,n):_.sendRequest(a.ExecuteCommandRequest.type,r)})),e.subscriptions.push(s.commands.registerCommand(c.Commands.OPEN_SETTINGS,e=>i(this,void 0,void 0,(function*(){s.commands.executeCommand("workbench.action.openSettings",e)}))));e.subscriptions.push(p.activateTagClosing((e,t)=>{let n=_.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return _.sendRequest(v.type,n)},{xml:!0,xsl:!0},c.Commands.AUTO_CLOSE_TAGS)),s.extensions.onDidChange&&e.subscriptions.push(s.extensions.onDidChange(()=>{d.onExtensionChange(s.extensions.all,f.getXMLConfiguration().get("extension.jars",[]))})),_.onRequest(a.ConfigurationRequest.type,e=>{const t=[],n=s.window.activeTextEditor;for(const i of e.items)n&&n.document.uri.toString()===s.Uri.parse(i.scopeUri).toString()?"xml.format.insertSpaces"===i.section?t.push(n.options.insertSpaces):"xml.format.tabSize"===i.section&&t.push(n.options.tabSize):t.push(s.workspace.getConfiguration(null,s.Uri.parse(i.scopeUri)).get(i.section));return t}),e.subscriptions.push(s.window.onDidChangeActiveTextEditor(()=>{m.containsVariableReferenceToCurrentFile(f.getXMLConfiguration().get("fileAssociations"))&&(_.sendNotification(a.DidChangeConfigurationNotification.type,{settings:S(t.java_home)}),f.onConfigurationChange())}));return{addXMLCatalogs:e=>{const i=n.xmlCatalogs;e.forEach(e=>{i.includes(e)||i.push(e)}),_.sendNotification(a.DidChangeConfigurationNotification.type,{settings:S(t.java_home)}),f.onConfigurationChange()},removeXMLCatalogs:e=>{e.forEach(e=>{const t=n.xmlCatalogs;if(t.includes(e)){const n=t.indexOf(e);t.splice(n,1)}}),_.sendNotification(a.DidChangeConfigurationNotification.type,{settings:S(t.java_home)}),f.onConfigurationChange()},addXMLFileAssociations:e=>{const i=n.xmlFileAssociations;e.forEach(e=>{i.some(t=>t.systemId===e.systemId)||i.push(e)}),_.sendNotification(a.DidChangeConfigurationNotification.type,{settings:S(t.java_home)}),f.onConfigurationChange()},removeXMLFileAssociations:e=>{const i=n.xmlFileAssociations;e.forEach(e=>{const t=i.findIndex(t=>t.systemId===e.systemId);t>-1&&i.splice(t,1)}),_.sendNotification(a.DidChangeConfigurationNotification.type,{settings:S(t.java_home)}),f.onConfigurationChange()}}})});function S(e){let t,i=s.workspace.getConfiguration().get("xml");if(i){let e=JSON.stringify(i);t={xml:JSON.parse(e)}}else{t={xml:{trace:{server:"verbose"},logs:{client:!0},format:{enabled:!0,splitAttributes:!1},completion:{autoCloseTags:!1}}}}return t.xml.logs.file=y,t.xml.useCache=!0,t.xml.java.home=e,t.xml.format.trimFinalNewlines=s.workspace.getConfiguration("files").get("trimFinalNewlines",!0),t.xml.format.trimTrailingWhitespace=s.workspace.getConfiguration("files").get("trimTrailingWhitespace",!1),t.xml.format.insertFinalNewline=s.workspace.getConfiguration("files").get("insertFinalNewline",!1),n.xmlCatalogs.forEach(e=>{t.xml.catalogs.includes(e)||t.xml.catalogs.push(e)}),t.xml.fileAssociations=[...m.getVariableSubstitutedAssociations(t.xml.fileAssociations)],t}},t.deactivate=function(){_.stop()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(13),r=n(4),o=n(45),s=n(10),a=n(1),c=n(5),u=n(65),l=n(66),d=n(67),h=n(68),f=n(69),p=n(70),m=n(71),g=n(8),v=n(72);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(10));var y,w,_,C,S,b,E;!function(e){e.is=function(e){return g.string(e.command)}}(y||(y={})),function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(w=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){let t=e;return t&&t.kind===w.socket&&g.number(t.port)}}(_||(_={})),function(e){e.is=function(e){return g.string(e.module)}}(C||(C={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(S||(S={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(b||(b={}));class x extends s.BaseLanguageClient{constructor(e,t,n,i,r){let o,s,a,c,u;g.string(t)?(o=e,s=t,a=n,c=i,u=!!r):(o=e.toLowerCase(),s=e,a=t,c=n,u=i),void 0===u&&(u=!1),super(o,s,c),this._serverOptions=a,this._forceDebug=u;try{this.checkVersion()}catch(e){throw g.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){let e=o.parse(a.version);if(!e)throw new Error("No valid VS Code version detected. Version string is: "+a.version);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!o.satisfies(e,"^1.30"))throw new Error("The language client requires VS Code version ^1.30 but received version "+a.version)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){e&&setTimeout(()=>{try{process.kill(e.pid,0),v.terminate(e)}catch(e){}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}createMessageTransports(e){let t,n=this._serverOptions;if(g.func(n))return n().then(t=>{if(s.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(S.is(t))return this._isDetached=!!t.detached,{reader:new c.StreamMessageReader(t.reader),writer:new c.StreamMessageWriter(t.writer)};{let n;return b.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),{reader:new c.StreamMessageReader(n.stdout),writer:new c.StreamMessageWriter(n.stdin)}}});let r=n;return t=r.run||r.debug?"object"==typeof v8debug||this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some(e=>/^--debug=?/.test(e)||/^--debug-brk=?/.test(e)||/^--inspect=?/.test(e)||/^--inspect-brk=?/.test(e))}()?r.debug:r.run:n,this._getServerWorkingDir(t.options).then(r=>{if(C.is(t)&&t.module){let n=t,o=n.transport||w.stdio;if(!n.runtime){let t=void 0;return new Promise((s,a)=>{let u=n.args&&n.args.slice()||[];o===w.ipc?u.push("--node-ipc"):o===w.stdio?u.push("--stdio"):o===w.pipe?(t=c.generateRandomPipeName(),u.push("--pipe="+t)):_.isSocket(o)&&u.push("--socket="+o.port),u.push("--clientProcessId="+process.pid.toString());let l=n.options||Object.create(null);if(l.execArgv=l.execArgv||[],l.cwd=r,l.silent=!0,o===w.ipc||o===w.stdio){let t=i.fork(n.module,u||[],l);this._serverProcess=t,t.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),o===w.ipc?(t.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),s({reader:new c.IPCMessageReader(this._serverProcess),writer:new c.IPCMessageWriter(this._serverProcess)})):s({reader:new c.StreamMessageReader(t.stdout),writer:new c.StreamMessageWriter(t.stdin)})}else o===w.pipe?c.createClientPipeTransport(t).then(t=>{let r=i.fork(n.module,u||[],l);this._serverProcess=r,r.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),r.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),t.onConnected().then(e=>{s({reader:e[0],writer:e[1]})})}):_.isSocket(o)&&c.createClientSocketTransport(o.port).then(t=>{let r=i.fork(n.module,u||[],l);this._serverProcess=r,r.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),r.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),t.onConnected().then(e=>{s({reader:e[0],writer:e[1]})})})})}{let t=[],s=n.options||Object.create(null);s.execArgv&&s.execArgv.forEach(e=>t.push(e)),t.push(n.module),n.args&&n.args.forEach(e=>t.push(e));let a=Object.create(null);a.cwd=r,a.env=function(e){if(!e)return process.env;let t=Object.create(null);return Object.keys(process.env).forEach(e=>t[e]=process.env[e]),Object.keys(e).forEach(n=>t[n]=e[n]),t}(s.env);let u=void 0;if(o===w.ipc?(a.stdio=[null,null,null,"ipc"],t.push("--node-ipc")):o===w.stdio?t.push("--stdio"):o===w.pipe?(u=c.generateRandomPipeName(),t.push("--pipe="+u)):_.isSocket(o)&&t.push("--socket="+o.port),t.push("--clientProcessId="+process.pid.toString()),o===w.ipc||o===w.stdio){let r=i.spawn(n.runtime,t,a);return r&&r.pid?(this._serverProcess=r,r.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),o===w.ipc?(r.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),Promise.resolve({reader:new c.IPCMessageReader(r),writer:new c.IPCMessageWriter(r)})):Promise.resolve({reader:new c.StreamMessageReader(r.stdout),writer:new c.StreamMessageWriter(r.stdin)})):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}if(o==w.pipe)return c.createClientPipeTransport(u).then(r=>{let o=i.spawn(n.runtime,t,a);return o&&o.pid?(this._serverProcess=o,o.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),o.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),r.onConnected().then(e=>({reader:e[0],writer:e[1]}))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)});if(_.isSocket(o))return c.createClientSocketTransport(o.port).then(r=>{let o=i.spawn(n.runtime,t,a);return o&&o.pid?(this._serverProcess=o,o.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),o.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),r.onConnected().then(e=>({reader:e[0],writer:e[1]}))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)})}}else if(y.is(t)&&t.command){let n=t,o=n.args||[],s=Object.assign({},n.options);s.cwd=s.cwd||r;let a=i.spawn(n.command,o,s);return a&&a.pid?(a.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),this._serverProcess=a,this._isDetached=!!s.detached,Promise.resolve({reader:new c.StreamMessageReader(a.stdout),writer:new c.StreamMessageWriter(a.stdin)})):Promise.reject(`Launching server using command ${n.command} failed.`)}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(n,null,4)))})}registerProposedFeatures(){this.registerFeatures(E.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new l.ConfigurationFeature(this)),this.registerFeature(new h.TypeDefinitionFeature(this)),this.registerFeature(new d.ImplementationFeature(this)),this.registerFeature(new u.ColorProviderFeature(this)),this.registerFeature(new f.WorkspaceFoldersFeature(this)),this.registerFeature(new p.FoldingRangeFeature(this)),this.registerFeature(new m.DeclarationFeature(this))}_mainGetRootPath(){let e=a.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(e=>{r.lstat(t,(n,i)=>{e(!n&&i.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}}t.LanguageClient=x;t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return a.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new a.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?a.workspace.getConfiguration(t).get(n,!1):a.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}},function(e){e.createAll=function(e){return[]}}(E=t.ProposedFeatures||(t.ProposedFeatures={}))},function(e,t){var n;t=e.exports=G,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,r=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var h=s++;o[h]="(?:"+o[a]+"|"+o[u]+")";var f=s++;o[f]="(?:"+o[c]+"|"+o[u]+")";var p=s++;o[p]="(?:-("+o[h]+"(?:\\."+o[h]+")*))";var m=s++;o[m]="(?:-?("+o[f]+"(?:\\."+o[f]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var y=s++,w="v?"+o[l]+o[p]+"?"+o[v]+"?";o[y]="^"+w+"$";var _="[v=\\s]*"+o[d]+o[m]+"?"+o[v]+"?",C=s++;o[C]="^"+_+"$";var S=s++;o[S]="((?:<|>)?=?)";var b=s++;o[b]=o[c]+"|x|X|\\*";var E=s++;o[E]=o[a]+"|x|X|\\*";var x=s++;o[x]="[v=\\s]*("+o[E]+")(?:\\.("+o[E]+")(?:\\.("+o[E]+")(?:"+o[p]+")?"+o[v]+"?)?)?";var R=s++;o[R]="[v=\\s]*("+o[b]+")(?:\\.("+o[b]+")(?:\\.("+o[b]+")(?:"+o[m]+")?"+o[v]+"?)?)?";var k=s++;o[k]="^"+o[S]+"\\s*"+o[x]+"$";var T=s++;o[T]="^"+o[S]+"\\s*"+o[R]+"$";var D=s++;o[D]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var O=s++;o[O]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[O]+"\\s+",r[P]=new RegExp(o[P],"g");var N=s++;o[N]="^"+o[O]+o[x]+"$";var F=s++;o[F]="^"+o[O]+o[R]+"$";var M=s++;o[M]="(?:\\^)";var L=s++;o[L]="(\\s*)"+o[M]+"\\s+",r[L]=new RegExp(o[L],"g");var q=s++;o[q]="^"+o[M]+o[x]+"$";var I=s++;o[I]="^"+o[M]+o[R]+"$";var A=s++;o[A]="^"+o[S]+"\\s*("+_+")$|^$";var j=s++;o[j]="^"+o[S]+"\\s*("+w+")$|^$";var K=s++;o[K]="(\\s*)"+o[S]+"\\s*("+_+"|"+o[x]+")",r[K]=new RegExp(o[K],"g");var W=s++;o[W]="^\\s*("+o[x]+")\\s+-\\s+("+o[x]+")\\s*$";var U=s++;o[U]="^\\s*("+o[R]+")\\s+-\\s+("+o[R]+")\\s*$";var H=s++;o[H]="(<|>)?=?\\s*\\*";for(var $=0;$<35;$++)n($,o[$]),r[$]||(r[$]=new RegExp(o[$]));function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?r[C]:r[y]).test(e))return null;try{return new G(e,t)}catch(e){return null}}function G(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?r[C]:r[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=z,t.valid=function(e,t){var n=z(e,t);return n?n.version:null},t.clean=function(e,t){var n=z(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),J(this.major,e.major)||J(this.minor,e.minor)||J(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return-1;if(i!==r)return J(i,r)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,i){"string"==typeof n&&(i=n,n=void 0);try{return new G(e,n).inc(t,i).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var n=z(e),i=z(t);if(n.prerelease.length||i.prerelease.length){for(var r in n)if(("major"===r||"minor"===r||"patch"===r)&&n[r]!==i[r])return"pre"+r;return"prerelease"}for(var r in n)if(("major"===r||"minor"===r||"patch"===r)&&n[r]!==i[r])return r},t.compareIdentifiers=J;var V=/^[0-9]+$/;function J(e,t){var n=V.test(e),i=V.test(t);return n&&i&&(e=+e,t=+t),n&&!i?-1:i&&!n?1:e<t?-1:e>t?1:0}function B(e,t,n){return new G(e,n).compare(new G(t,n))}function X(e,t,n){return B(e,t,n)>0}function Y(e,t,n){return B(e,t,n)<0}function Q(e,t,n){return 0===B(e,t,n)}function Z(e,t,n){return 0!==B(e,t,n)}function ee(e,t,n){return B(e,t,n)>=0}function te(e,t,n){return B(e,t,n)<=0}function ne(e,t,n,i){var r;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),r=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),r=e!==n;break;case"":case"=":case"==":r=Q(e,n,i);break;case"!=":r=Z(e,n,i);break;case">":r=X(e,n,i);break;case">=":r=ee(e,n,i);break;case"<":r=Y(e,n,i);break;case"<=":r=te(e,n,i);break;default:throw new TypeError("Invalid operator: "+t)}return r}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===re?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return J(t,e)},t.major=function(e,t){return new G(e,t).major},t.minor=function(e,t){return new G(e,t).minor},t.patch=function(e,t){return new G(e,t).patch},t.compare=B,t.compareLoose=function(e,t){return B(e,t,!0)},t.rcompare=function(e,t,n){return B(t,e,n)},t.sort=function(e,n){return e.sort((function(e,i){return t.compare(e,i,n)}))},t.rsort=function(e,n){return e.sort((function(e,i){return t.rcompare(e,i,n)}))},t.gt=X,t.lt=Y,t.eq=Q,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=ne,t.Comparator=ie;var re={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,i,r,o,s,a,c,u,l,d,h){return((t=se(n)?"":se(i)?">="+n+".0.0":se(r)?">="+n+"."+i+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":d?"<="+c+"."+u+"."+l+"-"+d:"<="+a)).trim()}function ce(e,t,i){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(i||(i={}),t.prerelease.length&&!i.includePrerelease){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==re&&e[r].semver.prerelease.length>0){var o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function le(e,t,n,i){var r,o,s,a,c;switch(e=new G(e,i),t=new oe(t,i),n){case">":r=X,o=te,s=Y,a=">",c=">=";break;case"<":r=Y,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,i))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],d=null,h=null;if(l.forEach((function(e){e.semver===re&&(e=new ie(">=0.0.0")),d=d||e,h=h||e,r(e.semver,d.semver,i)?d=e:s(e.semver,h.semver,i)&&(h=e)})),d.operator===a||d.operator===c)return!1;if((!h.operator||h.operator===a)&&o(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?r[A]:r[j],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=re},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===re||("string"==typeof e&&(e=new G(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ue(e.semver,n,t);var i=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return i||r||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var i=t?r[U]:r[W];e=e.replace(i,ae),n("hyphen replace",e),e=e.replace(r[K],"$1$2$3"),n("comparator trim",e,r[K]),e=(e=(e=e.replace(r[P],"$1~")).replace(r[L],"$1^")).split(/\s+/).join(" ");var o=t?r[A]:r[j],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var i=t.loose?r[I]:r[q];return e.replace(i,(function(t,i,r,o,s){var a;return n("caret",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a="0"===i?">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":">="+i+"."+r+".0 <"+(+i+1)+".0.0":s?(n("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===i?"0"===r?">="+i+"."+r+"."+o+s+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+s+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+s+" <"+(+i+1)+".0.0"):(n("no pr"),a="0"===i?"0"===r?">="+i+"."+r+"."+o+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+" <"+(+i+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var i=t.loose?r[F]:r[N];return e.replace(i,(function(t,i,r,o,s){var a;return n("tilde",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a=">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":s?(n("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+i+"."+r+"."+o+s+" <"+i+"."+(+r+1)+".0"):a=">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var i=t.loose?r[T]:r[k];return e.replace(i,(function(t,i,r,o,s,a){n("xRange",e,t,i,r,o,s,a);var c=se(r),u=c||se(o),l=u||se(s);return"="===i&&l&&(i=""),c?t=">"===i||"<"===i?"<0.0.0":"*":i&&l?(u&&(o=0),l&&(s=0),">"===i?(i=">=",u?(r=+r+1,o=0,s=0):l&&(o=+o+1,s=0)):"<="===i&&(i="<",u?r=+r+1:o=+o+1),t=i+r+"."+o+"."+s):u?t=">="+r+".0.0 <"+(+r+1)+".0.0":l&&(t=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(r[H],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new ie(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(i&&-1!==r.compare(e)||(r=new G(i=e,n)))})),i},t.minSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(i&&1!==r.compare(e)||(r=new G(i=e,n)))})),i},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return le(e,t,"<",n)},t.gtr=function(e,t,n){return le(e,t,">",n)},t.outside=le,t.prerelease=function(e,t){var n=z(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(r[D]);return null==t?null:z((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(14);var r;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(r=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=i.number(e)?e:r.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s;t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&i.string(t.method)&&(i.string(t.id)||i.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&i.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(i.string(t.id)||i.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(17),r=n(14);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||r.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this.cancel()}}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(i=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=i.None){let r=this._map.get(e);if(r)r.value=t,n!==i.None&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case i.None:this.addItemLast(r);break;case i.First:this.addItemFirst(r);break;case i.Last:default:this.addItemLast(r)}this._map.set(e,r),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===i.First||t===i.Last)if(t===i.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===i.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),r=n(16),o=n(50),s=n(28),a=n(20),c=n(21);t.generateRandomPipeName=function(){const e=o.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:i.join(r.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,i=new Promise((e,t)=>{n=e});return new Promise((r,o)=>{let u=s.createServer(e=>{u.close(),n([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])});u.on("error",o),u.listen(e,()=>{u.removeListener("error",o),r({onConnected:()=>i})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new c.SocketMessageWriter(n,t)]}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(28),r=n(20),o=n(21);t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise((e,t)=>{n=e});return new Promise((a,c)=>{let u=i.createServer(e=>{u.close(),n([new r.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});u.on("error",c),u.listen(e,"127.0.0.1",()=>{u.removeListener("error",c),a({onConnected:()=>s})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=i.createConnection(e,"127.0.0.1");return[new r.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";var i,r,o,s,a,c,u,l,d,h,f,p,m,g,v,y,w,_,C;n.r(t),n.d(t,"Position",(function(){return i})),n.d(t,"Range",(function(){return r})),n.d(t,"Location",(function(){return o})),n.d(t,"LocationLink",(function(){return s})),n.d(t,"Color",(function(){return a})),n.d(t,"ColorInformation",(function(){return c})),n.d(t,"ColorPresentation",(function(){return u})),n.d(t,"FoldingRangeKind",(function(){return l})),n.d(t,"FoldingRange",(function(){return d})),n.d(t,"DiagnosticRelatedInformation",(function(){return h})),n.d(t,"DiagnosticSeverity",(function(){return f})),n.d(t,"Diagnostic",(function(){return p})),n.d(t,"Command",(function(){return m})),n.d(t,"TextEdit",(function(){return g})),n.d(t,"TextDocumentEdit",(function(){return v})),n.d(t,"CreateFile",(function(){return y})),n.d(t,"RenameFile",(function(){return w})),n.d(t,"DeleteFile",(function(){return _})),n.d(t,"WorkspaceEdit",(function(){return C})),n.d(t,"WorkspaceChange",(function(){return K})),n.d(t,"TextDocumentIdentifier",(function(){return S})),n.d(t,"VersionedTextDocumentIdentifier",(function(){return b})),n.d(t,"TextDocumentItem",(function(){return E})),n.d(t,"MarkupKind",(function(){return x})),n.d(t,"MarkupContent",(function(){return R})),n.d(t,"CompletionItemKind",(function(){return k})),n.d(t,"InsertTextFormat",(function(){return T})),n.d(t,"CompletionItem",(function(){return D})),n.d(t,"CompletionList",(function(){return O})),n.d(t,"MarkedString",(function(){return P})),n.d(t,"Hover",(function(){return N})),n.d(t,"ParameterInformation",(function(){return F})),n.d(t,"SignatureInformation",(function(){return M})),n.d(t,"DocumentHighlightKind",(function(){return L})),n.d(t,"DocumentHighlight",(function(){return q})),n.d(t,"SymbolKind",(function(){return I})),n.d(t,"SymbolInformation",(function(){return A})),n.d(t,"DocumentSymbol",(function(){return G})),n.d(t,"CodeActionKind",(function(){return W})),n.d(t,"CodeActionContext",(function(){return U})),n.d(t,"CodeAction",(function(){return H})),n.d(t,"CodeLens",(function(){return $})),n.d(t,"FormattingOptions",(function(){return z})),n.d(t,"DocumentLink",(function(){return V})),n.d(t,"EOL",(function(){return X})),n.d(t,"TextDocument",(function(){return J})),n.d(t,"TextDocumentSaveReason",(function(){return B})),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return Y.objectLiteral(t)&&Y.number(t.line)&&Y.number(t.character)}}(i||(i={})),function(e){e.create=function(e,t,n,r){if(Y.number(e)&&Y.number(t)&&Y.number(n)&&Y.number(r))return{start:i.create(e,t),end:i.create(n,r)};if(i.is(e)&&i.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return Y.objectLiteral(t)&&i.is(t.start)&&i.is(t.end)}}(r||(r={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Y.defined(t)&&r.is(t.range)&&(Y.string(t.uri)||Y.undefined(t.uri))}}(o||(o={})),function(e){e.create=function(e,t,n,i){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:i}},e.is=function(e){var t=e;return Y.defined(t)&&r.is(t.targetRange)&&Y.string(t.targetUri)&&(r.is(t.targetSelectionRange)||Y.undefined(t.targetSelectionRange))&&(r.is(t.originSelectionRange)||Y.undefined(t.originSelectionRange))}}(s||(s={})),function(e){e.create=function(e,t,n,i){return{red:e,green:t,blue:n,alpha:i}},e.is=function(e){var t=e;return Y.number(t.red)&&Y.number(t.green)&&Y.number(t.blue)&&Y.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return r.is(t.range)&&a.is(t.color)}}(c||(c={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Y.string(t.label)&&(Y.undefined(t.textEdit)||g.is(t))&&(Y.undefined(t.additionalTextEdits)||Y.typedArray(t.additionalTextEdits,g.is))}}(u||(u={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(l||(l={})),function(e){e.create=function(e,t,n,i,r){var o={startLine:e,endLine:t};return Y.defined(n)&&(o.startCharacter=n),Y.defined(i)&&(o.endCharacter=i),Y.defined(r)&&(o.kind=r),o},e.is=function(e){var t=e;return Y.number(t.startLine)&&Y.number(t.startLine)&&(Y.undefined(t.startCharacter)||Y.number(t.startCharacter))&&(Y.undefined(t.endCharacter)||Y.number(t.endCharacter))&&(Y.undefined(t.kind)||Y.string(t.kind))}}(d||(d={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Y.defined(t)&&o.is(t.location)&&Y.string(t.message)}}(h||(h={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(f||(f={})),function(e){e.create=function(e,t,n,i,r,o){var s={range:e,message:t};return Y.defined(n)&&(s.severity=n),Y.defined(i)&&(s.code=i),Y.defined(r)&&(s.source=r),Y.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t=e;return Y.defined(t)&&r.is(t.range)&&Y.string(t.message)&&(Y.number(t.severity)||Y.undefined(t.severity))&&(Y.number(t.code)||Y.string(t.code)||Y.undefined(t.code))&&(Y.string(t.source)||Y.undefined(t.source))&&(Y.undefined(t.relatedInformation)||Y.typedArray(t.relatedInformation,h.is))}}(p||(p={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={title:e,command:t};return Y.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){var t=e;return Y.defined(t)&&Y.string(t.title)&&Y.string(t.command)}}(m||(m={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Y.objectLiteral(t)&&Y.string(t.newText)&&r.is(t.range)}}(g||(g={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Y.defined(t)&&b.is(t.textDocument)&&Array.isArray(t.edits)}}(v||(v={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&Y.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Y.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Y.boolean(t.options.ignoreIfExists)))}}(y||(y={})),function(e){e.create=function(e,t,n){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Y.string(t.oldUri)&&Y.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Y.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Y.boolean(t.options.ignoreIfExists)))}}(w||(w={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Y.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Y.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Y.boolean(t.options.ignoreIfNotExists)))}}(_||(_={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Y.string(e.kind)?y.is(e)||w.is(e)||_.is(e):v.is(e)})))}}(C||(C={}));var S,b,E,x,R,k,T,D,O,P,N,F,M,L,q,I,A,j=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(g.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(g.replace(e,t))},e.prototype.delete=function(e){this.edits.push(g.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),K=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(v.is(e)){var n=new j(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var i=new j(e.changes[n]);t._textEditChanges[n]=i})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(b.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(i=this._textEditChanges[t.uri])){var n={textDocument:t,edits:r=[]};this._workspaceEdit.documentChanges.push(n),i=new j(r),this._textEditChanges[t.uri]=i}return i}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var i;if(!(i=this._textEditChanges[e])){var r=[];this._workspaceEdit.changes[e]=r,i=new j(r),this._textEditChanges[e]=i}return i},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(y.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(w.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(_.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Y.defined(t)&&Y.string(t.uri)}}(S||(S={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Y.defined(t)&&Y.string(t.uri)&&(null===t.version||Y.number(t.version))}}(b||(b={})),function(e){e.create=function(e,t,n,i){return{uri:e,languageId:t,version:n,text:i}},e.is=function(e){var t=e;return Y.defined(t)&&Y.string(t.uri)&&Y.string(t.languageId)&&Y.number(t.version)&&Y.string(t.text)}}(E||(E={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(x||(x={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(x||(x={})),function(e){e.is=function(e){var t=e;return Y.objectLiteral(e)&&x.is(t.kind)&&Y.string(t.value)}}(R||(R={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(k||(k={})),function(e){e.PlainText=1,e.Snippet=2}(T||(T={})),function(e){e.create=function(e){return{label:e}}}(D||(D={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(O||(O={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Y.string(t)||Y.objectLiteral(t)&&Y.string(t.language)&&Y.string(t.value)}}(P||(P={})),function(e){e.is=function(e){var t=e;return!!t&&Y.objectLiteral(t)&&(R.is(t.contents)||P.is(t.contents)||Y.typedArray(t.contents,P.is))&&(void 0===e.range||r.is(e.range))}}(N||(N={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(F||(F={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={label:e};return Y.defined(t)&&(r.documentation=t),Y.defined(n)?r.parameters=n:r.parameters=[],r}}(M||(M={})),function(e){e.Text=1,e.Read=2,e.Write=3}(L||(L={})),function(e){e.create=function(e,t){var n={range:e};return Y.number(t)&&(n.kind=t),n}}(q||(q={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(I||(I={})),function(e){e.create=function(e,t,n,i,r){var o={name:e,kind:t,location:{uri:i,range:n}};return r&&(o.containerName=r),o}}(A||(A={}));var W,U,H,$,z,G=function(){};!function(e){e.create=function(e,t,n,i,r,o){var s={name:e,detail:t,kind:n,range:i,selectionRange:r};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&Y.string(t.name)&&Y.number(t.kind)&&r.is(t.range)&&r.is(t.selectionRange)&&(void 0===t.detail||Y.string(t.detail))&&(void 0===t.deprecated||Y.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(G||(G={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(W||(W={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return Y.defined(t)&&Y.typedArray(t.diagnostics,p.is)&&(void 0===t.only||Y.typedArray(t.only,Y.string))}}(U||(U={})),function(e){e.create=function(e,t,n){var i={title:e};return m.is(t)?i.command=t:i.edit=t,void 0!==n&&(i.kind=n),i},e.is=function(e){var t=e;return t&&Y.string(t.title)&&(void 0===t.diagnostics||Y.typedArray(t.diagnostics,p.is))&&(void 0===t.kind||Y.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||m.is(t.command))&&(void 0===t.edit||C.is(t.edit))}}(H||(H={})),function(e){e.create=function(e,t){var n={range:e};return Y.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Y.defined(t)&&r.is(t.range)&&(Y.undefined(t.command)||m.is(t.command))}}($||($={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Y.defined(t)&&Y.number(t.tabSize)&&Y.boolean(t.insertSpaces)}}(z||(z={}));var V=function(){};!function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Y.defined(t)&&r.is(t.range)&&(Y.undefined(t.target)||Y.string(t.target))}}(V||(V={}));var J,B,X=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,i){return new Q(e,t,n,i)},e.is=function(e){var t=e;return!!(Y.defined(t)&&Y.string(t.uri)&&(Y.undefined(t.languageId)||Y.string(t.languageId))&&Y.number(t.lineCount)&&Y.func(t.getText)&&Y.func(t.positionAt)&&Y.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),i=function e(t,n){if(t.length<=1)return t;var i=t.length/2|0,r=t.slice(0,i),o=t.slice(i);e(r,n),e(o,n);var s=0,a=0,c=0;for(;s<r.length&&a<o.length;){var u=n(r[s],o[a]);t[c++]=u<=0?r[s++]:o[a++]}for(;s<r.length;)t[c++]=r[s++];for(;a<o.length;)t[c++]=o[a++];return t}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),r=n.length,o=i.length-1;o>=0;o--){var s=i[o],a=e.offsetAt(s.range.start),c=e.offsetAt(s.range.end);if(!(c<=r))throw new Error("Overlapping edit");n=n.substring(0,a)+s.newText+n.substring(c,n.length),r=a}return n}}(J||(J={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(B||(B={}));var Y,Q=function(){function e(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,i=0;i<t.length;i++){n&&(e.push(i),n=!1);var r=t.charAt(i);n="\r"===r||"\n"===r,"\r"===r&&i+1<t.length&&"\n"===t.charAt(i+1)&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return i.create(0,e);for(;n<r;){var o=Math.floor((n+r)/2);t[o]>e?r=o:n=o+1}var s=n-1;return i.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Y||(Y={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(54),r=n(7),o=n(55);t.ImplementationRequest=o.ImplementationRequest;const s=n(56);t.TypeDefinitionRequest=s.TypeDefinitionRequest;const a=n(57);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const c=n(58);t.ConfigurationRequest=c.ConfigurationRequest;const u=n(59);t.DocumentColorRequest=u.DocumentColorRequest,t.ColorPresentationRequest=u.ColorPresentationRequest;const l=n(60);t.FoldingRangeRequest=l.FoldingRangeRequest;const d=n(61);t.DeclarationRequest=d.DeclarationRequest,function(e){e.is=function(e){let t=e;return i.string(t.language)||i.string(t.scheme)||i.string(t.pattern)}}(t.DocumentFilter||(t.DocumentFilter={})),function(e){e.type=new r.RequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new r.RequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.type=new r.RequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new r.NotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new r.RequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new r.NotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new r.NotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new r.NotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new r.RequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new r.NotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new r.NotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.type=new r.NotificationType("textDocument/didOpen")}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.type=new r.NotificationType("textDocument/didChange")}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.type=new r.NotificationType("textDocument/didClose")}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.type=new r.NotificationType("textDocument/didSave")}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.type=new r.NotificationType("textDocument/willSave")}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.type=new r.RequestType("textDocument/willSaveWaitUntil")}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new r.NotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new r.NotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.type=new r.RequestType("textDocument/completion")}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.type=new r.RequestType("completionItem/resolve")}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.type=new r.RequestType("textDocument/hover")}(t.HoverRequest||(t.HoverRequest={})),function(e){e.type=new r.RequestType("textDocument/signatureHelp")}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.type=new r.RequestType("textDocument/definition")}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.type=new r.RequestType("textDocument/references")}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.type=new r.RequestType("textDocument/documentHighlight")}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.type=new r.RequestType("textDocument/documentSymbol")}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.type=new r.RequestType("workspace/symbol")}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new r.RequestType("textDocument/codeAction")}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.type=new r.RequestType("textDocument/codeLens")}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new r.RequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.type=new r.RequestType("textDocument/formatting")}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.type=new r.RequestType("textDocument/rangeFormatting")}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.type=new r.RequestType("textDocument/onTypeFormatting")}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.type=new r.RequestType("textDocument/rename")}(t.RenameRequest||(t.RenameRequest={})),function(e){e.type=new r.RequestType("textDocument/prepareRename")}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new r.RequestType("textDocument/documentLink")}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new r.RequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.type=new r.RequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new r.RequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function i(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=i,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>i(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&r(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);!function(e){e.type=new i.RequestType("textDocument/implementation")}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);!function(e){e.type=new i.RequestType("textDocument/typeDefinition")}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);!function(e){e.type=new i.RequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new i.NotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);!function(e){e.type=new i.RequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);!function(e){e.type=new i.RequestType("textDocument/documentColor")}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new i.RequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.type=new i.RequestType("textDocument/foldingRange")}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7);!function(e){e.type=new i.RequestType("textDocument/declaration")}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(5),o=n(8),s=n(29),a=n(30),c=n(31);t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function u(e){return{uri:t(e.uri)}}function l(e){return{uri:t(e.uri),version:e.version}}function d(e){switch(e){case i.TextDocumentSaveReason.Manual:return r.TextDocumentSaveReason.Manual;case i.TextDocumentSaveReason.AfterDelay:return r.TextDocumentSaveReason.AfterDelay;case i.TextDocumentSaveReason.FocusOut:return r.TextDocumentSaveReason.FocusOut}return r.TextDocumentSaveReason.Manual}function h(e){switch(e){case i.CompletionTriggerKind.TriggerCharacter:return r.CompletionTriggerKind.TriggerCharacter;case i.CompletionTriggerKind.TriggerForIncompleteCompletions:return r.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return r.CompletionTriggerKind.Invoked}}function f(e){return{line:e.line,character:e.character}}function p(e){if(void 0!==e)return null===e?null:{line:e.line,character:e.character}}function m(e){return null==e?e:{start:p(e.start),end:p(e.end)}}function g(e){switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}}function v(e){let t=r.Diagnostic.create(m(e.range),e.message);return o.number(e.severity)&&(t.severity=g(e.severity)),(o.number(e.code)||o.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),t}function y(e){return null==e?e:e.map(v)}function w(e){return{range:m(e.range),newText:e.newText}}function _(e){let t=r.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:n,asTextDocumentIdentifier:u,asVersionedTextDocumentIdentifier:l,asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e)){return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]}}if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map(e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}})}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:u(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:l(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:u(e.document),reason:d(e.reason)}},asTextDocumentPositionParams:function(e,t){return{textDocument:u(e),position:f(t)}},asCompletionParams:function(e,t,n){return{textDocument:u(e),position:f(t),context:{triggerKind:h(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asWorkerPosition:f,asRange:m,asPosition:p,asDiagnosticSeverity:g,asDiagnostic:v,asDiagnostics:y,asCompletionItem:function(e){let t={label:e.label},n=e instanceof s.default?e:void 0;var a,c;return e.detail&&(t.detail=e.detail),e.documentation&&(n&&"$string"!==n.documentationFormat?t.documentation=function(e,t){switch(e){case"$string":return t;case r.MarkupKind.PlainText:return{kind:e,value:t};case r.MarkupKind.Markdown:return{kind:e,value:t.value};default:return"Unsupported Markup content received. Kind is: "+e}}(n.documentationFormat,e.documentation):t.documentation=e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let n,o=r.InsertTextFormat.PlainText,s=void 0;t.textEdit?(n=t.textEdit.newText,s=m(t.textEdit.range)):t.insertText instanceof i.SnippetString?(o=r.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText;t.range&&(s=m(t.range));e.insertTextFormat=o,t.fromEdit&&n&&s?e.textEdit={newText:n,range:s}:e.insertText=n}(t,e),o.number(e.kind)&&(t.kind=(a=e.kind,void 0!==(c=n&&n.originalItemKind)?c:a+1)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=function(e){if(null==e)return e;return e.map(w)}(e.additionalTextEdits)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=_(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),n&&(void 0!==n.data&&(t.data=n.data),!0!==n.deprecated&&!1!==n.deprecated||(t.deprecated=n.deprecated)),t},asTextEdit:w,asReferenceParams:function(e,t,n){return{textDocument:u(e),position:f(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeActionContext:function(e){return null==e?e:r.CodeActionContext.create(y(e.diagnostics),o.string(e.only)?[e.only]:void 0)},asCommand:_,asCodeLens:function(e){let t=r.CodeLens.create(m(e.range));return e.command&&(t.command=_(e.command)),e instanceof a.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}},asDocumentSymbolParams:function(e){return{textDocument:u(e)}},asCodeLensParams:function(e){return{textDocument:u(e)}},asDocumentLink:function(e){let t=r.DocumentLink.create(m(e.range));e.target&&(t.target=n(e.target));let i=e instanceof c.default?e:void 0;return i&&i.data&&(t.data=i.data),t},asDocumentLinkParams:function(e){return{textDocument:u(e)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(5),o=n(8),s=n(29),a=n(30),c=n(31);var u;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(u||(u={})),t.createConverter=function(e){const t=e||(e=>i.Uri.parse(e));function n(e){return t(e)}function l(e){return e.map(d)}function d(e){let t=new i.Diagnostic(p(e.range),e.message,m(e.severity));return(o.number(e.code)||o.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(h)),t}function h(e){return new i.DiagnosticRelatedInformation(E(e.location),e.message)}function f(e){if(e)return new i.Position(e.line,e.character)}function p(e){if(e)return new i.Range(f(e.start),f(e.end))}function m(e){if(null==e)return i.DiagnosticSeverity.Error;switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}return i.DiagnosticSeverity.Error}function g(e){if(o.string(e))return e;switch(e.kind){case r.MarkupKind.Markdown:return new i.MarkdownString(e.value);case r.MarkupKind.PlainText:return e.value;default:return"Unsupported Markup content received. Kind is: "+e.kind}}function v(e){let t=new s.default(e.label);e.detail&&(t.detail=e.detail),e.documentation&&(t.documentation=g(e.documentation),t.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(t.filterText=e.filterText);let n=function(e){return e.textEdit?e.insertTextFormat===r.InsertTextFormat.Snippet?{text:new i.SnippetString(e.textEdit.newText),range:p(e.textEdit.range),fromEdit:!0}:{text:e.textEdit.newText,range:p(e.textEdit.range),fromEdit:!0}:e.insertText?e.insertTextFormat===r.InsertTextFormat.Snippet?{text:new i.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(n&&(t.insertText=n.text,t.range=n.range,t.fromEdit=n.fromEdit),o.number(e.kind)){let[n,o]=(a=e.kind,r.CompletionItemKind.Text<=a&&a<=r.CompletionItemKind.TypeParameter?[a-1,void 0]:[i.CompletionItemKind.Text,a]);t.kind=n,o&&(t.originalItemKind=o)}var a;return e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=w(e.additionalTextEdits)),o.stringArray(e.commitCharacters)&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=N(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(t.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),void 0!==e.data&&(t.data=e.data),t}function y(e){if(e)return new i.TextEdit(p(e.range),e.newText)}function w(e){if(e)return e.map(y)}function _(e){return e.map(C)}function C(e){let t=new i.SignatureInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),e.parameters&&(t.parameters=S(e.parameters)),t}function S(e){return e.map(b)}function b(e){let t=new i.ParameterInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),t}function E(e){if(e)return new i.Location(t(e.uri),p(e.range))}function x(e){if(e)return{targetUri:t(e.targetUri),targetRange:p(e.targetSelectionRange),originSelectionRange:p(e.originSelectionRange),targetSelectionRange:p(e.targetSelectionRange)}}function R(e){if(e){if(o.array(e)){if(0===e.length)return[];if(r.LocationLink.is(e[0])){return e.map(e=>x(e))}return e.map(e=>E(e))}return r.LocationLink.is(e)?[x(e)]:E(e)}}function k(e){let t=new i.DocumentHighlight(p(e.range));return o.number(e.kind)&&(t.kind=T(e.kind)),t}function T(e){switch(e){case r.DocumentHighlightKind.Text:return i.DocumentHighlightKind.Text;case r.DocumentHighlightKind.Read:return i.DocumentHighlightKind.Read;case r.DocumentHighlightKind.Write:return i.DocumentHighlightKind.Write}return i.DocumentHighlightKind.Text}function D(e){return e<=r.SymbolKind.TypeParameter?e-1:i.SymbolKind.Property}function O(e,n){let r=new i.SymbolInformation(e.name,D(e.kind),p(e.location.range),e.location.uri?t(e.location.uri):n);return e.containerName&&(r.containerName=e.containerName),r}function P(e){let t=new i.DocumentSymbol(e.name,e.detail||"",D(e.kind),p(e.range),p(e.selectionRange));if(void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(P(t));t.children=n}return t}function N(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const F=new Map;function M(e){if(null==e)return;let t=F.get(e);if(t)return t;let n=e.split(".");t=i.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}function L(e){if(!e)return;let t=new a.default(p(e.range));return e.command&&(t.command=N(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}function q(e){if(!e)return;let n=new i.WorkspaceEdit;return e.documentChanges?e.documentChanges.forEach(e=>{r.CreateFile.is(e)?n.createFile(t(e.uri),e.options):r.RenameFile.is(e)?n.renameFile(t(e.oldUri),t(e.newUri),e.options):r.DeleteFile.is(e)?n.deleteFile(t(e.uri),e.options):r.TextDocumentEdit.is(e)?n.set(t(e.textDocument.uri),w(e.edits)):console.error("Unknown workspace edit change received:\n"+JSON.stringify(e,void 0,4))}):e.changes&&Object.keys(e.changes).forEach(i=>{n.set(t(i),w(e.changes[i]))}),n}function I(e){let t=p(e.range),i=e.target?n(e.target):void 0,r=new c.default(t,i);return void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function A(e){return new i.Color(e.red,e.green,e.blue,e.alpha)}function j(e){return new i.ColorInformation(p(e.range),A(e.color))}function K(e){let t=new i.ColorPresentation(e.label);return t.additionalTextEdits=w(e.additionalTextEdits),e.textEdit&&(t.textEdit=y(e.textEdit)),t}function W(e){if(e)switch(e){case r.FoldingRangeKind.Comment:return i.FoldingRangeKind.Comment;case r.FoldingRangeKind.Imports:return i.FoldingRangeKind.Imports;case r.FoldingRangeKind.Region:return i.FoldingRangeKind.Region}}function U(e){return new i.FoldingRange(e.startLine,e.endLine,W(e.kind))}return F.set("",i.CodeActionKind.Empty),F.set(r.CodeActionKind.QuickFix,i.CodeActionKind.QuickFix),F.set(r.CodeActionKind.Refactor,i.CodeActionKind.Refactor),F.set(r.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorExtract),F.set(r.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorInline),F.set(r.CodeActionKind.RefactorRewrite,i.CodeActionKind.RefactorRewrite),F.set(r.CodeActionKind.Source,i.CodeActionKind.Source),F.set(r.CodeActionKind.SourceOrganizeImports,i.CodeActionKind.SourceOrganizeImports),{asUri:n,asDiagnostics:l,asDiagnostic:d,asRange:p,asPosition:f,asDiagnosticSeverity:m,asHover:function(e){if(e)return new i.Hover(function(e){if(o.string(e))return new i.MarkdownString(e);if(u.is(e)){return(new i.MarkdownString).appendCodeblock(e.value,e.language)}if(Array.isArray(e)){let t=[];for(let n of e){let e=new i.MarkdownString;u.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}{let t;switch(e.kind){case r.MarkupKind.Markdown:return new i.MarkdownString(e.value);case r.MarkupKind.PlainText:return t=new i.MarkdownString,t.appendText(e.value),t;default:return t=new i.MarkdownString,t.appendText("Unsupported Markup content received. Kind is: "+e.kind),t}}}(e.contents),p(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e)){return e.map(v)}let t=e;return new i.CompletionList(t.items.map(v),t.isIncomplete)},asCompletionItem:v,asTextEdit:y,asTextEdits:w,asSignatureHelp:function(e){if(!e)return;let t=new i.SignatureHelp;return o.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,o.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures&&(t.signatures=_(e.signatures)),t},asSignatureInformations:_,asSignatureInformation:C,asParameterInformations:S,asParameterInformation:b,asDeclarationResult:function(e){if(e)return R(e)},asDefinitionResult:function(e){if(e)return R(e)},asLocation:E,asReferences:function(e){if(e)return e.map(e=>E(e))},asDocumentHighlights:function(e){if(e)return e.map(k)},asDocumentHighlight:k,asDocumentHighlightKind:T,asSymbolInformations:function(e,t){if(e)return e.map(e=>O(e,t))},asSymbolInformation:O,asDocumentSymbols:function(e){if(null!=e)return e.map(P)},asDocumentSymbol:P,asCommand:N,asCommands:function(e){if(e)return e.map(N)},asCodeAction:function(e){if(null==e)return;let t=new i.CodeAction(e.title);return void 0!==e.kind&&(t.kind=M(e.kind)),e.diagnostics&&(t.diagnostics=l(e.diagnostics)),e.edit&&(t.edit=q(e.edit)),e.command&&(t.command=N(e.command)),t},asCodeActionKind:M,asCodeActionKinds:function(e){if(null!=e)return e.map(e=>M(e))},asCodeLens:L,asCodeLenses:function(e){if(e)return e.map(e=>L(e))},asWorkspaceEdit:q,asDocumentLink:I,asDocumentLinks:function(e){if(e)return e.map(I)},asFoldingRangeKind:W,asFoldingRange:U,asFoldingRanges:function(e){if(Array.isArray(e))return e.map(U)},asColor:A,asColorInformation:j,asColorInformations:function(e){if(Array.isArray(e))return e.map(j)},asColorPresentation:K,asColorPresentations:function(e){if(Array.isArray(e))return e.map(K)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(e=>{this.onSuccess=e}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e})),(t>=0||void 0===this.timeout)&&(this.timeout=setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(11),r=n(8),o=n(1),s=n(5),a=n(10);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class u extends a.TextDocumentFeature{constructor(e){super(e,s.DocumentColorRequest.type)}fillClientCapabilities(e){c(c(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){if(!e.colorProvider)return;const n=e.colorProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>{const r={color:e,textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(n.document),range:t.code2ProtocolConverter.asRange(n.range)};return t.sendRequest(s.ColorPresentationRequest.type,r,i).then(this.asColorPresentations.bind(this),e=>(t.logFailedRequest(s.ColorPresentationRequest.type,e),Promise.resolve(null)))},i=(e,n)=>{const i={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(s.DocumentColorRequest.type,i,n).then(this.asColorInformations.bind(this),e=>(t.logFailedRequest(s.ColorPresentationRequest.type,e),Promise.resolve(null)))},r=t.clientOptions.middleware;return o.languages.registerColorProvider(e.documentSelector,{provideColorPresentations:(e,t,i)=>r.provideColorPresentations?r.provideColorPresentations(e,t,i,n):n(e,t,i),provideDocumentColors:(e,t)=>r.provideDocumentColors?r.provideDocumentColors(e,t,i):i(e,t)})}asColor(e){return new o.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(e=>new o.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(e=>{let t=new o.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t}):[]}}t.ColorProviderFeature=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(5);t.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(r.ConfigurationRequest.type,(t,n)=>{let i=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},r=e.clientOptions.middleware.workspace;return r&&r.configuration?r.configuration(t,n,i):i(t)})}getConfiguration(e,t){let n=null;if(t){let r=t.lastIndexOf(".");if(-1===r)n=i.workspace.getConfiguration(void 0,e).get(t);else{let e=i.workspace.getConfiguration(t.substr(0,r));e&&(n=e.get(t.substr(r+1)))}}else{let t=i.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=t.get(e))}return n||null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(11),r=n(8),o=n(1),s=n(5),a=n(10);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class u extends a.TextDocumentFeature{constructor(e){super(e,s.ImplementationRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.implementationProvider)if(!0===e.implementationProvider){if(!t)return;this.register(this.messages,{id:i.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.implementationProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(s.ImplementationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(s.ImplementationRequest.type,e),Promise.resolve(null))),i=t.clientOptions.middleware;return o.languages.registerImplementationProvider(e.documentSelector,{provideImplementation:(e,t,r)=>i.provideImplementation?i.provideImplementation(e,t,r,n):n(e,t,r)})}}t.ImplementationFeature=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(11),r=n(8),o=n(1),s=n(5),a=n(10);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class u extends a.TextDocumentFeature{constructor(e){super(e,s.TypeDefinitionRequest.type)}fillClientCapabilities(e){c(c(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=c(c(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.typeDefinitionProvider)if(!0===e.typeDefinitionProvider){if(!t)return;this.register(this.messages,{id:i.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.typeDefinitionProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(s.TypeDefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(s.TypeDefinitionRequest.type,e),Promise.resolve(null))),i=t.clientOptions.middleware;return o.languages.registerTypeDefinitionProvider(e.documentSelector,{provideTypeDefinition:(e,t,r)=>i.provideTypeDefinition?i.provideTypeDefinition(e,t,r,n):n(e,t,r)})}}t.TypeDefinitionFeature=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(11),r=n(1),o=n(5);function s(e,t){if(void 0!==e)return e[t]}t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get messages(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=r.workspace.workspaceFolders;e.workspaceFolders=void 0===t?null:t.map(e=>this.asProtocol(e))}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,e=>{let n=()=>{let e=r.workspace.workspaceFolders;return void 0===e?null:e.map(e=>this.asProtocol(e))},i=t.clientOptions.middleware.workspace;return i&&i.workspaceFolders?i.workspaceFolders(e,n):n()});let n,a=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");"string"==typeof a?n=a:!0===a&&(n=i.generateUuid()),n&&this.register(this.messages,{id:n,registerOptions:void 0})}register(e,t){let n=t.id,i=this._client,s=r.workspace.onDidChangeWorkspaceFolders(e=>{let t=e=>{let t={event:{added:e.added.map(e=>this.asProtocol(e)),removed:e.removed.map(e=>this.asProtocol(e))}};this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,t)},n=i.clientOptions.middleware.workspace;n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(e,t):t(e)});this._listeners.set(n,s)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(11),r=n(8),o=n(1),s=n(5),a=n(10);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class u extends a.TextDocumentFeature{constructor(e){super(e,s.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){if(!e.foldingRangeProvider)return;const n=e.foldingRangeProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>{const r={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(s.FoldingRangeRequest.type,r,i).then(this.asFoldingRanges.bind(this),e=>(t.logFailedRequest(s.FoldingRangeRequest.type,e),Promise.resolve(null)))},i=t.clientOptions.middleware;return o.languages.registerFoldingRangeProvider(e.documentSelector,{provideFoldingRanges:(e,t,r)=>i.provideFoldingRanges?i.provideFoldingRanges(e,t,r,n):n(e,0,r)})}asFoldingRangeKind(e){if(e)switch(e){case s.FoldingRangeKind.Comment:return o.FoldingRangeKind.Comment;case s.FoldingRangeKind.Imports:return o.FoldingRangeKind.Imports;case s.FoldingRangeKind.Region:return o.FoldingRangeKind.Region}}asFoldingRanges(e){return Array.isArray(e)?e.map(e=>new o.FoldingRange(e.startLine,e.endLine,this.asFoldingRangeKind(e.kind))):[]}}t.FoldingRangeFeature=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(11),r=n(8),o=n(1),s=n(5),a=n(10);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class u extends a.TextDocumentFeature{constructor(e){super(e,s.DeclarationRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.declarationProvider)if(!0===e.declarationProvider){if(!t)return;this.register(this.messages,{id:i.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.declarationProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(s.DeclarationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDeclarationResult,e=>(t.logFailedRequest(s.DeclarationRequest.type,e),Promise.resolve(null))),i=t.clientOptions.middleware;return o.languages.registerDeclarationProvider(e.documentSelector,{provideDeclaration:(e,t,r)=>i.provideDeclaration?i.provideDeclaration(e,t,r,n):n(e,t,r)})}}t.DeclarationFeature=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(13),r=n(0),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),i.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=r.join(__dirname,"terminateProcess.sh");return!i.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(16),o=n(0),s=n(23),a=n(24),c="object"==typeof v8debug||function(e){return!!e&&e.some(e=>/^--inspect/.test(e)||/^--debug/.test(e))}(process.execArgv);function u(e,t){if(!t)return;let n=t.match(/(?:[^\s"]+|"[^"]*")+/g);null!==n&&n.forEach(t=>{t=(t=t.replace(/(\\)?"/g,(function(e,t){return t?e:""}))).replace(/(\\)"/g,'"'),e.indexOf(t)<0&&e.push(t)})}t.prepareExecutable=function(e,t,n){let l=Object.create(null),d=Object.create(null);return d.env=process.env,d.stdio="pipe",l.options=d,l.command=o.resolve(e.java_home+"/bin/java"),l.args=function(e,t,n){let l=[];c&&("true"===process.env.SUSPEND_SERVER?l.push("-agentlib:jdwp=transport=dt_socket,server=y,address=1054"):l.push("-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=1054,quiet=y"));let d,h=i.workspace.getConfiguration().inspect(s.xmlServerVmargs).workspaceValue;if(void 0!==h){if(null!==s.getJavaagentFlag(h)){const e=s.getKey(s.IS_WORKSPACE_VMARGS_XML_ALLOWED,n.storagePath,h);!0!==n.globalState.get(e)&&(h=i.workspace.getConfiguration().inspect(s.xmlServerVmargs).globalValue)}}else h=s.getXMLConfiguration().get("server.vmargs");d=void 0!==h?h+"":"";if("win32"==r.platform()){const e="-DwatchParentProcess=";d.indexOf(e)<0&&l.push(e+"false")}l.indexOf("-noverify")<0&&l.indexOf("-Xverify:none")<0&&e.java_version<13&&l.push("-noverify");u(l,d);let f=o.resolve(__dirname,"../server"),p=a.sync("**/org.eclipse.lemminx*-uber.jar",{cwd:f});if(!p.length)return null;{let e="";if(t.length>0){const n="win32"==r.platform()?";":":";e=n+t.join(n)}l.push("-cp"),l.push(o.resolve(f,p[0])+e),l.push("org.eclipse.lemminx.XMLServerLauncher")}return l}(e,t,n),l},t.parseVMargs=u},function(e,t,n){var i=n(0),r="win32"===process.platform,o=n(4),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}i.normalize;if(r)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(r)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=i.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,a,l,d=e,h={},f={};function p(){var t=u.exec(e);n=t[0].length,s=t[0],a=t[0],l="",r&&!f[a]&&(o.lstatSync(a),f[a]=!0)}for(p();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(l=s,s+=m[0],a=l+m[1],n=c.lastIndex,!(f[a]||t&&t[a]===a)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,a))g=t[a];else{var v=o.lstatSync(a);if(!v.isSymbolicLink()){f[a]=!0,t&&(t[a]=a);continue}var y=null;if(!r){var w=v.dev.toString(32)+":"+v.ino.toString(32);h.hasOwnProperty(w)&&(y=h[w])}null===y&&(o.statSync(a),y=o.readlinkSync(a)),g=i.resolve(l,y),t&&(t[a]=g),r||(h[w]=y)}e=i.resolve(g,e.slice(n)),p()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=i.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var s,l,d,h,f=e,p={},m={};function g(){var t=u.exec(e);s=t[0].length,l=t[0],d=t[0],h="",r&&!m[d]?o.lstat(d,(function(e){if(e)return n(e);m[d]=!0,v()})):process.nextTick(v)}function v(){if(s>=e.length)return t&&(t[f]=e),n(null,e);c.lastIndex=s;var i=c.exec(e);return h=l,l+=i[0],d=h+i[1],s=c.lastIndex,m[d]||t&&t[d]===d?process.nextTick(v):t&&Object.prototype.hasOwnProperty.call(t,d)?_(t[d]):o.lstat(d,y)}function y(e,i){if(e)return n(e);if(!i.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(v);if(!r){var s=i.dev.toString(32)+":"+i.ino.toString(32);if(p.hasOwnProperty(s))return w(null,p[s],d)}o.stat(d,(function(e){if(e)return n(e);o.readlink(d,(function(e,t){r||(p[s]=t),w(e,t)}))}))}function w(e,r,o){if(e)return n(e);var s=i.resolve(h,r);t&&(t[o]=s),_(s)}function _(t){e=i.resolve(t,e.slice(s)),g()}g()}},function(e,t,n){var i=n(76),r=n(77);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[],s=r("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),g=u||d,v=s.body.indexOf(",")>=0;if(!g&&!v)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];if(g)c=s.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var n=[],i=r("{","}",t);if(!i)return t.split(",");var o=i.pre,s=i.body,a=i.post,c=o.split(",");c[c.length-1]+="{"+s+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return n.push.apply(n,c),n}(s.body)).length)if(1===(c=e(c[0],!1).map(h)).length)return(_=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+c[0]+e}))}var y,w=s.pre,_=s.post.length?e(s.post,!1):[""];if(g){var C=l(c[0]),S=l(c[1]),b=Math.max(c[0].length,c[1].length),E=3==c.length?Math.abs(l(c[2])):1,x=p;S<C&&(E*=-1,x=m);var R=c.some(f);y=[];for(var k=C;x(k,S);k+=E){var T;if(d)"\\"===(T=String.fromCharCode(k))&&(T="");else if(T=String(k),R){var D=b-T.length;if(D>0){var O=new Array(D+1).join("0");T=k<0?"-"+O+T.slice(1):O+T}}y.push(T)}}else y=i(c,(function(t){return e(t,!1)}));for(var P=0;P<y.length;P++)for(var N=0;N<_.length;N++){var F=w+y[P]+_[N];(!n||g||F)&&o.push(F)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var i=[],r=0;r<e.length;r++){var o=t(e[r],r);n(o)?i.push.apply(i,o):i.push(o)}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e,t,n){e instanceof RegExp&&(e=r(e,n)),t instanceof RegExp&&(t=r(t,n));var i=o(e,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+t.length)}}function r(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var i,r,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(i=[],o=n.length;l>=0&&!a;)l==c?(i.push(l),c=n.indexOf(e,l+1)):1==i.length?a=[i.pop(),u]:((r=i.pop())<o&&(o=r,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;i.length&&(a=[o,s])}return a}e.exports=i,i.range=o},function(e,t,n){try{var i=n(12);if("function"!=typeof i.inherits)throw"";e.exports=i.inherits}catch(t){e.exports=n(79)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=require("events")},function(e,t,n){e.exports=p,p.GlobSync=m;var i=n(4),r=n(32),o=n(25),s=(o.Minimatch,n(24).Glob,n(12),n(0)),a=n(15),c=n(26),u=n(33),l=(u.alphasort,u.alphasorti,u.setopts),d=u.ownProp,h=u.childrenIgnored,f=u.isIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var e=this;this.matches.forEach((function(t,n){var i=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),i[r.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;i[e._makeAbs(o)]=!0}}))}u.finish(this)},m.prototype._process=function(e,t,n){a(this instanceof m);for(var i,r=0;"string"==typeof e[r];)r++;switch(r){case e.length:return void this._processSimple(e.join("/"),t);case 0:i=null;break;default:i=e.slice(0,r).join("/")}var s,u=e.slice(r);null===i?s=".":c(i)||c(e.join("/"))?(i&&c(i)||(i="/"+i),s=i):s=i;var l=this._makeAbs(s);h(this,s)||(u[0]===o.GLOBSTAR?this._processGlobStar(i,s,l,u,t,n):this._processReaddir(i,s,l,u,t,n))},m.prototype._processReaddir=function(e,t,n,i,r,o){var a=this._readdir(n,o);if(a){for(var c=i[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||"."===l.charAt(0),h=[],f=0;f<a.length;f++){if("."!==(g=a[f]).charAt(0)||d)(u&&!e?!g.match(c):g.match(c))&&h.push(g)}var p=h.length;if(0!==p)if(1!==i.length||this.mark||this.stat){i.shift();for(f=0;f<p;f++){var m;g=h[f];m=e?[e,g]:[g],this._process(m.concat(i),r,o)}}else{this.matches[r]||(this.matches[r]=Object.create(null));for(var f=0;f<p;f++){var g=h[f];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(r,g)}}}},m.prototype._emitMatch=function(e,t){if(!f(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var i=this.cache[n];if("DIR"===i||Array.isArray(i))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=i.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var r=n&&n.isSymbolicLink();return this.symlinks[e]=r,r||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,i.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=t.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,i,r,o){var s=this._readdir(n,o);if(s){var a=i.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,r,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var d=0;d<l;d++){if("."!==s[d].charAt(0)||this.dot){var h=c.concat(s[d],a);this._process(h,r,!0);var f=c.concat(s[d],i);this._process(f,r,!0)}}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var i=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),i&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var r=this.cache[t];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var o=this.statCache[t];if(!o){var s;try{s=i.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=i.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;r=!0;return o&&(r=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||r,(!n||"FILE"!==r)&&r},m.prototype._mark=function(e){return u.mark(this,e)},m.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,n){var i=n(34),r=Object.create(null),o=n(35);function s(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i]=e[i];return n}e.exports=i((function(e,t){return r[e]?(r[e].push(t),null):(r[e]=[t],function(e){return o((function t(){var n=r[e],i=n.length,o=s(arguments);try{for(var a=0;a<i;a++)n[a].apply(null,o)}finally{n.length>i?(n.splice(0,i),process.nextTick((function(){t.apply(null,o)}))):delete r[e]}}))}(e))}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(84),s=n(0),a=n(22);t.markdownPreviewProvider=new class{constructor(){this.documentCache=new Map,this.disposables=[]}show(e,t,n,o){return i(this,void 0,void 0,(function*(){this.panel||(this.panel=r.window.createWebviewPanel("xml.markdownPreview",t,r.ViewColumn.Active,{localResourceRoots:[r.Uri.file(s.join(o.extensionPath,"webview-resources")),r.Uri.file(s.dirname(e))],retainContextWhenHidden:!0,enableFindWidget:!0,enableScripts:!0,enableCommandUris:!0})),this.disposables.push(this.panel.onDidDispose(()=>{this.panel=void 0})),this.panel.iconPath=r.Uri.file(s.join(o.extensionPath,"icons","icon128.png")),this.panel.webview.html=yield this.getHtmlContent(this.panel.webview,e,n,o),this.panel.title=t,this.panel.reveal(this.panel.viewColumn)}))}dispose(){this.panel&&this.panel.dispose();for(const e of this.disposables)e.dispose()}getHtmlContent(e,t,n,s){return i(this,void 0,void 0,(function*(){const i=this.getNonce(),c=this.getStyles(e,s);let u=this.documentCache.get(t);if(!u){let e=yield o.readFile(t,"utf8");e=e.replace(/__VSCODE_ENV_APPNAME_PLACEHOLDER__/,r.env.appName),e=e.replace(/\[([^\]]+)\]\(([^#\)]+)#([^)]*)\)/g,(e,t,n,i)=>`<a href="command:xml.open.docs?%5B%7B%22page%22%3A%22${n}%22%2C%22section%22%3A%22${i}%22%7D%5D">${t}</a>`),u=yield r.commands.executeCommand(a.Commands.MARKDOWN_API_RENDER,e),this.documentCache.set(t,u)}return`\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; img-src 'self' ${e.cspSource} https: data:; script-src 'nonce-${i}';"/>\n                <meta charset="UTF-8">\n                <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                ${c}\n                <base href="${e.asWebviewUri(r.Uri.file(t))}">\n            </head>\n            <body class="vscode-body scrollBeyondLastLine wordWrap showEditorSelection">\n                ${u}\n                <button class="btn floating-bottom-right" id="back-to-top-btn">\n                    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8 6.04042L3.02022 11.0202L2.31311 10.3131L7.64644 4.97976L8.35355 4.97976L13.6869 10.3131L12.9798 11.0202L8 6.04042Z"/>\n                    </svg>\n                </button>\n                <script nonce="${i}">\n                    (function() {\n                        var element = document.querySelector('[id^="${n}"]');\n                        if (element) {\n                            element.scrollIntoView(true);\n                        }\n                        var backToTopBtn = document.getElementById('back-to-top-btn');\n                        if (backToTopBtn) {\n                            backToTopBtn.onclick = () => document.documentElement.scrollTop = 0;\n                        }\n                    })();\n                <\/script>\n            </body>\n            </html>\n        `}))}getStyles(e,t){return[r.Uri.file(s.join(t.extensionPath,"webview-resources","highlight.css")),r.Uri.file(s.join(t.extensionPath,"webview-resources","markdown.css")),r.Uri.file(s.join(t.extensionPath,"webview-resources","document.css"))].map(t=>`<link rel="stylesheet" type="text/css" href="${e.asWebviewUri(t).toString()}">`).join("\n")}getNonce(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}}},function(e,t,n){"use strict";e.exports=Object.assign({},n(36),n(39),n(42),n(93),n(95),n(101),n(6),n(109),n(111),n(113),n(9),n(19));const i=n(4);Object.getOwnPropertyDescriptor(i,"promises")&&Object.defineProperty(e.exports,"promises",{get:()=>i.promises})},function(e,t,n){var i=n(37),r=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=r.call(process)),o};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},e.exports=function(e){i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,(function(t,i){t?r&&r(t):e.fchmod(i,n,(function(t){e.close(i,(function(e){r&&r(t||e)}))}))}))},e.lchmodSync=function(t,n){var r,o=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n),s=!0;try{r=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return r}}(e);e.lutimes||function(e){i.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,r,o){e.open(t,i.O_SYMLINK,(function(t,i){t?o&&o(t):e.futimes(i,n,r,(function(t){e.close(i,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,r){var o,s=e.openSync(t,i.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,r),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,i){i&&process.nextTick(i)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,i){i&&process.nextTick(i)},e.lchownSync=function(){});"win32"===s&&(e.rename=(t=e.rename,function(n,i,r){var o=Date.now(),s=0;t(n,i,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(i,(function(e,o){e&&"ENOENT"===e.code?t(n,i,a):r(c)}))}),s),void(s<100&&(s+=10));r&&r(c)}))}));var t;function n(t){return t?function(n,i,r){return t.call(e,n,i,(function(e){l(e)&&(e=null),r&&r.apply(this,arguments)}))}:t}function r(t){return t?function(n,i){try{return t.call(e,n,i)}catch(e){if(!l(e))throw e}}:t}function o(t){return t?function(n,i,r,o){return t.call(e,n,i,r,(function(e){l(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function a(t){return t?function(n,i,r){try{return t.call(e,n,i,r)}catch(e){if(!l(e))throw e}}:t}function c(t){return t?function(n,i,r){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),r&&r.apply(this,arguments)}return"function"==typeof i&&(r=i,i=null),i?t.call(e,n,i,o):t.call(e,n,o)}:t}function u(t){return t?function(n,i){var r=i?t.call(e,n,i):t.call(e,n);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}:t}function l(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=function(t){function n(n,i,r,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,d,h){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,i,r,o,s,c);a.apply(this,arguments)}}return t.call(e,n,i,r,o,s,c)}return n.__proto__=t,n}(e.read),e.readSync=(d=e.readSync,function(t,n,i,r,o){for(var s=0;;)try{return d.call(e,t,n,i,r,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}});var d}},function(e,t,n){var i=n(38).Stream;e.exports=function(e){return{ReadStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var s=Object.keys(r),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=r[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}))},WriteStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var o=Object.keys(r),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=r[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(6).mkdirsSync,s=n(41).utimesMillisSync,a=n(18);function c(e,t,n,o){if(!o.filter||o.filter(t,n))return function(e,t,n,o){const s=(o.dereference?i.statSync:i.lstatSync)(t);if(s.isDirectory())return function(e,t,n,r,o){if(!t)return function(e,t,n,r){return i.mkdirSync(n),l(t,n,r),i.chmodSync(n,e.mode)}(e,n,r,o);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${r}' with directory '${n}'.`);return l(n,r,o)}(s,e,t,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,n,r,o){return t?function(e,t,n,r){if(r.overwrite)return i.unlinkSync(n),u(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,r,o):u(e,n,r,o)}(s,e,t,n,o);if(s.isSymbolicLink())return function(e,t,n,o){let s=i.readlinkSync(t);o.dereference&&(s=r.resolve(process.cwd(),s));if(e){let e;try{e=i.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return i.symlinkSync(s,n);throw e}if(o.dereference&&(e=r.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(i.statSync(n).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return i.unlinkSync(t),i.symlinkSync(e,t)}(s,n)}return i.symlinkSync(s,n)}(e,t,n,o)}(e,t,n,o)}function u(e,t,r,o){return"function"==typeof i.copyFileSync?(i.copyFileSync(t,r),i.chmodSync(r,e.mode),o.preserveTimestamps?s(r,e.atime,e.mtime):void 0):function(e,t,r,o){const s=n(91)(65536),a=i.openSync(t,"r"),c=i.openSync(r,"w",e.mode);let u=0;for(;u<e.size;){const e=i.readSync(a,s,0,65536,u);i.writeSync(c,s,0,e),u+=e}o.preserveTimestamps&&i.futimesSync(c,e.atime,e.mtime);i.closeSync(a),i.closeSync(c)}(e,t,r,o)}function l(e,t,n){i.readdirSync(e).forEach(i=>function(e,t,n,i){const o=r.join(t,e),s=r.join(n,e),{destStat:u}=a.checkPathsSync(o,s,"copy");return c(u,o,s,i)}(i,e,t,n))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=a.checkPathsSync(e,t,"copy");return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,n,s){if(s.filter&&!s.filter(t,n))return;const a=r.dirname(n);i.existsSync(a)||o(a);return c(e,t,n,s)}(u,e,t,n)}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(40).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let u=n.mode;const l=n.fs||i;void 0===u&&(u=s&~process.umask()),c||(c=null),a=a||function(){},t=r.resolve(t),l.mkdir(t,u,i=>{if(!i)return a(null,c=c||t);switch(i.code){case"ENOENT":if(r.dirname(t)===t)return a(i);e(r.dirname(t),n,(i,r)=>{i?a(i,r):e(t,n,a,r)});break;default:l.stat(t,(e,t)=>{e||!t.isDirectory()?a(i,c):a(null,c)})}})}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(40).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const u=n.fs||i;if("win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=s&~process.umask()),a||(a=null),t=r.resolve(t);try{u.mkdirSync(t,c),a=a||t}catch(i){if("ENOENT"===i.code){if(r.dirname(t)===t)throw i;a=e(r.dirname(t),n,a),e(t,n,a)}else{let e;try{e=u.statSync(t)}catch(e){throw i}if(!e.isDirectory())throw i}}return a}},function(e,t,n){"use strict";e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(6).mkdirs,s=n(9).pathExists,a=n(41).utimesMillis,c=n(18);function u(e,t,n,i,a){const c=r.dirname(n);s(c,(r,s)=>r?a(r):s?d(e,t,n,i,a):void o(c,r=>r?a(r):d(e,t,n,i,a)))}function l(e,t,n,i,r,o){Promise.resolve(r.filter(n,i)).then(s=>s?e(t,n,i,r,o):o(),e=>o(e))}function d(e,t,n,i,r){return i.filter?l(h,e,t,n,i,r):h(e,t,n,i,r)}function h(e,t,n,r,o){(r.dereference?i.stat:i.lstat)(t,(s,a)=>s?o(s):a.isDirectory()?function(e,t,n,r,o,s){if(!t)return function(e,t,n,r,o){i.mkdir(n,s=>{if(s)return o(s);m(t,n,r,t=>t?o(t):i.chmod(n,e.mode,o))})}(e,n,r,o,s);if(t&&!t.isDirectory())return s(new Error(`Cannot overwrite non-directory '${r}' with directory '${n}'.`));return m(n,r,o,s)}(a,e,t,n,r,o):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,n,r,o,s){return t?function(e,t,n,r,o){if(!r.overwrite)return r.errorOnExist?o(new Error(`'${n}' already exists`)):o();i.unlink(n,i=>i?o(i):f(e,t,n,r,o))}(e,n,r,o,s):f(e,n,r,o,s)}(a,e,t,n,r,o):a.isSymbolicLink()?v(e,t,n,r,o):void 0)}function f(e,t,n,r,o){return"function"==typeof i.copyFile?i.copyFile(t,n,t=>t?o(t):p(e,n,r,o)):function(e,t,n,r,o){const s=i.createReadStream(t);s.on("error",e=>o(e)).once("open",()=>{const t=i.createWriteStream(n,{mode:e.mode});t.on("error",e=>o(e)).on("open",()=>s.pipe(t)).once("close",()=>p(e,n,r,o))})}(e,t,n,r,o)}function p(e,t,n,r){i.chmod(t,e.mode,i=>i?r(i):n.preserveTimestamps?a(t,e.atime,e.mtime,r):r())}function m(e,t,n,r){i.readdir(e,(i,o)=>i?r(i):g(o,e,t,n,r))}function g(e,t,n,i,o){const s=e.pop();return s?function(e,t,n,i,o,s){const a=r.join(n,t),u=r.join(i,t);c.checkPaths(a,u,"copy",(t,r)=>{if(t)return s(t);const{destStat:c}=r;d(c,a,u,o,t=>t?s(t):g(e,n,i,o,s))})}(e,s,t,n,i,o):o()}function v(e,t,n,o,s){i.readlink(t,(t,a)=>t?s(t):(o.dereference&&(a=r.resolve(process.cwd(),a)),e?void i.readlink(n,(t,u)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?i.symlink(a,n,s):s(t):(o.dereference&&(u=r.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&c.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(e,t,n){i.unlink(t,r=>r?n(r):i.symlink(e,t,n))}(a,n,s))):i.symlink(a,n,s)))}e.exports=function(e,t,n,i){"function"!=typeof n||i?"function"==typeof n&&(n={filter:n}):(i=n,n={}),i=i||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",(r,o)=>{if(r)return i(r);const{srcStat:s,destStat:a}=o;c.checkParentPaths(e,s,t,"copy",r=>r?i(r):n.filter?l(u,a,e,t,n,i):u(a,e,t,n,i))})}},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(2),o=n(0),s=n(6),a=n(19),c=i((function(e,t){t=t||function(){},r.readdir(e,(n,i)=>{if(n)return s.mkdirs(e,t);i=i.map(t=>o.join(e,t)),function e(){const n=i.pop();if(!n)return t();a.remove(n,n=>{if(n)return t(n);e()})}()})}));function u(e){let t;try{t=r.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(15),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||i[t],e[t+="Sync"]=e[t]||i[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let i=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,(function r(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&i<t.maxBusyTries){i++;return setTimeout(()=>u(e,t,r),100*i)}"ENOENT"===o.code&&(o=null)}n(o)}))}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,(i,r)=>i&&"ENOENT"===i.code?n(null):i&&"EPERM"===i.code&&s?l(e,t,i,n):r&&r.isDirectory()?h(e,t,i,n):void t.unlink(e,i=>{if(i){if("ENOENT"===i.code)return n(null);if("EPERM"===i.code)return s?l(e,t,i,n):h(e,t,i,n);if("EISDIR"===i.code)return h(e,t,i,n)}return n(i)}))}function l(e,t,n,i){o(e),o(t),o("function"==typeof i),n&&o(n instanceof Error),t.chmod(e,438,r=>{r?i("ENOENT"===r.code?null:n):t.stat(e,(r,o)=>{r?i("ENOENT"===r.code?null:n):o.isDirectory()?h(e,t,n,i):t.unlink(e,i)})})}function d(e,t,n){let i;o(e),o(t),n&&o(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}i.isDirectory()?p(e,t,n):t.unlinkSync(e)}function h(e,t,n,i){o(e),o(t),n&&o(n instanceof Error),o("function"==typeof i),t.rmdir(e,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?i(n):i(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,(i,o)=>{if(i)return n(i);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach(i=>{c(r.join(e,i),t,i=>{if(!s)return i?n(s=i):void(0==--a&&t.rmdir(e,n))})})})}(e,t,i)})}function f(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&d(e,t,n)}try{n&&n.isDirectory()?p(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?d(e,t,n):p(e,t,n);if("EISDIR"!==n.code)throw n;p(e,t,n)}}function p(e,t,n){o(e),o(t),n&&o(n instanceof Error);try{t.rmdirSync(e)}catch(i){if("ENOTDIR"===i.code)throw n;if("ENOTEMPTY"===i.code||"EEXIST"===i.code||"EPERM"===i.code)!function(e,t){if(o(e),o(t),t.readdirSync(e).forEach(n=>f(r.join(e,n),t)),!s){return t.rmdirSync(e,t)}{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch(e){}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==i.code)throw i}}e.exports=c,c.sync=f},function(e,t,n){"use strict";const i=n(96),r=n(97),o=n(98);e.exports={createFile:i.createFile,createFileSync:i.createFileSync,ensureFile:i.createFile,ensureFileSync:i.createFileSync,createLink:r.createLink,createLinkSync:r.createLinkSync,ensureLink:r.createLink,ensureLinkSync:r.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(0),o=n(2),s=n(6),a=n(9).pathExists;e.exports={createFile:i((function(e,t){function n(){o.writeFile(e,"",e=>{if(e)return t(e);t()})}o.stat(e,(i,o)=>{if(!i&&o.isFile())return t();const c=r.dirname(e);a(c,(e,i)=>e?t(e):i?n():void s.mkdirs(c,e=>{if(e)return t(e);n()}))})})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch(e){}if(t&&t.isFile())return;const n=r.dirname(e);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(e,"")}}},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(0),o=n(2),s=n(6),a=n(9).pathExists;e.exports={createLink:i((function(e,t,n){function i(e,t){o.link(e,t,e=>{if(e)return n(e);n(null)})}a(t,(c,u)=>c?n(c):u?n(null):void o.lstat(e,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const c=r.dirname(t);a(c,(r,o)=>r?n(r):o?i(e,t):void s.mkdirs(c,r=>{if(r)return n(r);i(e,t)}))}))})),createLinkSync:function(e,t){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=r.dirname(t);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(e,t)}}},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(0),o=n(2),s=n(6),a=s.mkdirs,c=s.mkdirsSync,u=n(99),l=u.symlinkPaths,d=u.symlinkPathsSync,h=n(100),f=h.symlinkType,p=h.symlinkTypeSync,m=n(9).pathExists;e.exports={createSymlink:i((function(e,t,n,i){i="function"==typeof n?n:i,n="function"!=typeof n&&n,m(t,(s,c)=>s?i(s):c?i(null):void l(e,t,(s,c)=>{if(s)return i(s);e=c.toDst,f(c.toCwd,n,(n,s)=>{if(n)return i(n);const c=r.dirname(t);m(c,(n,r)=>n?i(n):r?o.symlink(e,t,s,i):void a(c,n=>{if(n)return i(n);o.symlink(e,t,s,i)}))})}))})),createSymlinkSync:function(e,t,n){if(o.existsSync(t))return;const i=d(e,t);e=i.toDst,n=p(i.toCwd,n);const s=r.dirname(t);return o.existsSync(s)||c(s),o.symlinkSync(e,t,n)}}},function(e,t,n){"use strict";const i=n(0),r=n(2),o=n(9).pathExists;e.exports={symlinkPaths:function(e,t,n){if(i.isAbsolute(e))return r.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const s=i.dirname(t),a=i.join(s,e);return o(a,(t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):r.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:i.relative(s,e)})))}},symlinkPathsSync:function(e,t){let n;if(i.isAbsolute(e)){if(n=r.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=i.dirname(t),s=i.join(o,e);if(n=r.existsSync(s),n)return{toCwd:s,toDst:e};if(n=r.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:i.relative(o,e)}}}}},function(e,t,n){"use strict";const i=n(2);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);i.lstat(e,(e,i)=>{if(e)return n(null,"file");t=i&&i.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=i.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(27);r.outputJson=i(n(107)),r.outputJsonSync=n(108),r.outputJSON=r.outputJson,r.outputJSONSync=r.outputJsonSync,r.writeJSON=r.writeJson,r.writeJSONSync=r.writeJsonSync,r.readJSON=r.readJson,r.readJSONSync=r.readJsonSync,e.exports=r},function(e,t,n){var i;try{i=n(103)}catch(e){i=n(4)}function r(e,t){var n,i="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(i=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,i)+i}function o(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,"")}var s={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var r=(t=t||{}).fs||i,s=!0;"throws"in t&&(s=t.throws),r.readFile(e,t,(function(i,r){if(i)return n(i);var a;r=o(r);try{a=JSON.parse(r,t?t.reviver:null)}catch(t){return s?(t.message=e+": "+t.message,n(t)):n(null,null)}n(null,a)}))},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||i,r=!0;"throws"in t&&(r=t.throws);try{var s=n.readFileSync(e,t);return s=o(s),JSON.parse(s,t.reviver)}catch(t){if(r)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||i,a="";try{a=r(t,n)}catch(e){return void(o&&o(e,null))}s.writeFile(e,a,n,o)},writeFileSync:function(e,t,n){var o=(n=n||{}).fs||i,s=r(t,n);return o.writeFileSync(e,s,n)}};e.exports=s},function(e,t,n){var i=n(4),r=n(104),o=n(105),s=n(106),a=[],c=n(12);var u,l,d=function(){};function h(e){r(e),e.gracefulify=h,e.FileReadStream=d,e.FileWriteStream=m,e.createReadStream=function(e,t){return new d(e,t)},e.createWriteStream=function(e,t){return new m(e,t)};var t=e.readFile;e.readFile=function(e,n,i){"function"==typeof n&&(i=n,n=null);return function e(n,i,r){return t(n,i,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof r&&r.apply(this,arguments),p()):f([e,[n,i,r]])}))}(e,n,i)};var n=e.writeFile;e.writeFile=function(e,t,i,r){"function"==typeof i&&(r=i,i=null);return function e(t,i,r,o){return n(t,i,r,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),p()):f([e,[t,i,r,o]])}))}(e,t,i,r)};var i=e.appendFile;i&&(e.appendFile=function(e,t,n,r){"function"==typeof n&&(r=n,n=null);return function e(t,n,r,o){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),p()):f([e,[t,n,r,o]])}))}(e,t,n,r)});var s=e.readdir;function a(t){return s.apply(e,t)}if(e.readdir=function(e,t,n){var i=[e];"function"!=typeof t?i.push(t):n=t;return i.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),p()):f([a,[i]])})),a(i)},"v0.8"===process.version.substr(0,4)){var c=o(e);d=c.ReadStream,m=c.WriteStream}var u=e.ReadStream;u&&(d.prototype=Object.create(u.prototype),d.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var l=e.WriteStream;function d(e,t){return this instanceof d?(u.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function m(e,t){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),e.ReadStream=d,e.WriteStream=m;var g=e.open;function v(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,r){return g(t,n,i,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof r&&r.apply(this,arguments),p()):f([e,[t,n,i,r]])}))}(e,t,n,i)}return e.open=v,e}function f(e){d("ENQUEUE",e[0].name,e[1]),a.push(e)}function p(){var e=a.shift();e&&(d("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}c.debuglog?d=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(a),n(15).equal(a.length,0)})),e.exports=h(s(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=h(i),i.__patched=!0),e.exports.close=(u=i.close,function(e,t){return u.call(i,e,(function(e){e||p(),"function"==typeof t&&t.apply(this,arguments)}))}),e.exports.closeSync=(l=i.closeSync,function(e){var t=l.apply(i,arguments);return p(),t}),/\bgraceful-fs\b/.test(i.closeSync.toString())||(i.closeSync=e.exports.closeSync,i.close=e.exports.close)},function(e,t,n){var i=n(37),r=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=r.call(process)),o};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},e.exports=function(e){i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,(function(t,i){t?r&&r(t):e.fchmod(i,n,(function(t){e.close(i,(function(e){r&&r(t||e)}))}))}))},e.lchmodSync=function(t,n){var r,o=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n),s=!0;try{r=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return r}}(e);e.lutimes||function(e){i.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,r,o){e.open(t,i.O_SYMLINK,(function(t,i){t?o&&o(t):e.futimes(i,n,r,(function(t){e.close(i,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,r){var o,s=e.openSync(t,i.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,r),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,i){i&&process.nextTick(i)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,i){i&&process.nextTick(i)},e.lchownSync=function(){});"win32"===s&&(e.rename=(t=e.rename,function(n,i,r){var o=Date.now(),s=0;t(n,i,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(i,(function(e,o){e&&"ENOENT"===e.code?t(n,i,a):r(c)}))}),s),void(s<100&&(s+=10));r&&r(c)}))}));var t;function n(t){return t?function(n,i,r){return t.call(e,n,i,(function(e){l(e)&&(e=null),r&&r.apply(this,arguments)}))}:t}function r(t){return t?function(n,i){try{return t.call(e,n,i)}catch(e){if(!l(e))throw e}}:t}function o(t){return t?function(n,i,r,o){return t.call(e,n,i,r,(function(e){l(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function a(t){return t?function(n,i,r){try{return t.call(e,n,i,r)}catch(e){if(!l(e))throw e}}:t}function c(t){return t?function(n,i){return t.call(e,n,(function(e,t){if(!t)return i.apply(this,arguments);t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),i&&i.apply(this,arguments)}))}:t}function u(t){return t?function(n){var i=t.call(e,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:t}function l(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=(h=e.read,function(t,n,i,r,o,s){var a;if(s&&"function"==typeof s){var c=0;a=function(u,l,d){if(u&&"EAGAIN"===u.code&&c<10)return c++,h.call(e,t,n,i,r,o,a);s.apply(this,arguments)}}return h.call(e,t,n,i,r,o,a)}),e.readSync=(d=e.readSync,function(t,n,i,r,o){for(var s=0;;)try{return d.call(e,t,n,i,r,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}});var d;var h}},function(e,t,n){var i=n(38).Stream;e.exports=function(e){return{ReadStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var s=Object.keys(r),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=r[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}))},WriteStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var o=Object.keys(r),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=r[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}},function(e,t,n){"use strict";const i=n(0),r=n(6),o=n(9).pathExists,s=n(27);e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=i.dirname(e);o(c,(i,o)=>i?a(i):o?s.writeJson(e,t,n,a):void r.mkdirs(c,i=>{if(i)return a(i);s.writeJson(e,t,n,a)}))}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(6),s=n(27);e.exports=function(e,t,n){const a=r.dirname(e);i.existsSync(a)||o.mkdirsSync(a),s.writeJsonSync(e,t,n)}},function(e,t,n){"use strict";e.exports={moveSync:n(110)}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(39).copySync,s=n(19).removeSync,a=n(6).mkdirpSync,c=n(18);function u(e,t,n){try{i.renameSync(e,t)}catch(i){if("EXDEV"!==i.code)throw i;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:true}),s(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l}=c.checkPathsSync(e,t,"move");return c.checkParentPathsSync(e,l,t,"move"),a(r.dirname(t)),function(e,t,n){if(n)return s(t),u(e,t,n);if(i.existsSync(t))throw new Error("dest already exists.");return u(e,t,n)}(e,t,o)}},function(e,t,n){"use strict";const i=n(3).fromCallback;e.exports={move:i(n(112))}},function(e,t,n){"use strict";const i=n(2),r=n(0),o=n(42).copy,s=n(19).remove,a=n(6).mkdirp,c=n(9).pathExists,u=n(18);function l(e,t,n,r){i.rename(e,t,i=>i?"EXDEV"!==i.code?r(i):function(e,t,n,i){o(e,t,{overwrite:n,errorOnExist:!0},t=>t?i(t):s(e,i))}(e,t,n,r):r())}e.exports=function(e,t,n,i){"function"==typeof n&&(i=n,n={});const o=n.overwrite||n.clobber||!1;u.checkPaths(e,t,"move",(n,d)=>{if(n)return i(n);const{srcStat:h}=d;u.checkParentPaths(e,h,t,"move",n=>{if(n)return i(n);a(r.dirname(t),n=>n?i(n):function(e,t,n,i){if(n)return s(t,r=>r?i(r):l(e,t,n,i));c(t,(r,o)=>r?i(r):o?i(new Error("dest already exists.")):l(e,t,n,i))}(e,t,o,i))})})}},function(e,t,n){"use strict";const i=n(3).fromCallback,r=n(2),o=n(0),s=n(6),a=n(9).pathExists;e.exports={outputFile:i((function(e,t,n,i){"function"==typeof n&&(i=n,n="utf8");const c=o.dirname(e);a(c,(o,a)=>o?i(o):a?r.writeFile(e,t,n,i):void s.mkdirs(c,o=>{if(o)return i(o);r.writeFile(e,t,n,i)}))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(r.existsSync(n))return r.writeFileSync(e,...t);s.mkdirsSync(n),r.writeFileSync(e,...t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(0),o=n(22),s=n(24);let a;function c(e,t){const n=[];if(e&&e.length)for(const t of e){const e=t.packageJSON.contributes;if(e){const i=e["xml.javaExtensions"];if(Array.isArray(i)&&i.length)for(const e of i)n.push(...s.sync(r.resolve(t.extensionPath,e)))}}for(const e of t)n.push(...s.sync(e));return a=n.slice(),n}t.collectXmlJavaExtensions=c,t.onExtensionChange=function(e,t){if(!a)return;const n=new Set(a.slice()),r=c(e,t);let s=n.size!==r.length;if(!s)for(const e of r)if(!n.has(e)){s=!0;break}if(s){const e=`Extensions to the XML Language Server changed, reloading ${i.env.appName} is required for the changes to take effect.`,t="Reload",n=o.Commands.RELOAD_WINDOW;i.window.showWarningMessage(e,t).then(e=>{t===e&&i.commands.executeCommand(n)})}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(13),s=n(0),a=n(23),c=n(116),u=n(117),l=n(118),d="java"+(0===process.platform.indexOf("win")?".exe":"");function h(e){return i(this,void 0,void 0,(function*(){let t=r.workspace.getConfiguration().inspect("xml.java.home").workspaceValue,n=null==t;n&&(t=a.getXMLConfiguration().get("java.home"));const o=a.getKey(a.IS_WORKSPACE_JDK_XML_ALLOWED,e.storagePath,t),s=e.globalState;n||(n=s.get(o),void 0===n&&(yield r.window.showErrorMessage("Security Warning! Do you allow this workspace to set the xml.java.home variable? \n xml.java.home: "+t,"Disallow","Allow").then(e=>i(this,void 0,void 0,(function*(){"Allow"===e?s.update(o,!0):"Disallow"===e&&(s.update(o,!1),yield r.workspace.getConfiguration().update("xml.java.home",void 0,r.ConfigurationTarget.Workspace))}))),n=s.get(o)));const c=r.workspace.getConfiguration().inspect(a.xmlServerVmargs).workspaceValue;if(void 0!==c){const t=a.getJavaagentFlag(c);if(null!==t){const n=a.getKey(a.IS_WORKSPACE_VMARGS_XML_ALLOWED,e.storagePath,c),o=s.get(n);null==o&&(yield r.window.showErrorMessage(`Security Warning! The ${a.xmlServerVmargs} variable defined in ${r.env.appName} settings includes the (${t}) javagent preference. Do you allow it to be used?`,"Disallow","Allow").then(e=>i(this,void 0,void 0,(function*(){"Allow"===e?s.update(n,!0):"Disallow"===e&&(s.update(n,!1),yield r.workspace.getConfiguration().update(a.xmlServerVmargs,void 0,r.ConfigurationTarget.Workspace))}))))}}return n?t:r.workspace.getConfiguration().inspect("xml.java.home").globalValue}))}function f(e){let t=/version "(.*)"/g,n=t.exec(e);if(!n)return 0;let i=n[1];i.startsWith("1.")&&(i=i.substring(2)),t=/\d+/g,n=t.exec(i);let r=0;return n&&(r=parseInt(n[0])),r}function p(e,t){let n="https://developers.redhat.com/products/openjdk/download/?sc_cid=701f2000000RWTnAAO";"darwin"===process.platform&&(n="https://adoptopenjdk.net/releases.html"),e({message:t,label:"Get the Java runtime",openUrl:r.Uri.parse(n),replaceClose:!1})}t.resolveRequirements=function(e){return i(this,void 0,void 0,(function*(){const t=yield function(e){return new Promise((t,n)=>i(this,void 0,void 0,(function*(){let o,f=yield h(e);if(f?o="The xml.java.home variable defined in VS Code settings":(f=yield function(e){return i(this,void 0,void 0,(function*(){let t=r.workspace.getConfiguration().inspect("java.home").workspaceValue,n=null==t;n&&(t=a.getJavaConfiguration().get("home"));const i=a.getKey(a.IS_WORKSPACE_JDK_ALLOWED,e.storagePath,t);return n=e.globalState.get(i),n?t:r.workspace.getConfiguration().inspect("java.home").globalValue}))}(e),f?o="The java.home variable defined in VS Code settings":(f=process.env.JDK_HOME,f?o="The JDK_HOME environment variable":(f=process.env.JAVA_HOME,o="The JAVA_HOME environment variable"))),f)return f=u(f),c.sync(f)?c.sync(s.resolve(f,"bin",d))||p(n,o+" does not point to a Java runtime."):p(n,o+" points to a missing folder"),t(f);l({allowJre:!0},(function(e,i){e?p(n,"Java runtime could not be located."):t(i)}))})))}(e),n=yield(m=t,new Promise((e,t)=>{o.execFile(m+"/bin/java",["-version"],{},(n,i,r)=>{let o=f(r);o<8?p(t,"Java 8 or more recent is required to run. Please download and install a recent Java runtime."):e(o)})}));var m;return Promise.resolve({java_home:t,java_version:n})}))},t.readXMLJavaHomeConfig=h,t.parseMajorVersion=f},function(e,t,n){"use strict";const i=n(4),{promisify:r}=n(12),o=r(i.access);e.exports=async e=>{try{return await o(e),!0}catch(e){return!1}},e.exports.sync=e=>{try{return i.accessSync(e),!0}catch(e){return!1}}},function(e,t,n){var i=n(0).join,r=process.env["win32"==process.platform?"USERPROFILE":"HOME"];e.exports=function(e){return e?"~"==e?r:"~/"!=e.slice(0,2)?e:i(r,e.slice(2)):e}},function(e,t,n){"use strict";var i,r=n(119),o=n(4),s=n(0),a=s.dirname,c=n(13).exec,u=o.existsSync,l=o.statSync,d=o.readlinkSync,h=s.resolve,f=o.lstatSync,p=n(120);e.exports=function(e,t){"function"==typeof e&&(t=e,e=null);var n,o,v=((e=e||{allowJre:!1}).allowJre?"java":"javac")+(m?".exe":"");process.env.JAVA_HOME&&function(e,t){return u(""+e)&&l(e).isDirectory()&&u(s.resolve(e,"bin",t))}(process.env.JAVA_HOME,v)&&(i=process.env.JAVA_HOME);if(i)return g(t,null,i);if(0===process.platform.indexOf("win")&&(o=["SOFTWARE\\JavaSoft\\Java Development Kit"],e.allowJre&&(o=o.concat(["SOFTWARE\\JavaSoft\\Java Runtime Environment"])),i=function(e){if(!e.length)return null;var t,n=[];e.forEach((function(e){new p({key:e}).keys((function(e,t){n.concat(t)}))}),this);return n.length?((n=n.sort((function(e,t){var n=parseFloat(e.key);return parseFloat(t.key)-n})))[0].get("JavaHome",(function(e,n){t=n.value})),t):null}(o)))return g(t,null,i);r(v,(function(e,r){if(e)return g(t,e,null);r=function e(t){return f(t).isSymbolicLink()?e(d(t)):t}(r),r=a(r),n=h(r,"java_home"),u(n)?c(n,{cwd:r},(function(e,n,r){if(e||r)return g(t,e||""+r,null);i=""+n.replace(/\n$/,""),g(t,null,i)})):(i=a(r),g(t,null,i))}))};var m=0===process.platform.indexOf("win");function g(e,t,n){process.nextTick((function(){e(t,n)}))}},function(e,t,n){e.exports=a,a.sync=function(e){if(c(e))return e;var t=(process.env.PATH||"").split(o),n=[""];"win32"===process.platform&&(t.push(process.cwd()),n=(process.env.PATHEXT||".EXE").split(o),-1!==e.indexOf(".")&&n.unshift(""));for(var a=0,u=t.length;a<u;a++)for(var l=r.join(t[a],e),d=0,h=n.length;d<h;d++){var f,p=l+n[d];try{f=s.statSync(p)}catch(e){}if(f&&f.isFile()&&i(f.mode,f.uid,f.gid))return p}throw new Error("not found: "+e)};var i,r=n(0),o="win32"===process.platform?";":":",s=n(4);function a(e,t){if(c(e))return t(null,e);var n=(process.env.PATH||"").split(o),a=[""];"win32"===process.platform&&(n.push(process.cwd()),a=(process.env.PATHEXT||".EXE").split(o),-1!==e.indexOf(".")&&a.unshift("")),function o(c,u){if(c===u)return t(new Error("not found: "+e));var l=r.resolve(n[c],e);!function e(n,r){if(n===r)return o(c+1,u);var d=a[n];s.stat(l+d,(function(o,s){return!o&&s&&s.isFile()&&i(s.mode,s.uid,s.gid)?t(null,l+d):e(n+1,r)}))}(0,a.length)}(0,n.length)}i="win32"==process.platform?function(){return!0}:function(e,t,n){return 1&e||8&e&&process.getgid&&n===process.getgid()||8&e&&process.getuid&&0===process.getuid()||64&e&&process.getuid&&t===process.getuid()||64&e&&process.getuid&&0===process.getuid()};var c="win32"===process.platform?function(e){if(u(e))return!0;var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?([\\\/])?/.exec(e),n=t[1]||"",i=n&&":"!==n.charAt(1);return!!t[2]||i}:u;function u(e){return"/"===e.charAt(0)||""===e}},function(e,t,n){var i=n(12),r=n(0),o=n(13).spawn,s=["HKLM","HKCU","HKCR","HKU","HKCC"],a=["REG_SZ","REG_MULTI_SZ","REG_EXPAND_SZ","REG_DWORD","REG_QWORD","REG_BINARY","REG_NONE"],c=/(\\[a-zA-Z0-9_\s]+)*/,u=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,l=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function d(e,t){if(!(this instanceof d))return new d(e,t);Error.captureStackTrace(this,d),this.__defineGetter__("name",(function(){return d.name})),this.__defineGetter__("message",(function(){return e})),this.__defineGetter__("code",(function(){return t}))}function h(e){var t={stdout:"",stderr:""};return e.stdout.on("data",(function(e){t.stdout+=e.toString()})),e.stderr.on("data",(function(e){t.stderr+=e.toString()})),t}function f(e,t,n){var r=n.stdout.trim(),o=n.stderr.trim();return new d(i.format("%s command exited with code %d:\n%s\n%s",e,t,r,o),t)}function p(e,t){t&&e.push("/reg:"+function(e){if("x64"==e)return"64";if("x86"==e)return"32";throw new Error("illegal architecture: "+e+" (use x86 or x64)")}(t))}function m(){return"win32"===process.platform?r.join(process.env.windir,"system32","reg.exe"):"REG"}function g(e,t,n,i,r,o,s){if(!(this instanceof g))return new g(e,t,n,i,r,o,s);var a=e,c=t,u=n,l=i,d=r,h=o,f=s;this.__defineGetter__("host",(function(){return a})),this.__defineGetter__("hive",(function(){return c})),this.__defineGetter__("key",(function(){return u})),this.__defineGetter__("name",(function(){return l})),this.__defineGetter__("type",(function(){return d})),this.__defineGetter__("value",(function(){return h})),this.__defineGetter__("arch",(function(){return f}))}function v(e){if(!(this instanceof v))return new v(e);var t=e||{},n=""+(t.host||""),i=""+(t.hive||"HKLM"),r=""+(t.key||""),o=t.arch||null;if(this.__defineGetter__("host",(function(){return n})),this.__defineGetter__("hive",(function(){return i})),this.__defineGetter__("key",(function(){return r})),this.__defineGetter__("path",(function(){return(0==n.length?"":"\\\\"+n+"\\")+i+r})),this.__defineGetter__("arch",(function(){return o})),this.__defineGetter__("parent",(function(){var e=r.lastIndexOf("\\");return new v({host:this.host,hive:this.hive,key:-1==e?"":r.substring(0,e),arch:this.arch})})),-1==s.indexOf(i))throw new Error("illegal hive specified.");if(!c.test(r))throw new Error("illegal key specified.");if(o&&"x64"!=o&&"x86"!=o)throw new Error("illegal architecture specified (use x86 or x64)")}i.inherits(d,Error),i.inherits(g,Object),v.HKLM="HKLM",v.HKCU="HKCU",v.HKCR="HKCR",v.HKU="HKU",v.HKCC="HKCC",v.HIVES=s,v.REG_SZ="REG_SZ",v.REG_MULTI_SZ="REG_MULTI_SZ",v.REG_EXPAND_SZ="REG_EXPAND_SZ",v.REG_DWORD="REG_DWORD",v.REG_QWORD="REG_QWORD",v.REG_BINARY="REG_BINARY",v.REG_NONE="REG_NONE",v.REG_TYPES=a,v.DEFAULT_VALUE="",v.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];p(t,this.arch);var n=o(m(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",r=this,s=null,a=h(n);return n.on("close",(function(t){if(!s)if(0!==t)e(f("QUERY",t,a),null);else{for(var n=[],o=[],c=i.split("\n"),u=0,d=0,h=c.length;d<h;d++){var p=c[d].trim();p.length>0&&(0!=u&&n.push(p),++u)}for(d=0,h=n.length;d<h;d++){var m,v,y,w=l.exec(n[d]);w&&(m=w[1].trim(),v=w[2].trim(),y=w[3],o.push(new g(r.host,r.hive,r.key,m,v,y,r.arch)))}e(null,o)}})),n.stdout.on("data",(function(e){i+=e.toString()})),n.on("error",(function(t){s=t,e(t)})),this},v.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];p(t,this.arch);var n=o(m(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",r=this,s=null,a=h(n);return n.on("close",(function(t){s||0!==t&&e(f("QUERY",t,a),null)})),n.stdout.on("data",(function(e){i+=e.toString()})),n.stdout.on("end",(function(){for(var t=[],n=[],o=i.split("\n"),s=0,a=o.length;s<a;s++){var c=o[s].trim();c.length>0&&t.push(c)}for(s=0,a=t.length;s<a;s++){var l,d=u.exec(t[s]);d&&(d[1],(l=d[2])&&l!==r.key&&n.push(new v({host:r.host,hive:r.hive,key:l,arch:r.arch})))}e(null,n)})),n.on("error",(function(t){s=t,e(t)})),this},v.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=["QUERY",this.path];""==e?n.push("/ve"):n=n.concat(["/v",e]),p(n,this.arch);var i=o(m(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",s=this,a=null,c=h(i);return i.on("close",(function(e){if(!a)if(0!==e)t(f("QUERY",e,c),null);else{for(var n=[],i=null,o=r.split("\n"),u=0,d=0,h=o.length;d<h;d++){var p=o[d].trim();p.length>0&&(0!=u&&n.push(p),++u)}var m,v,y,w=n[n.length-1]||"",_=l.exec(w);_&&(m=_[1].trim(),v=_[2].trim(),y=_[3],i=new g(s.host,s.hive,s.key,m,v,y,s.arch)),t(null,i)}})),i.stdout.on("data",(function(e){r+=e.toString()})),i.on("error",(function(e){a=e,t(e)})),this},v.prototype.set=function(e,t,n,i){if("function"!=typeof i)throw new TypeError("must specify a callback");if(-1==a.indexOf(t))throw Error("illegal type specified.");var r=["ADD",this.path];""==e?r.push("/ve"):r=r.concat(["/v",e]),p(r=r.concat(["/t",t,"/d",n,"/f"]),this.arch);var s=o(m(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),c=null,u=h(s);return s.on("close",(function(e){c||i(0!==e?f("ADD",e,u):null)})),s.stdout.on("data",(function(e){})),s.on("error",(function(e){c=e,i(e)})),this},v.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];p(n,this.arch);var i=o(m(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,s=h(i);return i.on("close",(function(e){r||(0!==e?t(f("DELETE",e,s),null):t(null))})),i.stdout.on("data",(function(e){})),i.on("error",(function(e){r=e,t(e)})),this},v.prototype.clear=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"];p(t,this.arch);var n=o(m(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,r=h(n);return n.on("close",(function(t){i||(0!==t?e(f("DELETE",t,r),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){i=t,e(t)})),this},v.prototype.erase=v.prototype.clear,v.prototype.destroy=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f"];p(t,this.arch);var n=o(m(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,r=h(n);return n.on("close",(function(t){i||(0!==t?e(f("DELETE",t,r),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){i=t,e(t)})),this},v.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"];p(t,this.arch);var n=o(m(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,r=h(n);return n.on("close",(function(t){i||(0!==t?e(f("ADD",t,r),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){i=t,e(t)})),this},v.prototype.keyExists=function(e){return this.values((function(t,n){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},v.prototype.valueExists=function(e,t){return this.get(e,(function(e,n){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1);t.activateTagClosing=function(e,t,n){const r=[">","/"];let o=[];i.workspace.onDidChangeTextDocument(t=>function(t,n){if(!s)return;let o=i.window.activeTextEditor&&i.window.activeTextEditor.document;if(t!==o||0===n.length)return;void 0!==a&&clearTimeout(a);let c=n[n.length-1],u=c.text[c.text.length-1];if(c.rangeLength>0||c.text.length>1||r.indexOf(u)<0)return;let l=c.range.start,d=t.version;a=setTimeout(()=>{let n=new i.Position(l.line,l.character+c.text.length);e(t,n).then(e=>{if(!e)return;let r,o=e.snippet,a=e.range;if(null!=a){let e=a.start.line,t=a.start.character,n=new i.Position(e,t);e=a.end.line,t=a.end.character;let o=new i.Position(e,t);r=new i.Range(n,o)}else r=n;if(o&&s){let e=i.window.activeTextEditor;if(e){let n=e.document;t===n&&n.version===d&&e.insertSnippet(new i.SnippetString(o),r)}}},e=>{console.log("xml/closeTag request has been cancelled")}),a=void 0},100)}(t.document,t.contentChanges),null,o);let s=!1;c(),i.window.onDidChangeActiveTextEditor(c,null,o);let a=void 0;function c(){s=!1;let e=i.window.activeTextEditor;if(!e)return;let r=e.document;t[r.languageId]&&i.workspace.getConfiguration(void 0,r.uri).get(n)&&(s=!0)}return i.Disposable.from(...o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),r=n(1);class o{constructor(e,t,n){this.varName=e,this.varKind=t,this.getValue=n}get name(){return this.varName}get kind(){return this.varKind}substituteString(e,t,n){const i=this.getValue(t,n);return i?e.replace(this.getReplaceRegExp(),i):e}getReplaceRegExp(){return this.replaceRegExp||(this.replaceRegExp=new RegExp("\\$\\{"+this.name+"\\}","g")),this.replaceRegExp}}var s;!function(e){e[e.Workspace=0]="Workspace",e[e.File=1]="File"}(s||(s={}));const a=[new o("workspaceFolder",s.Workspace,(e,t)=>t),new o("fileDirname",s.File,(e,t)=>i.dirname(e)),new o("fileBasenameNoExtension",s.File,(e,t)=>i.basename(e,i.extname(e)))];t.getVariableSubstitutedAssociations=function(e){const t=r.window.activeTextEditor&&r.window.activeTextEditor.document&&"xml"===r.window.activeTextEditor.document.languageId?r.window.activeTextEditor.document:void 0,n=t&&t.uri?t.uri.fsPath:void 0,i=t&&t.uri?r.workspace.getWorkspaceFolder(t.uri):void 0,o=i&&i.uri.fsPath||r.workspace.workspaceFolders&&r.workspace.workspaceFolders[0].uri.fsPath;let c=a;o||(c=c.filter(e=>e.kind!==s.Workspace)),n||(c=c.filter(e=>e.kind!==s.File));const u=e=>{let t=e;for(const e of c)t=e.substituteString(t,n,o);return t};return e.map(e=>({pattern:u(e.pattern),systemId:u(e.systemId)}))},t.containsVariableReferenceToCurrentFile=function(e){const t=a.filter(e=>e.kind===s.File);for(const n of e)for(const e of t)if(e.getReplaceRegExp().test(n.pattern)||e.getReplaceRegExp().test(n.systemId))return!0;return!1}}]);
//# sourceMappingURL=extension.js.map